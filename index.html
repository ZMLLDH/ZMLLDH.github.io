<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>木子的学习博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="木子的学习博客">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="木子的学习博客">
<meta property="og:locale">
<meta property="article:author" content="XiaoLi">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="木子的学习博客" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.1.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">木子的学习博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Suche"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Suche"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-linux/发送消息" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/29/linux/%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF/" class="article-date">
  <time class="dt-published" datetime="2024-03-28T16:00:00.000Z" itemprop="datePublished">2024-03-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/29/linux/%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF/">发送消息</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>可以使用Linux自带的mesg和write工具，向其他用户发送消息<br>需求：实现向一个用户快速发送消息的脚本，输入用户名作为第一个参数，后面直接跟着要发送的信息。脚本需要检测用户是否登录在系统中，是否打开消息功能，以及发送消息是否为空<br>最后结果如下<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697188432391-e2769a86-ed21-4f2c-918a-c49c1d40aeb5.png#averageHue=%23e5e5e2&clientId=u99dc60eb-8df0-4&from=paste&height=720&id=u243e1053&originHeight=1080&originWidth=1920&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=409220&status=done&style=none&taskId=u8184ef89-e40c-45e0-b9a5-a24f314cc42&title=&width=1280" alt="image.png"><br>依据需求，我们很简单的可以总结出以下流程</p>
<ol>
<li>确认参数，第一个为用户，后面的为要发送的信息<ol>
<li>检查用户参数是否为空</li>
<li>检查消息参数是否为空</li>
</ol>
</li>
<li>检查用户是否开启消息接受</li>
<li>利用write把消息发送到目标用户</li>
</ol>
<p>我们先来看看一些关键的操作</p>
<ol>
<li>who -T		查看谁在线，谁打开的消息<ol>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697188715567-d3a11cb6-ff68-4df2-bd84-90e7990b0b22.png#averageHue=%23fefefe&clientId=u99dc60eb-8df0-4&from=paste&height=53&id=ubff1dc8f&originHeight=80&originWidth=426&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=7766&status=done&style=none&taskId=uc86b6b24-c1a4-473b-ad0d-47878d43dec&title=&width=284" alt="image.png"></li>
<li>第一列用户名，第二列是否打开消息，+为打开</li>
<li>第三列就是使用的pts，我们发送消息需要用到它</li>
</ol>
</li>
<li>write<ol>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697188848038-ecb5cd7a-a1e3-41c4-8bec-8805b0685ad8.png#averageHue=%23fefefe&clientId=u99dc60eb-8df0-4&from=paste&height=109&id=u7a5407f6&originHeight=164&originWidth=523&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=14406&status=done&style=none&taskId=u7eef751c-cbcb-4ea8-b0f5-138556486aa&title=&width=348.6666666666667" alt="image.png"></li>
<li>由此测试一下，发现没有问题，找到用户名和pts，echo消息灌进去即可</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697188926898-86bfca01-bb1f-479b-82b8-17ab9ff8e002.png#averageHue=%23fcfcfb&clientId=u99dc60eb-8df0-4&from=paste&height=352&id=udcac165f&originHeight=528&originWidth=1559&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=130168&status=done&style=none&taskId=u74f1c0ec-ee5c-45ce-9e23-b14e70c4122&title=&width=1039.3333333333333" alt="image.png"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看用户是否登陆</span></span><br><span class="line">login_user=$(who | grep -i -m 1 $1 | awk &#x27;&#123;print$1&#125;&#x27;)</span><br><span class="line">echo he=$login_user</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-z表示判断字符串是否为空</span></span><br><span class="line">if [ -z $login_user ]</span><br><span class="line">then</span><br><span class="line">  echo &quot;not online&quot;</span><br><span class="line">  echo exit</span><br><span class="line">  exit</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">判断用户是否打开了消息</span></span><br><span class="line">open_msg=$(who -T | awk -F &quot; &quot; &#x27;/pts\/1/&#123;print $2&#125;&#x27;)</span><br><span class="line">echo $open_msg</span><br><span class="line">if [ $open_msg != &#x27;+&#x27; ]</span><br><span class="line">then</span><br><span class="line">  echo &quot;he isn&#x27;t online&quot;</span><br><span class="line">  exit</span><br><span class="line">else</span><br><span class="line">  echo &quot;he is online&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看参数中是否有消息</span></span><br><span class="line">if [ -z $2 ]</span><br><span class="line">then</span><br><span class="line">  echo &quot;not msg&quot;</span><br><span class="line">  echo exit</span><br><span class="line">  exit</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">从参数中获取消息</span></span><br><span class="line">msg=$(echo $* | cut -d &quot; &quot; -f 2-)</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">echo</span> msg=<span class="variable">$msg</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">user_me=$(<span class="built_in">who</span> | grep -i -m 1 <span class="variable">$1</span> | awk <span class="string">&#x27;&#123;print$1 $2&#125;&#x27;</span>)</span></span><br><span class="line">user_me=$(who -T | awk -F &quot; &quot; &#x27;/pts\/1/&#123;print $1&quot; &quot;$3&#125;&#x27;)</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">echo</span> user_me=<span class="variable">$user_me</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">who</span> am i</span></span><br><span class="line">echo $msg | write $user_me</span><br><span class="line">echo $?</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/03/29/linux/%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF/" data-id="cluc2gj2o0009ac6zezfvd9cq" data-title="发送消息" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-linux/按时归档文件" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/29/linux/%E6%8C%89%E6%97%B6%E5%BD%92%E6%A1%A3%E6%96%87%E4%BB%B6/" class="article-date">
  <time class="dt-published" datetime="2024-03-28T16:00:00.000Z" itemprop="datePublished">2024-03-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/29/linux/%E6%8C%89%E6%97%B6%E5%BD%92%E6%A1%A3%E6%96%87%E4%BB%B6/">安置归档文件</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">判断输入参数个数</span></span><br><span class="line">if [ $# -ne 1 ]</span><br><span class="line">then</span><br><span class="line">  echo &quot;The number of parameters is wrong, one parameter should be entered&quot;</span><br><span class="line">  exit</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">从参数中获取目录名称</span></span><br><span class="line">if [ -d $1 ]</span><br><span class="line">then</span><br><span class="line">  echo</span><br><span class="line">else</span><br><span class="line">  echo &quot;it does not exist&quot;</span><br><span class="line">  exit</span><br><span class="line">fi</span><br><span class="line">DIR_NAME=$(basename $1)</span><br><span class="line">DIR_PATH=$(cd $(dirname $1);pwd)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取当前日期</span></span><br><span class="line"></span><br><span class="line">DIR_PATH=$(cd $(dirname $1);pwd)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取当前日期</span></span><br><span class="line">DATE=$(date +%y%m%d)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">定义生成的归档文件名称</span></span><br><span class="line">FILE=archive_$&#123;DIR_NAME&#125;_$DATE.tar.gz</span><br><span class="line">DEST=/root/archive/$FILE</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">开始归档</span></span><br><span class="line">tar -czf $DEST $DIR_PATH/$DIR_NAME</span><br><span class="line"></span><br><span class="line">if [ $? -eq 0 ]</span><br><span class="line">then</span><br><span class="line">  echo successful</span><br><span class="line">else</span><br><span class="line">  echo error!</span><br><span class="line">fi</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>
<p>然后就是添加权限，创建archive文件夹，通过crontab设置定时任务</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/03/29/linux/%E6%8C%89%E6%97%B6%E5%BD%92%E6%A1%A3%E6%96%87%E4%BB%B6/" data-id="cluc2gj2p000bac6zf5ider8h" data-title="安置归档文件" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-JavaScript/JavaScriptStudy" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/28/JavaScript/JavaScriptStudy/" class="article-date">
  <time class="dt-published" datetime="2024-03-27T16:00:00.000Z" itemprop="datePublished">2024-03-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/28/JavaScript/JavaScriptStudy/">JavaScriptStudy</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h3><h4 id="script-标签"><a href="#script-标签" class="headerlink" title="&lt; script&gt;标签"></a>&lt; script&gt;标签</h4><p>如果在HTML页面里面使用JavaScript，需要把代码用这个标签包含起来</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="string">&quot;hello&quot;</span>);  </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>可以在HTML文档里面放入不限数量的脚本，可以存在于head与body中，也可以放在页面底部<br>如果要引入外面的javascript文件，需要使用src属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;myScript.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h4 id="脚本语言"><a href="#脚本语言" class="headerlink" title="脚本语言"></a>脚本语言</h4><p>脚本script是使用一种特定的描述性语言，依据一定的格式编写的可执行文件，又称作宏或批处理文件。<br>脚本通常可以由应用程序临时调用并执行。<br>各类脚本目前被广泛地应用于网页设计中，因为脚本不仅可以减小网页的规模和提高网页浏览速度，而且可以丰富网页的表现，如动画、声音等。<br>javascript 不需要编译，又符合脚本程序语言的特性，以在客户端浏览器上执行，所以被叫做脚本语言</p>
<h4 id="JavaScript显示数据"><a href="#JavaScript显示数据" class="headerlink" title="JavaScript显示数据"></a>JavaScript显示数据</h4><ul>
<li>使用 window.alert() 弹出警告框。</li>
<li>使用 document.write() 方法将内容写到 HTML 文档中。</li>
<li>使用 innerHTML 写入到 HTML 元素。</li>
<li>使用 console.log() 写入到浏览器的控制台。</li>
</ul>
<h4 id="JavaScript变量"><a href="#JavaScript变量" class="headerlink" title="JavaScript变量"></a>JavaScript变量</h4><h5 id="定义变量"><a href="#定义变量" class="headerlink" title="定义变量"></a>定义变量</h5><table>
<thead>
<tr>
<th>var</th>
<th>let</th>
<th>const</th>
</tr>
</thead>
<tbody><tr>
<td>存在变量提升<br></td>
<td>不存在变量提升</td>
<td>不存在变量提升</td>
</tr>
<tr>
<td>代码块外部可调用</td>
<td>存在块级作用域</td>
<td>存在块级作用域</td>
</tr>
<tr>
<td></td>
<td></td>
<td>赋值后值不可改变</td>
</tr>
<tr>
<td>在 ECMAScript6 之前，JS 引擎用 var 关键字声明变量。在 var 时代，<strong>不管变量声明是写在哪里，最后都会被提到作用域的顶端。</strong> <strong>ES6 之前是不支持块级作用域的</strong>，没有块级作用域，将作用域内部的变量统一提升无疑是最快速、最简单的设计</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>使用关键字var来定义变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x, length</span><br><span class="line">x = <span class="number">5</span></span><br><span class="line">length = <span class="number">6</span></span><br></pre></td></tr></table></figure>
<p>命名规则：</p>
<ul>
<li>变量必须以字母开头</li>
<li>变量也能以 $ 和 _ 符号开头（不过我们不推荐这么做）</li>
<li>变量名称对大小写敏感（y 和 Y 是不同的变量）</li>
<li>不允许使用关键字进行定义</li>
</ul>
<p>定义变量时如果未赋值，其值为undefined<br>重新声明变量，它的值不会改变</p>
<h5 id="赋值"><a href="#赋值" class="headerlink" title="赋值"></a>赋值</h5><p>var length &#x3D; 16;                                  &#x2F;&#x2F; Number 通过数字字面量赋值<br>var points &#x3D; x * 10;                              &#x2F;&#x2F; Number 通过表达式字面量赋值<br>var lastName &#x3D; “Johnson”;                         &#x2F;&#x2F; String 通过字符串字面量赋值<br>var cars &#x3D; [“Saab”, “Volvo”, “BMW”];              &#x2F;&#x2F; Array  通过数组字面量赋值<br>var person &#x3D; {firstName:”John”, lastName:”Doe”};  &#x2F;&#x2F; Object 通过对象字面量赋值</p>
<h5 id="注释——-、"><a href="#注释——-、" class="headerlink" title="注释——&#x2F;&#x2F;、&#x2F;* *&#x2F;"></a>注释——&#x2F;&#x2F;、&#x2F;* *&#x2F;</h5><h5 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h5><p>值类型(基本类型)：字符串（String）、数字(Number)、布尔(Boolean)、空（Null）、未定义（Undefined）、Symbol（Symbol 是 ES6 引入了一种新的原始数据类型，表示独一无二的值。）。</p>
<p>引用数据类型（对象类型）：对象(Object)、数组(Array)、函数(Function)，还有两个特殊的对象：正则（RegExp）和日期（Date）</p>
<h6 id="number-NaN与Infinity"><a href="#number-NaN与Infinity" class="headerlink" title="number-NaN与Infinity"></a>number-NaN与Infinity</h6><p>NaN是一个数值，表示一个不能产生正常计算结果的运算结果，NaN不等于任何值，包括它自己。</p>
<blockquote>
<p>typeof NaN<br>‘number’<br>NaN &#x3D;&#x3D; NaN<br>false<br>NaN !&#x3D;&#x3D; NaN<br>true</p>
</blockquote>
<p>可以用isNaN( number ) 来检测 NaN</p>
<blockquote>
<p>isNaN(NaN)<br>true<br>isNaN会隐式的将入参转换成数字，如果不能转换成数字(不能转数字的字符串，{}，[] 等)，那么也会返回NaN</p>
</blockquote>
<blockquote>
<p>Number(‘ABC’)<br>NaN<br>isNaN(‘ABC’)<br>true<br>可以利用NaN的特性 x !&#x3D;&#x3D; x 来判断NaN，避免上述隐式转换的问题。</p>
</blockquote>
<p>function myIsNaN(x) {<br>    return x !&#x3D;&#x3D; x;<br>}<br>Infinity<br>用0做除数会产生一个特殊值Infinity(无穷大)。</p>
<blockquote>
<p>3&#x2F;0<br>Infinity<br>正负无穷运算：无法得到运算结果</p>
</blockquote>
<blockquote>
<p>Infinity - Infinity<br>NaN<br>比正无穷大的，还是正无穷</p>
</blockquote>
<blockquote>
<p>Infinity + Infinity<br>Infinity<br>4 * Infinity<br>Infinity</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">1.NaN和Infinity都属于数值。</span><br><span class="line"></span><br><span class="line">2.规则</span><br><span class="line"></span><br><span class="line">0 / 0 // NaN</span><br><span class="line">NaN === NaN // false</span><br><span class="line">Boolean(NaN) // false</span><br><span class="line">[NaN].indexOf(NaN) // -1</span><br><span class="line">3.NaN与任何数（包括它自己）的运算，得到的都是NaN。</span><br><span class="line"></span><br><span class="line">4.Infinity两种情况：</span><br><span class="line">一个数的绝对值太大，超过范围时，显示Infinity</span><br><span class="line">非0数值除以0，得到Infinity</span><br><span class="line">5.Infinity表示正的无穷，-Infinity表示负的无穷。</span><br><span class="line"></span><br><span class="line">0 / 0 // NaN</span><br><span class="line">1 / 0 // Infinity</span><br><span class="line">Infinity === -Infinity // false</span><br><span class="line">1 / -0 // -Infinity</span><br><span class="line">-1 / -0 // Infinity</span><br><span class="line">6.Infinity与NaN比较，总是返回false。</span><br><span class="line"></span><br><span class="line">Infinity &gt; NaN // false</span><br><span class="line">-Infinity &gt; NaN // false</span><br><span class="line">Infinity &lt; NaN // false</span><br><span class="line">-Infinity &lt; NaN // false</span><br><span class="line">7.Infinity的四则运算，符合无穷的数学计算规则。</span><br><span class="line"></span><br><span class="line">5 * Infinity // Infinity</span><br><span class="line">5 - Infinity // -Infinity</span><br><span class="line">Infinity / 5 // Infinity</span><br><span class="line">5 / Infinity // 0</span><br><span class="line">8.特殊计算</span><br><span class="line"></span><br><span class="line">0 * Infinity // NaN</span><br><span class="line">0 / Infinity // 0</span><br><span class="line">Infinity / 0 // Infinity</span><br><span class="line">Infinity - Infinity // NaN</span><br><span class="line">Infinity / Infinity // NaN</span><br><span class="line">9.Infinity与null计算时，null会转成0，等同于与0的计算。</span><br><span class="line"></span><br><span class="line">10.Infinity与undefined计算，返回的都是NaN。</span><br><span class="line">                    </span><br><span class="line">原文链接：https://blog.csdn.net/qq_39342118/article/details/110100662</span><br></pre></td></tr></table></figure>
<h6 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h6><ul>
<li><p>数字转为字符串</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">String</span>(x)         <span class="comment">// 将变量 x 转换为字符串并返回</span></span><br><span class="line"><span class="title class_">String</span>(<span class="number">123</span>)       <span class="comment">// 将数字 123 转换为字符串并返回</span></span><br><span class="line"><span class="title class_">String</span>(<span class="number">100</span> + <span class="number">23</span>)  <span class="comment">// 将数字表达式转换为字符串并返回</span></span><br><span class="line"></span><br><span class="line">x.<span class="title function_">toString</span>()</span><br><span class="line">(<span class="number">123</span>).<span class="title function_">toString</span>()</span><br><span class="line">(<span class="number">100</span> + <span class="number">23</span>).<span class="title function_">toString</span>()</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1688948264263-b1077e5f-df17-471a-ab89-aae2da095531.png#averageHue=%23dcdad8&clientId=ua2b67d39-2a76-4&from=paste&height=160&id=u5ff6d607&originHeight=216&originWidth=822&originalType=binary&ratio=1.3499999046325684&rotation=0&showTitle=false&size=22845&status=done&style=none&taskId=u4b3098f2-90b9-4821-9eac-6c2884e1ab3&title=&width=608.8889319023508" alt="image.png"></p>
</li>
<li><p>将布尔值转为字符串</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">String</span>(<span class="literal">false</span>)        <span class="comment">// 返回 &quot;false&quot;</span></span><br><span class="line"><span class="title class_">String</span>(<span class="literal">true</span>)         <span class="comment">// 返回 &quot;true&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="literal">false</span>.<span class="title function_">toString</span>()     <span class="comment">// 返回 &quot;false&quot;</span></span><br><span class="line"><span class="literal">true</span>.<span class="title function_">toString</span>()      <span class="comment">// 返回 &quot;true&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>将日期转换为字符串</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Date</span>()      </span><br><span class="line"><span class="comment">// 返回 Thu Jul 17 2014 15:38:19 GMT+0200 (W. Europe Daylight Time)</span></span><br><span class="line"><span class="comment">// 全局方法 String() 可以将日期对象转换为字符串。</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">String</span>(<span class="keyword">new</span> <span class="title class_">Date</span>())     </span><br><span class="line"><span class="comment">// 返回 Thu Jul 17 2014 15:38:19 GMT+0200 (W. Europe Daylight Time)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>将字符串，布尔值等等类型转换为数字</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//字符串转为数字</span></span><br><span class="line"><span class="title class_">Number</span>(<span class="string">&quot;3.14&quot;</span>)    <span class="comment">// 返回 3.14</span></span><br><span class="line"><span class="title class_">Number</span>(<span class="string">&quot; &quot;</span>)       <span class="comment">// 返回 0</span></span><br><span class="line"><span class="title class_">Number</span>(<span class="string">&quot;&quot;</span>)        <span class="comment">// 返回 0</span></span><br><span class="line"><span class="title class_">Number</span>(<span class="string">&quot;99 88&quot;</span>)   <span class="comment">// 返回 NaN</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">parseFloat</span>()	<span class="comment">//解析一个字符串，并返回一个浮点数。</span></span><br><span class="line"><span class="built_in">parseInt</span>()		<span class="comment">//解析一个字符串，并返回一个整数。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 用一元运算符+</span></span><br><span class="line"><span class="keyword">var</span> y = <span class="string">&quot;5&quot;</span>;      <span class="comment">// y 是一个字符串</span></span><br><span class="line"><span class="keyword">var</span> x = + y;      <span class="comment">// x 是一个数字</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> y = <span class="string">&quot;John&quot;</span>;   <span class="comment">// y 是一个字符串</span></span><br><span class="line"><span class="keyword">var</span> x = + y;      <span class="comment">// x 是一个数字 (NaN)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//将布尔值转换为数字</span></span><br><span class="line"><span class="title class_">Number</span>(<span class="literal">false</span>)     <span class="comment">// 返回 0</span></span><br><span class="line"><span class="title class_">Number</span>(<span class="literal">true</span>)      <span class="comment">// 返回 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//将日期转换为数字</span></span><br><span class="line">d = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="title class_">Number</span>(d)          <span class="comment">// 返回 1404568027739</span></span><br><span class="line"></span><br><span class="line">d = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">d.<span class="title function_">getTime</span>()        <span class="comment">// 返回 1404568027739</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a1=<span class="number">5</span> + <span class="literal">null</span>    <span class="comment">// 返回 5         null 转换为 0</span></span><br><span class="line"><span class="keyword">var</span> a2=<span class="string">&quot;5&quot;</span> + <span class="literal">null</span>  <span class="comment">// 返回&quot;5null&quot;   null 转换为 &quot;null&quot;</span></span><br><span class="line"><span class="keyword">var</span> a3=<span class="string">&quot;5&quot;</span> + <span class="number">1</span>     <span class="comment">// 返回 &quot;51&quot;      1 转换为 &quot;1&quot; </span></span><br><span class="line"><span class="keyword">var</span> a4=<span class="string">&quot;5&quot;</span> - <span class="number">1</span>     <span class="comment">// 返回 4         &quot;5&quot; 转换为 5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a1);   <span class="comment">// 5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a2);   <span class="comment">// 5null</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a3);   <span class="comment">// 51</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a4);   <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1688971386488-307777ec-6f19-4a49-8995-4d35d526356b.png#averageHue=%23f5f3f1&clientId=ua2b67d39-2a76-4&from=paste&height=478&id=ua09ec13a&originHeight=645&originWidth=336&originalType=binary&ratio=1.3499999046325684&rotation=0&showTitle=false&size=22891&status=done&style=none&taskId=u512932ea-e1e0-4f30-9472-9f044091f55&title=&width=248.88890647103392" alt="image.png"></p>
</li>
</ul>
<h5 id="具备动态的数据类型"><a href="#具备动态的数据类型" class="headerlink" title="具备动态的数据类型"></a>具备动态的数据类型</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x;               <span class="comment">// x 为 undefined</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">5</span>;           <span class="comment">// 现在 x 为数字</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="string">&quot;John&quot;</span>;      <span class="comment">// 现在 x 为字符串</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以通过typeof操作符来查看当前变量的类型</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">&quot;John&quot;</span>                <span class="comment">// 返回 string</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">3.14</span>                  <span class="comment">// 返回 number</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">false</span>                 <span class="comment">// 返回 boolean</span></span><br><span class="line"><span class="keyword">typeof</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]             <span class="comment">// 返回 object</span></span><br><span class="line"><span class="keyword">typeof</span> &#123;<span class="attr">name</span>:<span class="string">&#x27;John&#x27;</span>, <span class="attr">age</span>:<span class="number">34</span>&#125; <span class="comment">// 返回 object</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span>									 <span class="comment">// 返回 object</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = <span class="literal">undefined</span>;     <span class="comment">// 值为 undefined, 类型为 undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//null与undefined————值相等，类型不等</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span>             <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span>                  <span class="comment">// object</span></span><br><span class="line"><span class="literal">null</span> === <span class="literal">undefined</span>           <span class="comment">// false</span></span><br><span class="line"><span class="literal">null</span> == <span class="literal">undefined</span>            <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//另外，javascript中数字也可以用科学计数法来表示(极大的或极小的)</span></span><br><span class="line"><span class="keyword">var</span> y=<span class="number">123e5</span>;      <span class="comment">// 12300000</span></span><br><span class="line"><span class="keyword">var</span> z=<span class="number">123e-5</span>;     <span class="comment">// 0.00123</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建数组</span></span><br><span class="line"><span class="keyword">var</span> cars=<span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line">cars[<span class="number">0</span>]=<span class="string">&quot;Saab&quot;</span>;</span><br><span class="line">cars[<span class="number">1</span>]=<span class="string">&quot;Volvo&quot;</span>;</span><br><span class="line">cars[<span class="number">2</span>]=<span class="string">&quot;BMW&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cars=<span class="keyword">new</span> <span class="title class_">Array</span>(<span class="string">&quot;Saab&quot;</span>,<span class="string">&quot;Volvo&quot;</span>,<span class="string">&quot;BMW&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cars=[<span class="string">&quot;Saab&quot;</span>,<span class="string">&quot;Volvo&quot;</span>,<span class="string">&quot;BMW&quot;</span>];</span><br><span class="line">		<span class="comment">//数组基于下标寻址</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建对象</span></span><br><span class="line"><span class="keyword">var</span> person=&#123;<span class="attr">firstname</span>:<span class="string">&quot;John&quot;</span>, <span class="attr">lastname</span>:<span class="string">&quot;Doe&quot;</span>, <span class="attr">id</span>:<span class="number">5566</span>&#125;;</span><br><span class="line"><span class="comment">//对象由花括号分隔。在括号内部，对象的属性以名称和值对的形式 (name : value) 来定义。属性由逗号分隔</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person=&#123;</span><br><span class="line">firstname : <span class="string">&quot;John&quot;</span>,</span><br><span class="line">lastname  : <span class="string">&quot;Doe&quot;</span>,</span><br><span class="line">id        :  <span class="number">5566</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象里面的属性也可以包含方法</span></span><br><span class="line">methodName : <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 代码 </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">访问：objectName.<span class="title function_">methodName</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//对象寻址方式</span></span><br><span class="line">name=person.<span class="property">lastname</span>;</span><br><span class="line">name=person[<span class="string">&quot;lastname&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//字符串——单引号双引号都行</span></span><br><span class="line"><span class="keyword">var</span> carname = <span class="string">&quot;Volvo XC60&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> carname = <span class="string">&#x27;Volvo XC60&#x27;</span>;</span><br><span class="line"><span class="comment">// 可以使用索引来找到字符串单个字符</span></span><br><span class="line"><span class="keyword">var</span> character = carname[<span class="number">7</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//在字符串里面使用引号需要在前面加上转义字符\</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="string">&#x27;It\&#x27;s alright&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> y = <span class="string">&quot;He is called \&quot;Johnny\&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 常用length获取字符串长度</span></span><br><span class="line"><span class="keyword">var</span> txt = <span class="string">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> sln = txt.<span class="property">length</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>有一些字符串常用的方法：<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1688913136669-963ea38e-6bc4-4c9c-8c65-179add2b47dc.png#averageHue=%23f0eeeb&clientId=ua2b67d39-2a76-4&from=paste&height=521&id=u8dcb6a8a&originHeight=703&originWidth=636&originalType=binary&ratio=1.3499999046325684&rotation=0&showTitle=false&size=63917&status=done&style=none&taskId=u2d2b4935-2645-428d-9955-e25ac9fdf21&title=&width=471.1111443915999" alt="image.png"></p>
<h5 id="JavaScript模板字符串"><a href="#JavaScript模板字符串" class="headerlink" title="JavaScript模板字符串"></a>JavaScript模板字符串</h5><p>使用&#96;&#96;反引号来分隔</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name=<span class="string">&quot;ldh&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> age=<span class="string">&quot;12&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> sex=<span class="string">&quot;man&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> me=name+<span class="string">&#x27;已经&#x27;</span>+age+<span class="string">&#x27;了，是&#x27;</span>+sex+<span class="string">&#x27;，喜欢&#x27;</span>+gethobby;</span><br><span class="line"><span class="comment">//采用模板字符串</span></span><br><span class="line"><span class="keyword">const</span> me=<span class="string">`<span class="subst">$&#123;name&#125;</span>已经<span class="subst">$&#123;age&#125;</span>了，是<span class="subst">$&#123;sex===<span class="string">&#x27;man&#x27;</span>?<span class="string">&#x27;m&#x27;</span>:<span class="string">&#x27;n&#x27;</span>&#125;</span>，喜欢<span class="subst">$&#123;gethobby()&#125;</span>`</span>;</span><br><span class="line"><span class="comment">// 若要转义模板字面量中的反引号（`），需在反引号之前加一个反斜杠（\）</span></span><br><span class="line"><span class="comment">// 例</span></span><br><span class="line"><span class="keyword">let</span> price = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable constant_">VAT</span> = <span class="number">0.25</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> total = <span class="string">`Total: <span class="subst">$&#123;(price * (<span class="number">1</span> + VAT)).toFixed(<span class="number">2</span>)&#125;</span>`</span>;</span><br></pre></td></tr></table></figure>

<h5 id="JavaScript-使用-Unicode-字符集。"><a href="#JavaScript-使用-Unicode-字符集。" class="headerlink" title="JavaScript 使用 Unicode 字符集。"></a>JavaScript 使用 Unicode 字符集。</h5><h5 id="语句用分号；隔开"><a href="#语句用分号；隔开" class="headerlink" title="语句用分号；隔开"></a>语句用分号；隔开</h5><h5 id="对代码进行换行"><a href="#对代码进行换行" class="headerlink" title="对代码进行换行"></a>对代码进行换行</h5><p>在文本字符串中，可以使用反斜杠对代码行进行换行</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&quot;你好 \</span></span><br><span class="line"><span class="string">世界!&quot;</span>);</span><br></pre></td></tr></table></figure>
<h5 id="变量的生存期"><a href="#变量的生存期" class="headerlink" title="变量的生存期"></a>变量的生存期</h5><p>JavaScript 变量的生命期从它们被声明的时间开始。<br>局部变量会在函数运行以后被删除。<br>全局变量会在页面关闭后被删除。<br>在函数外声明的变量是全局变量，网页上的所有脚本和函数都能访问它</p>
<h5 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h5><p>综合生命周期学习，活着即可作用</p>
<h5 id="声明提升"><a href="#声明提升" class="headerlink" title="声明提升"></a>声明提升</h5><p>JavaScript在运行代码时，会先把所有的声明语句提升到最顶上，这代表着，一个变量不一定要先声明再使用，函数声明也是<br>但是注意，只是声明提升到最顶部，如果这个声明还附带赋初值，这个赋值语句不会提升<br>所以一个良好的习惯是在作用域前声明好所有的变量与函数</p>
<h5 id="严格模式声明"><a href="#严格模式声明" class="headerlink" title="严格模式声明"></a>严格模式声明</h5><p>严格模式通过在脚本或函数的头部添加 use strict; 表达式来声明。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line">x = <span class="number">3.14</span>;       <span class="comment">// 报错 (x 未定义)</span></span><br><span class="line"><span class="keyword">var</span> x1 = <span class="number">3.14</span>;</span><br><span class="line"><span class="keyword">delete</span> x1;                <span class="comment">// 报错，不允许删除对象</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">x</span>(<span class="params">p1, p1</span>) &#123;&#125;;   <span class="comment">// 报错不允许变量重名</span></span><br><span class="line"><span class="comment">// 还有不允许用八进制，不能用arguments等等</span></span><br></pre></td></tr></table></figure>

<ul>
<li>消除代码运行的一些不安全之处，保证代码运行的安全；</li>
<li>提高编译器效率，增加运行速度；</li>
<li>为未来新版本的Javascript做好铺垫。</li>
</ul>
<p>“严格模式”体现了Javascript更合理、更安全、更严谨的发展方向，包括IE 10在内的主流浏览器，都已经支持它，许多大项目已经开始全面拥抱它。<br>另一方面，同样的代码，在”严格模式”中，可能会有不一样的运行结果；一些在”正常模式”下可以运行的语句，在”严格模式”下将不能运行。掌握这些内容，有助于更细致深入地理解Javascript<br>**	“use strict” 指令只允许出现在脚本或函数的开头。**</p>
<h4 id="JavaScript函数"><a href="#JavaScript函数" class="headerlink" title="JavaScript函数"></a>JavaScript函数</h4><p>关键词：function</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数就是包裹在花括号中的代码块，前面使用了关键词 function：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">functionname</span>(<span class="params"></span>)<span class="comment">//括号里面可以是任意多的参数，但是在函数声明时，要把参数当作变量</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 执行代码</span></span><br><span class="line">    <span class="keyword">return</span> x;<span class="comment">//无返回值可以不写，有返回值可以在访问函数是用变量保存</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//变量和参数必须以一致的顺序出现。第一个变量就是第一个被传递的参数的给定的值</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="JavaScript运算符"><a href="#JavaScript运算符" class="headerlink" title="JavaScript运算符"></a>JavaScript运算符</h4><h5 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h5><p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1688945972005-7e692c6b-c176-475f-907e-1be9d81b30e0.png#averageHue=%23f1f0ee&clientId=ua2b67d39-2a76-4&from=paste&height=467&id=ucddffaf4&originHeight=631&originWidth=710&originalType=binary&ratio=1.3499999046325684&rotation=0&showTitle=false&size=33813&status=done&style=none&taskId=u9874befb-d821-41ce-9f47-3869d28cd8f&title=&width=525.9259630786728" alt="image.png"></p>
<h5 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h5><p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1688945997943-60b2f94a-5a44-4890-aa5f-6b5e34206c03.png#averageHue=%23edecea&clientId=ua2b67d39-2a76-4&from=paste&height=323&id=ue06fafb3&originHeight=436&originWidth=695&originalType=binary&ratio=1.3499999046325684&rotation=0&showTitle=false&size=20373&status=done&style=none&taskId=ud82387a9-f5ea-482b-a6af-39b4c9a6ce9&title=&width=514.8148511826446" alt="image.png"></p>
<h5 id="字符串-运算"><a href="#字符串-运算" class="headerlink" title="字符串+运算"></a>字符串+运算</h5><ul>
<li>运算符用于把文本值或字符串变量加起来（连接起来）<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">txt1=<span class="string">&quot;What a very&quot;</span>;</span><br><span class="line">txt2=<span class="string">&quot;nice day&quot;</span>;</span><br><span class="line">txt3=txt1+txt2;</span><br><span class="line"></span><br><span class="line"><span class="comment">// txt3 运算结果如下:</span></span><br><span class="line"><span class="title class_">What</span> a verynice day</span><br><span class="line"><span class="comment">// 数字之类的会转换为字符串</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h5><p>x&#x3D;5<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1688946167817-10f24df5-c193-491d-8a79-a42522ad281f.png#averageHue=%23f0efec&clientId=ua2b67d39-2a76-4&from=paste&height=564&id=u3b371ccd&originHeight=761&originWidth=696&originalType=binary&ratio=1.3499999046325684&rotation=0&showTitle=false&size=40326&status=done&style=none&taskId=u46b106f5-7ae0-44ce-8394-22b906afdd6&title=&width=515.5555919757131" alt="image.png"></p>
<h5 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h5><p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1688946211443-add771cb-eb7a-45e5-95f3-829ff19c87d4.png#averageHue=%23dfdedc&clientId=ua2b67d39-2a76-4&from=paste&height=154&id=u5e503c4f&originHeight=208&originWidth=827&originalType=binary&ratio=1.3499999046325684&rotation=0&showTitle=false&size=16963&status=done&style=none&taskId=u66512cef-2cc2-4457-9e9f-47698d38e1e&title=&width=612.5926358676936" alt="image.png"></p>
<h4 id="控制语句"><a href="#控制语句" class="headerlink" title="控制语句"></a>控制语句</h4><h5 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h5><p>if 语句 - 只有当指定条件为 true 时，使用该语句来执行代码<br>if…else 语句 - 当条件为 true 时执行代码，当条件为 false 时执行其他代码<br>if…else if….else 语句- 使用该语句来选择多个代码块之一来执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if (_condition1_)  &#123;_当条件 1 为 true 时执行的代码_  &#125;  </span><br><span class="line">else if (_condition2_)  &#123; </span><br><span class="line">    _当条件 2 为 true 时执行的代码_  &#125;  </span><br><span class="line">else  &#123;  _当条件 1 和 条件 2 都不为 true 时执行的代码_ &#125;</span><br></pre></td></tr></table></figure>
<p>switch 语句 - 使用该语句来选择多个代码块之一来执行</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d=<span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getDay</span>();</span><br><span class="line"><span class="keyword">switch</span> (d)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span>:x=<span class="string">&quot;今天是星期六&quot;</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span>:x=<span class="string">&quot;今天是星期日&quot;</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">    x=<span class="string">&quot;期待周末&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h5><ul>
<li><strong>for</strong> - 循环代码块一定的次数</li>
<li><strong>for&#x2F;in</strong> - 循环遍历对象的属性</li>
<li><strong>while</strong> - 当指定的条件为 true 时循环指定的代码块</li>
<li><strong>do&#x2F;while</strong> - 同样当指定的条件为 true 时循环指定的代码块<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">      x=x + <span class="string">&quot;该数字为 &quot;</span> + i + <span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person=&#123;<span class="attr">fname</span>:<span class="string">&quot;Bill&quot;</span>,<span class="attr">lname</span>:<span class="string">&quot;Gates&quot;</span>,<span class="attr">age</span>:<span class="number">56</span>&#125;; </span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> (x <span class="keyword">in</span> person)  <span class="comment">// x 为属性名</span></span><br><span class="line">&#123;</span><br><span class="line">    txt=txt + person[x];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (i&lt;<span class="number">5</span>)</span><br><span class="line">&#123;</span><br><span class="line">    x=x + <span class="string">&quot;The number is &quot;</span> + i + <span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">    i++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line">    x=x + <span class="string">&quot;The number is &quot;</span> + i + <span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">    i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (i&lt;<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//利用break与continue对循环进行中断跳出与继续循环下一个迭代的操作</span></span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (i==<span class="number">3</span>) <span class="keyword">break</span>;</span><br><span class="line">    x=x + <span class="string">&quot;The number is &quot;</span> + i + <span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;=<span class="number">10</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (i==<span class="number">3</span>) <span class="keyword">continue</span>;</span><br><span class="line">    x=x + <span class="string">&quot;The number is &quot;</span> + i + <span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//用label对JavaScript语句进行标记</span></span><br><span class="line"><span class="keyword">break</span> labelname; </span><br><span class="line"><span class="keyword">continue</span> labelname;</span><br><span class="line"><span class="comment">// 一般来说，直接使用break&amp;continue没有跟标签，这是因为有默认标签</span></span><br><span class="line"><span class="comment">//默认标签一般是当前循环</span></span><br><span class="line"><span class="comment">// 借助JavaScript，我们可以控制多重循环</span></span><br><span class="line"><span class="attr">outerloop</span>:</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">innerloop</span>:</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (j &gt; <span class="number">3</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span> innerloop;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">4</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span> outerloop;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&quot;i=&quot;</span> + i + <span class="string">&quot; j=&quot;</span> + j + <span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="JavaScript正则表达式"><a href="#JavaScript正则表达式" class="headerlink" title="JavaScript正则表达式"></a>JavaScript正则表达式</h4><p>正则表达式是由一个字符序列形成的搜索模式。<br>&#x2F;正则表达式主体&#x2F;修饰符(可选)<br>例：var patt &#x3D; &#x2F;runoob&#x2F;i<br><strong>&#x2F;runoob&#x2F;i</strong>  是一个正则表达式。<br><strong>runoob</strong>  是一个<strong>正则表达式主体</strong> (用于检索)。<br><strong>i</strong>  是一个<strong>修饰符</strong> (搜索不区分大小写)。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//正则表达式常用两个字符串方法search和replace</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;Visit Runoob!&quot;</span>; </span><br><span class="line"><span class="keyword">var</span> n = str.<span class="title function_">search</span>(<span class="regexp">/Runoob/i</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">innerHTML</span>; </span><br><span class="line"><span class="keyword">var</span> txt = str.<span class="title function_">replace</span>(<span class="regexp">/microsoft/i</span>,<span class="string">&quot;Runoob&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 也可以直接使用字符串</span></span><br><span class="line"><span class="keyword">var</span> n = str.<span class="title function_">search</span>(<span class="string">&quot;Runoob&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> txt = str.<span class="title function_">replace</span>(<span class="string">&quot;Microsoft&quot;</span>,<span class="string">&quot;Runoob&quot;</span>);</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1688972465783-6dae2218-2a1f-4d4f-8ad0-973dbf097f96.png#averageHue=%23dfdedc&clientId=ua2b67d39-2a76-4&from=paste&height=159&id=uac6ce0bf&originHeight=214&originWidth=825&originalType=binary&ratio=1.3499999046325684&rotation=0&showTitle=false&size=15457&status=done&style=none&taskId=u00ef81d4-0480-468a-b5f0-6c507dfab10&title=&width=611.1111542815564" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1688972510913-cd532e14-ba79-4f47-9b0c-1ae6a2aa67fc.png#averageHue=%23e6e5e3&clientId=ua2b67d39-2a76-4&from=paste&height=253&id=u78f6aa66&originHeight=342&originWidth=835&originalType=binary&ratio=1.3499999046325684&rotation=0&showTitle=false&size=21402&status=done&style=none&taskId=u3f6b1cba-6f5b-4b2e-b880-9a6ff5ccda7&title=&width=618.518562212242" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1688972520704-fe622e39-bf28-457d-8a6d-19cbce04fcf1.png#averageHue=%23e4e3e2&clientId=ua2b67d39-2a76-4&from=paste&height=216&id=uc15366b7&originHeight=291&originWidth=830&originalType=binary&ratio=1.3499999046325684&rotation=0&showTitle=false&size=16270&status=done&style=none&taskId=u2389b00d-7cc2-48d3-a9f0-33c69f8c0af&title=&width=614.8148582468992" alt="image.png"></p>
<h4 id="JavaScript异常"><a href="#JavaScript异常" class="headerlink" title="JavaScript异常"></a>JavaScript异常</h4><p>try 语句测试代码块的错误。<br>catch 语句处理错误。<br>throw 语句创建自定义错误。<br>finally 语句在 try 和 catch 语句之后，无论是否有触发异常，该语句都会执行。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//基本语法</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    ...    <span class="comment">//异常的抛出</span></span><br><span class="line">&#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">    ...    <span class="comment">//异常的捕获与处理</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    ...    <span class="comment">//结束处理</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="JavaScript验证API"><a href="#JavaScript验证API" class="headerlink" title="JavaScript验证API"></a>JavaScript验证API</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1688980513412-d8a764cd-41bc-4457-8d81-d6b9fa4988e2.png#averageHue=%23e8e6e2&clientId=ua2b67d39-2a76-4&from=paste&height=383&id=u4381211b&originHeight=517&originWidth=829&originalType=binary&ratio=1.3499999046325684&rotation=0&showTitle=false&size=52496&status=done&style=none&taskId=u8287e003-f7f5-4a62-a362-9db2f4da910&title=&width=614.0741174538307" alt="image.png"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;input id=<span class="string">&quot;id1&quot;</span> type=<span class="string">&quot;number&quot;</span> min=<span class="string">&quot;100&quot;</span> max=<span class="string">&quot;300&quot;</span> required&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;myFunction()&quot;</span>&gt;</span>验证<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">var</span> inpObj = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;id1&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">if</span> (inpObj.<span class="title function_">checkValidity</span>() == <span class="literal">false</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">innerHTML</span> = inpObj.<span class="property">validationMessage</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1688980565180-a989d33a-9834-4507-a12a-4eebadfdf4d7.png#averageHue=%23e0dedd&clientId=ua2b67d39-2a76-4&from=paste&height=179&id=u795ca6c3&originHeight=241&originWidth=839&originalType=binary&ratio=1.3499999046325684&rotation=0&showTitle=false&size=21283&status=done&style=none&taskId=ufae03270-1308-4f9c-b9a7-b35cb52e7a0&title=&width=621.4815253845162" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1688980590548-8ca15fe0-0f1c-4131-b791-d955768eb697.png#averageHue=%23ebe9e6&clientId=ua2b67d39-2a76-4&from=paste&height=534&id=u9050e4d0&originHeight=721&originWidth=818&originalType=binary&ratio=1.3499999046325684&rotation=0&showTitle=false&size=83823&status=done&style=none&taskId=u6df15e6d-bf11-43ae-963c-1e74f5bf017&title=&width=605.9259687300766" alt="image.png"></p>
<h4 id="JavaScript-this"><a href="#JavaScript-this" class="headerlink" title="JavaScript this"></a>JavaScript this</h4><p>在 JavaScript 中 this 不是固定不变的，它会随着执行环境的改变而改变。</p>
<ul>
<li>在方法中，this 表示该方法所属的对象。</li>
<li>如果单独使用，this 表示全局对象。</li>
<li>在函数中，this 表示全局对象。</li>
<li>在函数中，在严格模式下，this 是未定义的(undefined)。</li>
<li>在事件中，this 表示接收事件的元素。</li>
<li>类似 call() 和 apply() 方法可以将 this 引用到任何对象。</li>
<li>严格模式下，单独使用this，this指向全局对象</li>
</ul>
<h5 id="显示函数绑定"><a href="#显示函数绑定" class="headerlink" title="显示函数绑定"></a>显示函数绑定</h5><p>在 JavaScript 中函数也是对象，对象则有方法，apply 和 call 就是函数对象的方法。这两个方法异常强大，他们允许切换 this 绑定的对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person1 = &#123;</span><br><span class="line">  <span class="attr">fullName</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person2 = &#123;</span><br><span class="line">  <span class="attr">firstName</span>:<span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&quot;Doe&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line">person1.<span class="property">fullName</span>.<span class="title function_">call</span>(person2);  <span class="comment">// 返回 &quot;John Doe&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="JavaScript-JSON"><a href="#JavaScript-JSON" class="headerlink" title="JavaScript JSON"></a>JavaScript JSON</h4><ul>
<li>JSON 英文全称 <strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otation</li>
<li>是一种轻量级的数据交换格式</li>
<li>JSON 使用 JavaScript 语法，但是 JSON 格式仅仅是一个文本。文本可以被任何编程语言读取及作为数据格式传递。</li>
<li>JSON 格式在语法上与创建 JavaScript 对象代码是相同的。所以 JavaScript 程序可以很容易的将 JSON 数据转换为 JavaScript 对象。</li>
</ul>
<h5 id="语法规则"><a href="#语法规则" class="headerlink" title="语法规则"></a>语法规则</h5><ul>
<li>数据为 键&#x2F;值 对。</li>
<li>数据由逗号分隔。</li>
<li>大括号保存对象</li>
<li>方括号保存数组<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&quot;sites&quot;</span>:[</span><br><span class="line">    &#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;Runoob&quot;</span>, <span class="string">&quot;url&quot;</span>:<span class="string">&quot;www.runoob.com&quot;</span>&#125;, </span><br><span class="line">    &#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;url&quot;</span>:<span class="string">&quot;www.google.com&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;Taobao&quot;</span>, <span class="string">&quot;url&quot;</span>:<span class="string">&quot;www.taobao.com&quot;</span>&#125;</span><br><span class="line">]&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="将json字符串转换为JavaScript对象"><a href="#将json字符串转换为JavaScript对象" class="headerlink" title="将json字符串转换为JavaScript对象"></a>将json字符串转换为JavaScript对象</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text = <span class="string">&#x27;&#123; &quot;sites&quot; : [&#x27;</span> +</span><br><span class="line"><span class="string">&#x27;&#123; &quot;name&quot;:&quot;Runoob&quot; , &quot;url&quot;:&quot;www.runoob.com&quot; &#125;,&#x27;</span> +</span><br><span class="line"><span class="string">&#x27;&#123; &quot;name&quot;:&quot;Google&quot; , &quot;url&quot;:&quot;www.google.com&quot; &#125;,&#x27;</span> +</span><br><span class="line"><span class="string">&#x27;&#123; &quot;name&quot;:&quot;Taobao&quot; , &quot;url&quot;:&quot;www.taobao.com&quot; &#125; ]&#125;&#x27;</span>;</span><br><span class="line"><span class="comment">//然后使用js内置函数json.parse()转换</span></span><br><span class="line">obj = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(text);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">innerHTML</span> = obj.<span class="property">sites</span>[<span class="number">1</span>].<span class="property">name</span> + <span class="string">&quot; &quot;</span> + obj.<span class="property">sites</span>[<span class="number">1</span>].<span class="property">url</span>;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1689067777071-8283408a-9992-49c3-94ca-51f5481d2670.png#averageHue=%23d4d3d0&clientId=ua2b67d39-2a76-4&from=paste&height=131&id=uc41a6910&originHeight=177&originWidth=839&originalType=binary&ratio=1.3499999046325684&rotation=0&showTitle=false&size=23635&status=done&style=none&taskId=ue15453d6-cfc7-4281-b94d-e3d8b8e44c2&title=&width=621.4815253845162" alt="image.png"></p>
<h4 id="javascript-void-0"><a href="#javascript-void-0" class="headerlink" title="javascript:void(0)"></a>javascript:void(0)</h4><p>javascript:void(0) 中最关键的是 void 关键字， void 是 JavaScript 中非常重要的关键字，该操作符指定要计算一个表达式但是不返回值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getValue</span>(<span class="params"></span>)&#123;</span><br><span class="line">   <span class="keyword">var</span> a,b,c;</span><br><span class="line">   a = <span class="keyword">void</span> ( b = <span class="number">5</span>, c = <span class="number">7</span> );</span><br><span class="line">   <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;a = &#x27;</span> + a + <span class="string">&#x27; b = &#x27;</span> + b +<span class="string">&#x27; c = &#x27;</span> + c );</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// a = undefined b = 5 c = 7</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//这样子这个链接点击后什么也不会发生</span></span><br><span class="line">&lt;a href=<span class="string">&quot;javascript:void(0)&quot;</span>&gt;单击此处什么也不会发生&lt;/a&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//与href=&quot;#&quot;区别</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"># 包含了一个位置信息，默认的锚是#top 也就是网页的上端。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">而javascript:void(0), 仅仅表示一个死链接。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">在页面很长的时候会使用 # 来定位页面的具体位置，格式为：# + id。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">如果你要定义一个死链接请使用 javascript:void(0) 。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="javaScript-Promise"><a href="#javaScript-Promise" class="headerlink" title="javaScript Promise"></a>javaScript Promise</h4><p>构造Promise</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    <span class="comment">// 要做的事情...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>Promise 构造函数接受一个函数作为参数，该函数是同步的并且会被立即执行，所以称之为起始函数。<br>Promise起始函数包含两个参数： resolve 和 reject，分别表示 Promise 成功和失败的状态。成功调用resolve（）传递成功结果，失败调用reject传递失败原因<br>Promise 构造函数返回一个 Promise 对象，该对象具有以下几个方法：</p>
<ul>
<li>then：用于处理 Promise 成功状态的回调函数。</li>
<li>catch：用于处理 Promise 失败状态的回调函数。</li>
<li>finally：无论 Promise 是成功还是失败，都会执行的回调函数。</li>
</ul>
<p>then&amp;finally两个块都可以多次使用，catch只会执行第一个<br>then 块默认会向下顺序执行，return 是不能中断的，可以通过 throw 来跳转至 catch 实现中断。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 异步操作</span></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Math</span>.<span class="title function_">random</span>() &lt; <span class="number">0.5</span>) &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(<span class="string">&#x27;success&#x27;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">reject</span>(<span class="string">&#x27;error&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line">promise.<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>分三次输出字符串，第一次间隔 1 秒，第二次间隔 4 秒，第三次间隔 3 秒</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// setTimeout(function () &#123;</span></span><br><span class="line"><span class="comment">//     console.log(&quot;1&quot;);</span></span><br><span class="line"><span class="comment">//     setTimeout(function () &#123;</span></span><br><span class="line"><span class="comment">//         console.log(&quot;2&quot;);</span></span><br><span class="line"><span class="comment">//         setTimeout(function () &#123;</span></span><br><span class="line"><span class="comment">//             console.log(&quot;3&quot;);</span></span><br><span class="line"><span class="comment">//         &#125;, 3000);</span></span><br><span class="line"><span class="comment">//     &#125;, 2000);</span></span><br><span class="line"><span class="comment">// &#125;, 1000);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">用 &quot;函数瀑布&quot; 实现的程序无论是维护还是异常处理都是一件特别繁琐的事情</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;First&quot;</span>);</span><br><span class="line">        <span class="title function_">resolve</span>();</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Second&quot;</span>);</span><br><span class="line">            <span class="title function_">resolve</span>();</span><br><span class="line">        &#125;, <span class="number">4000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Third&quot;</span>);</span><br><span class="line">    &#125;, <span class="number">3000</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1111</span>);</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="number">2222</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3333</span>;</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&quot;An error&quot;</span>;</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1111</span></span><br><span class="line"><span class="comment">// 2222</span></span><br><span class="line"><span class="comment">// 3333</span></span><br><span class="line"><span class="comment">// An error</span></span><br></pre></td></tr></table></figure>
<p>resolve() 中可以放置一个参数用于向下一个 then 传递一个值，then 中的函数也可以返回一个值传递给 then。但是，如果 then 中返回的是一个 Promise 对象，那么下一个 then 将相当于对这个返回的 Promise 进行操作（上面的计时器代码）<br>由此，可以在精简一下，把核心代码精简为一个promise函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">p</span>(<span class="params">delay, mail</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(mail);</span><br><span class="line">            <span class="title function_">resolve</span>();</span><br><span class="line">        &#125;, delay);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">p</span>(<span class="number">1000</span>, <span class="string">&quot;1&quot;</span>).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">p</span>(<span class="number">2000</span>, <span class="string">&quot;2&quot;</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title function_">p</span>(<span class="number">3000</span>, <span class="string">&quot;3&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h5 id="异步函数"><a href="#异步函数" class="headerlink" title="异步函数"></a>异步函数</h5><p>在promise中最后我们写了一个p函数，这个可以用异步来表示：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">asyncfunc</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">await</span> <span class="title function_">p</span>(<span class="number">1000</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">  <span class="keyword">await</span> <span class="title function_">p</span>(<span class="number">2000</span>,<span class="string">&quot;2&quot;</span>);</span><br><span class="line">  <span class="keyword">await</span> <span class="title function_">p</span>(<span class="number">3000</span>,<span class="string">&quot;3&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">asyncfunc</span>();</span><br></pre></td></tr></table></figure>
<p>异步函数 async function 中可以使用 await 指令，await 指令后必须跟着一个 Promise，异步函数会在这个 Promise 运行中暂停，直到其运行结束再继续运行。<br>异步函数异常处理机制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">asyncf</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve,reject</span>)&#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="string">&quot;errors&quot;</span>;<span class="comment">//or reject(&quot;errors&quot;);</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">asyncf</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//正常也可以用aswait语句返回</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">asyncFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> value = <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(</span><br><span class="line">        <span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&quot;Return value&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    );</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">asyncFunc</span>();</span><br></pre></td></tr></table></figure>
<p>Promise 对象代表一个异步操作，有三种状态：Pending（进行中）、Resolved（已完成，又称 Fulfilled）和 Rejected（已失败）。<br>通过回调里的 resolve(data) 将这个 promise 标记为 resolverd，然后进行下一步 then((data)&#x3D;&gt;{&#x2F;&#x2F;do something})，resolve 里的参数就是要传入 then 的数据。</p>
<h3 id="JavaScript函数-1"><a href="#JavaScript函数-1" class="headerlink" title="JavaScript函数"></a>JavaScript函数</h3><h4 id="函数定义"><a href="#函数定义" class="headerlink" title="函数定义"></a>函数定义</h4><h5 id="函数声明"><a href="#函数声明" class="headerlink" title="函数声明"></a>函数声明</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">	    <span class="keyword">return</span> a * b;&#125;</span><br></pre></td></tr></table></figure>
<h5 id="函数表达式"><a href="#函数表达式" class="headerlink" title="函数表达式"></a>函数表达式</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数表达式可以存储在变量中——这个函数相当于就是一个匿名函数</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="keyword">function</span> (<span class="params">a, b</span>) &#123;<span class="keyword">return</span> a * b&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 然后可以使用这个变量，这个函数不用函数名调动，用变量名</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="keyword">function</span> (<span class="params">a, b</span>) &#123;<span class="keyword">return</span> a * b&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h5><p>函数也可以通过内置的函数构造器（Function（））来定义</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myFunction = <span class="keyword">new</span> <span class="title class_">Function</span>(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;return a * b&quot;</span>);</span><br><span class="line"><span class="comment">//等价于var myFunction = function (a, b) &#123;return a * b&#125;;</span></span><br><span class="line"><span class="comment">//一般来说，尽量少写new这个关键词</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="title function_">myFunction</span>(<span class="number">4</span>, <span class="number">3</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="自调用函数"><a href="#自调用函数" class="headerlink" title="自调用函数"></a>自调用函数</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;123&quot;</span>);     <span class="comment">// 我将调用自己</span></span><br><span class="line">&#125;)();</span><br><span class="line"><span class="comment">// 这个函数会自动调用自己</span></span><br><span class="line"><span class="comment">// 添加括号表示它是一个函数表达式</span></span><br><span class="line"><span class="comment">//这个表达式后面又跟着括号，这样会自动调用自己</span></span><br></pre></td></tr></table></figure>
<h5 id="函数是一个对象"><a href="#函数是一个对象" class="headerlink" title="函数是一个对象"></a>函数是一个对象</h5><p>在 JavaScript 中使用 <strong>typeof</strong> 操作符判断函数类型将返回 “function” 。<br>但是我们也可以描述它为一个对象：有属性，有方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params">a, b</span>) &#123; <span class="keyword">return</span> a * b; &#125;;</span><br><span class="line"><span class="keyword">var</span> txt =myFunction.<span class="title function_">toString</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(txt);</span><br><span class="line"></span><br><span class="line"><span class="comment">//控制台会打印这个函数</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1689142447053-adf37118-c080-46dd-b20d-71c875a02338.png#averageHue=%231f1c1a&clientId=u5ff299ca-52b6-4&from=paste&height=50&id=u8c42869a&originHeight=68&originWidth=482&originalType=binary&ratio=1.3499999046325684&rotation=0&showTitle=false&size=5411&status=done&style=none&taskId=u25af9081-1fc5-4f42-b1c2-88b3853c6d8&title=&width=357.03706225904267" alt="image.png"></p>
<h5 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h5><p>这是ES6新增的语法，这个比普通的表达式更加简洁</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">(参数<span class="number">1</span>, 参数<span class="number">2</span>, …, 参数N) =&gt; &#123; 函数声明 &#125;</span><br><span class="line"></span><br><span class="line">(参数<span class="number">1</span>, 参数<span class="number">2</span>, …, 参数N) =&gt; 表达式(单一)</span><br><span class="line"><span class="comment">// 相当于：(参数1, 参数2, …, 参数N) =&gt;&#123; return 表达式; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 只有一个参数，圆括号可写可不写</span></span><br><span class="line">(单一参数) =&gt; &#123;函数声明&#125;</span><br><span class="line">单一参数 =&gt; &#123;函数声明&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 没有参数就要写成一对圆括号</span></span><br><span class="line">() =&gt; &#123;函数声明&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 例子：</span></span><br><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="keyword">function</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">     <span class="keyword">return</span> x * y;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">x</span> = (<span class="params">x, y</span>) =&gt; x * y;</span><br></pre></td></tr></table></figure>
<h4 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h4><p>之前接触到的函数都需要在函数定义时列出，这是函数显式参数</p>
<p>若函数调用过多参数，参数无法被引用，就只能通过arguments对象来调用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="title function_">findMax</span>(<span class="number">1</span>, <span class="number">123</span>, <span class="number">500</span>, <span class="number">115</span>, <span class="number">44</span>, <span class="number">88</span>);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">findMax</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> i, max = <span class="variable language_">arguments</span>[<span class="number">0</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">arguments</span>.<span class="property">length</span> &lt; <span class="number">2</span>) <span class="keyword">return</span> max;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="variable language_">arguments</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">arguments</span>[i] &gt; max) &#123;</span><br><span class="line">            max = <span class="variable language_">arguments</span>[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="函数调用"><a href="#函数调用" class="headerlink" title="函数调用"></a>函数调用</h4><p>函数调用有四种方式，这四种方式this不同</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">myFunction</span>(<span class="number">10</span>, <span class="number">2</span>);           <span class="comment">// myFunction(10, 2) 返回 20</span></span><br><span class="line"><span class="comment">// 在 JavaScript 中它始终是默认的全局对象。</span></span><br><span class="line"><span class="comment">// 在 HTML 中默认的全局对象是 HTML 页面本身，所以函数是属于 HTML 页面。</span></span><br><span class="line"><span class="comment">// 而在浏览器中的页面对象是浏览器窗口(window 对象)</span></span><br><span class="line"><span class="comment">// 所以以上函数会自动变为 window 对象的函数。</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">myFunction</span>(<span class="number">10</span>, <span class="number">2</span>);    <span class="comment">// window.myFunction(10, 2) 返回 20</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 当函数作为对象的方法时，this指当前对象</span></span><br><span class="line"><span class="keyword">var</span> myObject = &#123;</span><br><span class="line">    <span class="attr">firstName</span>:<span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">lastName</span>: <span class="string">&quot;Doe&quot;</span>,</span><br><span class="line">    <span class="attr">fullName</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">myObject.<span class="title function_">fullName</span>();          <span class="comment">// 返回 [object Object] (所有者对象)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 当使用构造函数调用函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params">arg1, arg2</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">firstName</span> = arg1;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">lastName</span> = arg2;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);				<span class="comment">//myFunction &#123; firstName: &#x27;John&#x27;, lastName: &#x27;Doe&#x27; &#125;</span></span><br><span class="line">    <span class="comment">// return this;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// This creates a new object</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="keyword">new</span> <span class="title function_">myFunction</span>(<span class="string">&quot;John&quot;</span>, <span class="string">&quot;Doe&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x.<span class="property">firstName</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在 JavaScript 中, 函数是对象。JavaScript 函数有它的属性和方法。</span></span><br><span class="line"><span class="comment">// call() 和 apply() 是预定义的函数方法。 两个方法可用于调用函数，两个方法的第一个参数必须是对象本身。</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line">myObject = myFunction.<span class="title function_">call</span>(myObject, <span class="number">10</span>, <span class="number">2</span>);     <span class="comment">// 返回 20</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line">myArray = [<span class="number">10</span>, <span class="number">2</span>];</span><br><span class="line">myObject = myFunction.<span class="title function_">apply</span>(myObject, myArray);  <span class="comment">// 返回 20</span></span><br></pre></td></tr></table></figure>
<h4 id="JavaScript闭包"><a href="#JavaScript闭包" class="headerlink" title="JavaScript闭包"></a>JavaScript闭包</h4><h5 id="计时器问题"><a href="#计时器问题" class="headerlink" title="计时器问题"></a>计时器问题</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 如果定义在全局变量</span></span><br><span class="line"><span class="keyword">var</span> counter = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"></span>) &#123;</span><br><span class="line">   <span class="keyword">return</span> counter += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="title function_">add</span>();</span><br><span class="line"><span class="title function_">add</span>();</span><br><span class="line"><span class="title function_">add</span>();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 计数器现在为 3</span></span><br><span class="line"><span class="comment">// 但页面上的任何脚本都能改变计数器，即便没有调用 add() 函数。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果定义在函数里面</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> counter += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="title function_">add</span>();</span><br><span class="line"><span class="title function_">add</span>();</span><br><span class="line"><span class="title function_">add</span>();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 本意是想输出 3, 但事与愿违，输出的都是 1</span></span><br></pre></td></tr></table></figure>
<h5 id="使用内嵌函数来解决问题"><a href="#使用内嵌函数来解决问题" class="headerlink" title="使用内嵌函数来解决问题"></a>使用内嵌函数来解决问题</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">plus</span>(<span class="params"></span>) &#123;counter += <span class="number">1</span>;&#125;</span><br><span class="line">    <span class="title function_">plus</span>();    </span><br><span class="line">    <span class="keyword">return</span> counter; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 这样子可以通过内嵌函数plus调用计数器</span></span><br></pre></td></tr></table></figure>
<h5 id="JavaScript闭包-1"><a href="#JavaScript闭包-1" class="headerlink" title="JavaScript闭包"></a>JavaScript闭包</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> add = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="keyword">return</span> counter += <span class="number">1</span>; &#125;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>());</span><br><span class="line"><span class="comment">// 1，2，3</span></span><br></pre></td></tr></table></figure>

<h3 id="JavaScript类"><a href="#JavaScript类" class="headerlink" title="JavaScript类"></a>JavaScript类</h3><h5 id="类是创建对象的模板"><a href="#类是创建对象的模板" class="headerlink" title="类是创建对象的模板"></a>类是创建对象的模板</h5><p>用 class 关键字来创建一个类，类体在一对大括号 {} 中，每个类中包含了一个特殊的方法 constructor()，它是类的构造函数，这种方法用于创建和初始化一个由 class 创建的对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基本语法格式</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClassName</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// such as</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Runoob</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用类</span></span><br><span class="line"><span class="keyword">var</span> r=<span class="keyword">new</span> <span class="title class_">Runoob</span>(<span class="string">&quot;ldh&quot;</span>);	<span class="comment">// 创建对象时会自动调用构造函数方法 constructor()。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 例：</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Runoob</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name, year</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">year</span> = year;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">age</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    <span class="keyword">return</span> date.<span class="title function_">getFullYear</span>() - <span class="variable language_">this</span>.<span class="property">year</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> runoob = <span class="keyword">new</span> <span class="title class_">Runoob</span>(<span class="string">&quot;菜鸟教程&quot;</span>, <span class="number">2018</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">innerHTML</span> =</span><br><span class="line"><span class="string">&quot;菜鸟教程 &quot;</span> + runoob.<span class="title function_">age</span>() + <span class="string">&quot; 岁了。&quot;</span>;</span><br></pre></td></tr></table></figure>
<h4 id="JavaScript类继承"><a href="#JavaScript类继承" class="headerlink" title="JavaScript类继承"></a>JavaScript类继承</h4><p>当创建一个类时，您不需要重新编写新的数据成员和成员函数，只需指定新建的类继承了一个已有的类的成员即可。这个已有的类称为基类（父类），新建的类称为派生类（子类）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="comment">// eat() 函数</span></span><br><span class="line">    <span class="comment">// sleep() 函数</span></span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">//派生类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span> &#123;</span><br><span class="line">    <span class="comment">// bark() 函数</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>super()</strong> 方法引用父类的构造方法。<br>使用get，set方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Runoob</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_sitename</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">set</span> <span class="title function_">sitename</span>(<span class="params">x</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_sitename</span> = x;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">sitename</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_sitename</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> noob = <span class="keyword">new</span> <span class="title class_">Runoob</span>(<span class="string">&quot;菜鸟教程&quot;</span>);</span><br><span class="line">noob.<span class="property">sitename</span> = <span class="string">&quot;RUNOOB&quot;</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">innerHTML</span> = noob.<span class="property">sitename</span>;</span><br></pre></td></tr></table></figure>
<p>虽然getset是方法，但是调用时不用带括号</p>
<h4 id="JavaScript静态方法"><a href="#JavaScript静态方法" class="headerlink" title="JavaScript静态方法"></a>JavaScript静态方法</h4><p>静态方法就是用static修饰的方法，属于类，不属于对象，通过类名.方法名调用<br>没有办法通过对象名.方法名调用，如果想，需要把对象当作一个参数传递进去：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Runoob</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">hello</span>(<span class="params">x</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello &quot;</span> + x.<span class="property">name</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> noob = <span class="keyword">new</span> <span class="title class_">Runoob</span>(<span class="string">&quot;菜鸟教程&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">innerHTML</span> = <span class="title class_">Runoob</span>.<span class="title function_">hello</span>(noob);</span><br></pre></td></tr></table></figure>
<h3 id="JavaScript-HTML-DOM"><a href="#JavaScript-HTML-DOM" class="headerlink" title="JavaScript HTML DOM"></a>JavaScript HTML DOM</h3><p>DOM——文档对象模型（Document Object Model）<br>通过 HTML DOM，可访问 JavaScript HTML 文档的所有元素。<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1689667645010-e55bca3e-c629-45b6-b068-4e403e1f7f69.png#averageHue=%23f3f3f3&clientId=ua7a5457e-cf5b-4&from=paste&height=292&id=u889b0b65&originHeight=394&originWidth=766&originalType=binary&ratio=1.3499999046325684&rotation=0&showTitle=false&size=14834&status=done&style=none&taskId=ufe8f47f5-3f0b-4585-8475-35a11a3eb59&title=&width=567.4074474905118" alt="image.png"><br>通过这个模型，JS可以对页面中的HTML元素、属性，CSS样式做出改变，对页面的所有事件做出反应</p>
<h4 id="查找HTML元素"><a href="#查找HTML元素" class="headerlink" title="查找HTML元素"></a>查找HTML元素</h4><p>要操作，先查找</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过id</span></span><br><span class="line"><span class="keyword">var</span> x=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;intro&quot;</span>);</span><br><span class="line"><span class="comment">// 通过标签名</span></span><br><span class="line"><span class="keyword">var</span> x=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;main&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> y=x.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;p&quot;</span>);</span><br><span class="line"><span class="comment">// 通过类名</span></span><br><span class="line"><span class="keyword">var</span> x=<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;intro&quot;</span>);</span><br></pre></td></tr></table></figure>
<h4 id="改变HTML"><a href="#改变HTML" class="headerlink" title="改变HTML"></a>改变HTML</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 改变输出流</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 改变内容</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(id).<span class="property">innerHTML</span>=新的 <span class="variable constant_">HTML</span></span><br><span class="line"></span><br><span class="line">&lt;html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p1&quot;</span>&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;p1&quot;</span>).<span class="property">innerHTML</span>=<span class="string">&quot;新文本!&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// 注意！！！</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">/*</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">document.getElementsByClassName(&quot;start-button&quot;);返回的是dom数组</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">这样子然后改变innerHTML值不会显示，需要document.getElementsByClassName(&quot;start-button&quot;)[0];</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">*/</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 改变属性</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(id).<span class="property">attribute</span>=新属性值</span><br><span class="line"></span><br><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;img id=&quot;image&quot; src=&quot;smiley.gif&quot;&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">document.getElementById(&quot;image&quot;).src=&quot;landscape.jpg&quot;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line">// 改变CSS样式</span><br><span class="line">document.getElementById(id).style.property=新样式</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;菜鸟教程(runoob.com)&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p id=&quot;p1&quot;&gt;Hello World!&lt;/p&gt;</span><br><span class="line">&lt;p id=&quot;p2&quot;&gt;Hello World!&lt;/p&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">document.getElementById(&quot;p2&quot;).style.color=&quot;blue&quot;;</span><br><span class="line">document.getElementById(&quot;p2&quot;).style.fontFamily=&quot;Arial&quot;;</span><br><span class="line">document.getElementById(&quot;p2&quot;).style.fontSize=&quot;larger&quot;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;p&gt;以上段落通过脚本修改。&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h4 id="HTML-DOM事件"><a href="#HTML-DOM事件" class="headerlink" title="HTML DOM事件"></a>HTML DOM事件</h4><p>事件例子：</p>
<ul>
<li>当用户点击鼠标时</li>
<li>当网页已加载时</li>
<li>当图像已加载时</li>
<li>当鼠标移动到元素上时</li>
<li>当输入字段被改变时</li>
<li>当提交 HTML 表单时</li>
<li>当用户触发按键时</li>
<li>等等等</li>
</ul>
<p>例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onmouseover</span>=<span class="string">&quot;mOver(this)&quot;</span> <span class="attr">onmouseout</span>=<span class="string">&quot;mOut(this)&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background-color:#D94A38;width:120px;height:20px;padding:40px;&quot;</span>&gt;</span>Mouse Over Me<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">function</span> <span class="title function_">mOver</span>(<span class="params">obj</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">	obj.<span class="property">innerHTML</span>=<span class="string">&quot;Thank You&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">function</span> <span class="title function_">mOut</span>(<span class="params">obj</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">	obj.<span class="property">innerHTML</span>=<span class="string">&quot;Mouse Over Me&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h4 id="EventListener"><a href="#EventListener" class="headerlink" title="EventListener"></a>EventListener</h4><p>基本语法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(event, <span class="keyword">function</span>, useCapture);</span><br></pre></td></tr></table></figure>
<p>第一个参数是事件的类型 (如 “click” 或 “mousedown”)，不需要on前缀<br>第二个参数是事件触发后调用的函数。<br>第三个参数是个布尔值用于描述事件是冒泡还是捕获。该参数是可选的<br>实现用户点击元素弹出hello</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, myFunction);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params"></span>) &#123;    </span><br><span class="line">		alert (<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以向一个元素添加不同的事件，不同类型的事件，不会覆盖</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, myFunction);</span><br><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, mySecondFunction);</span><br><span class="line"></span><br><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&quot;mouseover&quot;</span>, myFunction);</span><br><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, mySecondFunction);</span><br><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&quot;mouseout&quot;</span>, myThirdFunction);</span><br></pre></td></tr></table></figure>
<p>有添加就有删除</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">removeEventListener</span>(<span class="string">&quot;mousemove&quot;</span>, myFunction);</span><br></pre></td></tr></table></figure>
<h4 id="JS-HTML-DOM元素节点"><a href="#JS-HTML-DOM元素节点" class="headerlink" title="JS HTML DOM元素节点"></a>JS HTML DOM元素节点</h4><p>创建元素节点 ，然后在存在的元素中添加它 </p>
<h5 id="appendChild-——添加新元素到尾部"><a href="#appendChild-——添加新元素到尾部" class="headerlink" title="appendChild()——添加新元素到尾部"></a>appendChild()——添加新元素到尾部</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;div1&quot;</span>&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p1&quot;</span>&gt;</span>这是一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p2&quot;</span>&gt;</span>这是另外一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"> </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript">	</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">var</span> para = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;p&quot;</span>);									<span class="comment">// 创建p元素</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">var</span> node = <span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(<span class="string">&quot;这是一个新的段落。&quot;</span>);	<span class="comment">//创建文本节点</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">para.<span class="title function_">appendChild</span>(node);					<span class="comment">// 将文本节点添加到p中</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">var</span> element = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>);					<span class="comment">// 找到已存在的元素</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">element.<span class="title function_">appendChild</span>(para);			<span class="comment">// 添加</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h5 id="将新元素添加到开始位置-insert-Before（）"><a href="#将新元素添加到开始位置-insert-Before（）" class="headerlink" title="将新元素添加到开始位置-insert Before（）"></a>将新元素添加到开始位置-insert Before（）</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;div1&quot;</span>&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p1&quot;</span>&gt;</span>这是一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p2&quot;</span>&gt;</span>这是另外一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"> </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">var</span> para = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;p&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">var</span> node = <span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(<span class="string">&quot;这是一个新的段落。&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">para.<span class="title function_">appendChild</span>(node);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"> </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">var</span> element = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">var</span> child = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;p1&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">element.<span class="title function_">insertBefore</span>(para, child);	<span class="comment">// 在一个父节点中的子节点之前插入		</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h6 id="移出已存在的元素"><a href="#移出已存在的元素" class="headerlink" title="移出已存在的元素"></a>移出已存在的元素</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;div1&quot;</span>&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p1&quot;</span>&gt;</span>这是一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p2&quot;</span>&gt;</span>这是另外一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"> </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">var</span> parent = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">var</span> child = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;p1&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">parent.<span class="title function_">removeChild</span>(child);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h6 id="替换元素"><a href="#替换元素" class="headerlink" title="替换元素"></a>替换元素</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;div1&quot;</span>&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p1&quot;</span>&gt;</span>这是一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p2&quot;</span>&gt;</span>这是另外一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"> </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">var</span> para = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;p&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">var</span> node = <span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(<span class="string">&quot;这是一个新的段落。&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">para.<span class="title function_">appendChild</span>(node);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"> </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">var</span> parent = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">var</span> child = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;p1&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">parent.<span class="title function_">replaceChild</span>(para, child);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h5 id="HTML-Collection"><a href="#HTML-Collection" class="headerlink" title="HTML Collection"></a>HTML Collection</h5><p>getElementsByTagName() 方法返回 <a target="_blank" rel="noopener" href="https://www.runoob.com/jsref/dom-htmlcollection.html">HTMLCollection</a> 对象。<br>HTMLCollection 对象类似包含 HTML 元素的一个数组。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取文档所有p元素</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;p&quot;</span>);</span><br><span class="line"><span class="comment">// 通过索引访问</span></span><br><span class="line">y = x[<span class="number">1</span>];</span><br><span class="line"><span class="comment">// length属性，集合元素的个数</span></span><br><span class="line"><span class="keyword">var</span> myCollection = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;p&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">innerHTML</span> = myCollection.<span class="property">length</span>;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/03/28/JavaScript/JavaScriptStudy/" data-id="cluc2gj2b0001ac6z3jj66bgp" data-title="JavaScriptStudy" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-linux/Linux概述" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/28/linux/Linux%E6%A6%82%E8%BF%B0/" class="article-date">
  <time class="dt-published" datetime="2024-03-27T16:00:00.000Z" itemprop="datePublished">2024-03-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/28/linux/Linux%E6%A6%82%E8%BF%B0/">Linux概述</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>linux是一个操作系统，其他的有windows，macOS，图案是一只企鹅</p>
<h5 id="Linux诞生"><a href="#Linux诞生" class="headerlink" title="Linux诞生"></a>Linux诞生</h5><p>Linux Torvalds上大学的时候独自完成的<br>1991年它基于Minix(Unix的变种)进行开发，1991.9，完成内核开发，命名为Linux</p>
<h5 id="Unix"><a href="#Unix" class="headerlink" title="Unix"></a>Unix</h5><p>Ken Thompson, Dennis Ritchie<br>贝尔实验室<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696752522997-46f127e2-98df-4fa4-a35a-23e62d4db302.png#averageHue=%23eeeae9&clientId=u37d36a6b-a01d-4&from=paste&height=323&id=u81103ca9&originHeight=484&originWidth=732&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=212618&status=done&style=none&taskId=u6cfef2d6-317e-4736-8039-9658eb616da&title=&width=488" alt="image.png"></p>
<h5 id="GNU-Linux"><a href="#GNU-Linux" class="headerlink" title="GNU&#x2F;Linux"></a>GNU&#x2F;Linux</h5><p>自由软件之父——Richard  Stallman<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696762705356-efb4d90e-bf12-4667-bcd7-6e31e7f5a942.png#averageHue=%23a9835b&clientId=u37d36a6b-a01d-4&from=paste&height=297&id=uaf9b720c&originHeight=446&originWidth=743&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=206134&status=done&style=none&taskId=u5edc71f3-ce76-4a83-85fd-e7ab329596b&title=&width=495.3333333333333" alt="image.png"><br>平常说的可以下载的完整的系统都是广义的</p>
<h5 id="Linux发行版本"><a href="#Linux发行版本" class="headerlink" title="Linux发行版本"></a>Linux发行版本</h5><p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696782832690-3a9e449b-9f54-49f0-bb28-073ce2c6b296.png#averageHue=%23f4f2f1&clientId=u37d36a6b-a01d-4&from=paste&height=299&id=ud60d4473&originHeight=449&originWidth=717&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=140246&status=done&style=none&taskId=u1a2c3e8b-ad42-46b7-9146-f03eaf983ff&title=&width=478" alt="image.png"><br>华为鸿蒙也是基于linux</p>
<h5 id="Linux与Windows"><a href="#Linux与Windows" class="headerlink" title="Linux与Windows"></a>Linux与Windows</h5><p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696782879796-aa5d474d-36ee-4a71-bbc2-87d82eca76df.png#averageHue=%23fbfcf9&clientId=u37d36a6b-a01d-4&from=paste&height=313&id=u95412dc2&originHeight=470&originWidth=724&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=225553&status=done&style=none&taskId=ue1b0694b-9cb5-499c-b92f-f5d559ad462&title=&width=482.6666666666667" alt="image.png"></p>
<h5 id="CentOS-7的安装与下载"><a href="#CentOS-7的安装与下载" class="headerlink" title="CentOS 7的安装与下载"></a>CentOS 7的安装与下载</h5><p>easy，略</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/03/28/linux/Linux%E6%A6%82%E8%BF%B0/" data-id="cluc2gj2h0003ac6zg4db5wga" data-title="Linux概述" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-linux/Linux基本操作" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/28/linux/Linux%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/" class="article-date">
  <time class="dt-published" datetime="2024-03-27T16:00:00.000Z" itemprop="datePublished">2024-03-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/28/linux/Linux%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/">Linux基本操作</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="Linux文件系统"><a href="#Linux文件系统" class="headerlink" title="Linux文件系统"></a>Linux文件系统</h3><h5 id="创建快捷键"><a href="#创建快捷键" class="headerlink" title="创建快捷键"></a>创建快捷键</h5><p>CentOS7没有终端打开的快捷键，所以我们要自己设置一下</p>
<ol>
<li>在右上方places处选择computer，然后找路径usr&#x2F;bin&#x2F;，在里面找终端gnome-terminal</li>
<li>在setting里面的devices里面找到keyboard，划到最下面添加新的</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696783174568-9977eb24-9617-4bab-b1b0-565853407cae.png#averageHue=%23ebebeb&clientId=ud43755ee-d59a-4&from=paste&height=314&id=u13fd8f75&originHeight=471&originWidth=542&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=49450&status=done&style=none&taskId=uc53b93be-6ed3-479d-ac43-a402a206452&title=&width=361.3333333333333" alt="image.png">这是setting</li>
<li>填写好即可<img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696783230099-47f80335-7250-478c-a380-54f89f643b83.png#averageHue=%23ececeb&clientId=ud43755ee-d59a-4&from=paste&height=107&id=ub94a21f4&originHeight=161&originWidth=431&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=8349&status=done&style=none&taskId=u32b1f888-a7b8-4d2f-98ab-0f7dd807307&title=&width=287.3333333333333" alt="image.png"></li>
</ol>
<h5 id="常用快捷键"><a href="#常用快捷键" class="headerlink" title="常用快捷键"></a>常用快捷键</h5><ul>
<li>Tab	命令或路径等的补全键</li>
<li>Ctrl + A	光标回到命令首行</li>
<li>Ctrl + E	光标回到命令行尾</li>
<li>Ctrl + F	光标向右移动一个字符，相当于方向键→</li>
<li>Ctrl + B	光标向左移动一个字符，相当于方向键←</li>
<li>Ctrl + Insert	复制命令行内容</li>
<li>Shift + Insert	粘贴命令行内容</li>
<li>Ctrl + K	剪切(删除)光标处到行尾的字符</li>
<li>Ctrl + U	剪切(删除)光标处到行首的字符</li>
<li>Ctrl + W	剪切(删除)光标前的一个单词</li>
<li>Ctrl + Y	粘贴剪切(删除)的文字</li>
<li>Ctrl + C	中断终端正在执行的任务或者删除整行</li>
<li>Ctrl + H	删除光标所在处的前一个字符，相当于退格键</li>
<li>Ctrl + D	退出当前shell命令行</li>
<li>Ctrl + R	搜索命令行使用过的历史命令记录</li>
<li>Ctrl + G	退出搜索历史命令模式</li>
<li>Esc + .	获取上一条命令的最后部分，以空格符分隔</li>
<li>Ctrl + L	清除所有内容，相当于clear命令</li>
<li>Ctrl + S	锁定终端，使其无法输入内容</li>
<li>Ctrl + Q	解锁锁定状态</li>
<li>Ctrl + Z	暂停执行在终端运行的任务</li>
</ul>
<h5 id="Linux一切都是文件"><a href="#Linux一切都是文件" class="headerlink" title="Linux一切都是文件"></a>Linux一切都是文件</h5><h5 id="Linux目录结构"><a href="#Linux目录结构" class="headerlink" title="Linux目录结构"></a>Linux目录结构</h5><p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696783630276-35338a7b-eded-4bfb-84c0-e5d9bde77e9b.png#averageHue=%23f9f9f9&clientId=ud43755ee-d59a-4&from=paste&height=172&id=u4634719c&originHeight=258&originWidth=594&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=32643&status=done&style=none&taskId=u79cdb982-891e-482b-a53f-43aed04dbf0&title=&width=396" alt="image.png"><br>bin :存放普通用户可执行的指令，即使在单用户模式下也能够执行处理<br>boot ：开机引导目录，包括Linux内核文件与开机所需要的文件<br>dev ：设备目录，所有的硬件设备及周边均放置在这个设备目录中<br>etc：各种配置文件目录，大部分配置属性均存放在这里<br>home：这里主要存放你的个人数据，具体每个用户的设置文件，用户的桌面文件夹，还有用户的数据都放在这里。每个用户都有自己的用户目录，位置为：&#x2F;home&#x2F;用户名。当然，root用户除外。<br>lib：开机时常用的动态链接库，bin及sbin指令也会调用对应的lib库<br>lib64：开机时常用的动态链接库64位，bin及sbin指令也会调用对应的lib库<br>lost+found：是一个特殊目录，用途是用来存放文件系统错误导致文件丢失后找回数据的；如果你不小心删除了lost+found目录，不用使用mkdir命令创建lost+found目录，应该使用 mklost+found命令创建lost+found目录。<br>media：可移除设备挂载目录，类似软盘 U盘 光盘等临时挂放目录<br>mnt：用户临时挂载其他的文件系统，额外的设备可挂载在这里,相对临时而言<br>opt：第三方软件安装目录，现在习惯性的放置在&#x2F;usr&#x2F;local中<br>proc：虚拟文件系统，通常是内存中的映射,特别注意在误删除数据文件后，比如DB，只要系 统不重启,还是有很大几率能将数据找回来<br>root：系统管理员主目录，除root之外,其他用户均放置在&#x2F;home目录下<br>run：系统运行是所需文件，以前防止在&#x2F;var&#x2F;run中,后来拆分成独立的&#x2F;run目录。重启后重新生成对应的目录数据<br>sbin：只有root才能运行的管理指令，跟bin类似,但只属于root管理员<br>srv：服务启动后需要访问的数据目录，<br>sys：跟proc一样虚拟文件系统，记录核心系统硬件信息<br>tmp：存放临时文件目录，所有用户对该目录均可读写<br>usr：应用程序放置目录，<br>var ：存放系统执行过程经常改变的文件，<br>vmlinuz : 是可引导的,压缩的linux内核,“vm”代表的“virtual memory”,一般是一个软连接.</p>
<p>还有一个重要的目录就是：&#x2F;var&#x2F;log&#x2F;目录，主要存放的是系统日志文件：<br>&#x2F;var&#x2F;log&#x2F;message :系统启动后的信息和错误日志，是Linux中最常用的日志之一<br>&#x2F;var&#x2F;log&#x2F;secure :与安全相关的日志信息<br>&#x2F;var&#x2F;log&#x2F;maillog :与邮件相关的日志信息<br>&#x2F;var&#x2F;log&#x2F;cron :与定时任务相关的日志信息<br>&#x2F;var&#x2F;log&#x2F;spooler :与UUCP和news设备相关的日志信息<br>&#x2F;var&#x2F;log&#x2F;boot.log :守护进程启动和停止相关的日志消息</p>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696811494565-991137ee-2e7d-4b82-bc52-2ec1407b579a.png#averageHue=%23f2eee9&clientId=ud43755ee-d59a-4&from=paste&height=389&id=u4b25a3df&originHeight=584&originWidth=909&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=55172&status=done&style=none&taskId=u3782cdf3-9254-4351-bcbd-7c2d4abbd46&title=&width=606" alt="image.png"><br>像带有这个标志的，意思是路径并不是在这里，我的理解是和window桌面快捷方式一样<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696811566773-ead9dfda-027c-4c01-b959-acfe0765620a.png#averageHue=%23c8c7c5&clientId=ud43755ee-d59a-4&from=paste&height=413&id=uba1c8302&originHeight=620&originWidth=855&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=71576&status=done&style=none&taskId=u86b352d0-2117-4266-ba30-2d3517b501f&title=&width=570" alt="image.png"><br>link target:usr&#x2F;bin</p>
<h3 id="Linux-VI-VIM编辑器"><a href="#Linux-VI-VIM编辑器" class="headerlink" title="Linux VI&#x2F;VIM编辑器"></a>Linux VI&#x2F;VIM编辑器</h3><h5 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h5><p>VI是Unix系统和类Unix系统中最通用的文本编辑器<br>VIM编辑器是从VI中发展出来的一个性能更强大的文本编辑器，可以主动以字体颜色辨别语法正确性，和VI完全兼容</p>
<h5 id="切换中文输入"><a href="#切换中文输入" class="headerlink" title="切换中文输入"></a>切换中文输入</h5><p>在cd路径时，有中文如何输入？<br>现在设置里面找到语言的输入源添加中文（拼音）<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696812127422-10c54619-f986-488a-9f47-c25f14960133.png#averageHue=%23eeeeee&clientId=ud43755ee-d59a-4&from=paste&height=473&id=u42c89ecf&originHeight=709&originWidth=1005&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=72287&status=done&style=none&taskId=u1a163678-cb03-4519-8bf6-0f8b44d1a59&title=&width=670" alt="image.png"><br>默认super+space键切换<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696812185003-d518f3f6-e5b9-49f7-a121-d521eb922500.png#averageHue=%23fdfdfd&clientId=ud43755ee-d59a-4&from=paste&height=328&id=u2d31e363&originHeight=492&originWidth=736&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=20572&status=done&style=none&taskId=u223a05ce-e885-4b33-979d-e618811acc4&title=&width=490.6666666666667" alt="image.png"><br>（在window上面，win键就是super键）</p>
<h5 id="对文件不同模式转换"><a href="#对文件不同模式转换" class="headerlink" title="对文件不同模式转换"></a>对文件不同模式转换</h5><p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696812549182-cdaf8137-e179-47b7-a723-3efe69bf0ef4.png#averageHue=%23fcfbfb&clientId=ud43755ee-d59a-4&from=paste&height=178&id=ufff613f3&originHeight=267&originWidth=538&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=75319&status=done&style=none&taskId=u4ac9bf4c-7ecf-4814-ab03-23a32e40b68&title=&width=358.6666666666667" alt="image.png"></p>
<h5 id="一般模式下对文件进行编辑"><a href="#一般模式下对文件进行编辑" class="headerlink" title="一般模式下对文件进行编辑"></a>一般模式下对文件进行编辑</h5><p>yy复制这一行<br>dd删除这一行<br>p粘贴复制的内容<br>在yy,dd,p前加数值n，表示重复这一操作次<br>nyy，复制n行<br>ndd，删除d行<br>np，粘贴n次<br>y$,$表示结尾，y$表示复制从当前位置到结尾<br>y^,^表示开头，y^表示复制从开头到当前位置<br>yw复制当前单词（连着当前单词后面的空格一起删除）<br>删除同理<br>x，剪切当前字符<br>X，剪切前一位的字符<br>r，按住r再按其他字符可以完成替换<br>R，替换字符串<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696815341404-7c3c72b9-65ad-4205-91c9-359800f74fe0.png#averageHue=%23ededed&clientId=ud43755ee-d59a-4&from=paste&height=137&id=u3fdb061c&originHeight=205&originWidth=549&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=50914&status=done&style=none&taskId=u74cfdc6b-0f47-427f-b142-559e709b71d&title=&width=366" alt="image.png"></p>
<h5 id="编辑模式"><a href="#编辑模式" class="headerlink" title="编辑模式"></a>编辑模式</h5><p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696815543598-214776b3-a8d8-4a54-9590-1bccbf9b293b.png#averageHue=%23f2f2f2&clientId=ud43755ee-d59a-4&from=paste&height=157&id=u380fca31&originHeight=236&originWidth=621&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=49869&status=done&style=none&taskId=u8e9c3451-9e33-44ec-a155-0620e0b4079&title=&width=414" alt="image.png"></p>
<h5 id="指令模式"><a href="#指令模式" class="headerlink" title="指令模式"></a>指令模式</h5><p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696815827642-6471aeee-b50d-4c62-8a31-3317ce53e72f.png#averageHue=%23ececec&clientId=ud43755ee-d59a-4&from=paste&height=211&id=u587259c9&originHeight=317&originWidth=592&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=99543&status=done&style=none&taskId=u2294375c-7c59-45cb-bd56-606a2c29bc9&title=&width=394.6666666666667" alt="image.png"></p>
<h5 id="vi-vim键盘图"><a href="#vi-vim键盘图" class="headerlink" title="vi&#x2F;vim键盘图"></a>vi&#x2F;vim键盘图</h5><p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696815880994-1f51adee-e584-46a1-be0f-4dfe581be6e5.png#averageHue=%23e9e6d1&clientId=ud43755ee-d59a-4&from=paste&height=313&id=u4c6c6c02&originHeight=469&originWidth=806&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=366237&status=done&style=none&taskId=u1888224c-c1af-4868-9d82-cafb9b0da37&title=&width=537.3333333333334" alt="image.png"></p>
<h3 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h3><h4 id="网络连接测试"><a href="#网络连接测试" class="headerlink" title="网络连接测试"></a>网络连接测试</h4><p>ping+ip<br>在主机里面ipconfig找到ip，到虚拟机里面ping<br>在虚拟机里面ifconfig找到ip，到主机里面ping</p>
<p>VM提供了三种网络连接模式</p>
<ul>
<li>桥接模式<ul>
<li>虚拟机直接连接外部物理网络的模式，主机起到了网桥作用</li>
<li>此时虚拟机可以直接网文外部网络，并对外部网络是可见的</li>
</ul>
</li>
<li>NAT模式<ul>
<li>虚拟机和主机构建一个专用网络，通过虚拟网络地址转换（NAT）设备对IP进行转换，虚拟机通过共享主机IP可以访问外部网络，但是外部网络无法访问虚拟机</li>
</ul>
</li>
<li>仅主机模式<ul>
<li>虚拟机只与主机共享一个专用网络，无法与外部网络进行通信</li>
</ul>
</li>
</ul>
<h5 id="修改静态ip"><a href="#修改静态ip" class="headerlink" title="修改静态ip"></a>修改静态ip</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">bootproto=<span class="string">&quot;static&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#IP ADDR</span></span><br><span class="line">IPADDR=<span class="number">192.168</span><span class="number">.186</span><span class="number">.100</span></span><br><span class="line"><span class="comment">#gateway</span></span><br><span class="line">GATEWAY=<span class="number">192.168</span><span class="number">.186</span><span class="number">.2</span></span><br><span class="line"><span class="comment">#DNS</span></span><br><span class="line">DNS1=<span class="number">192.168</span><span class="number">.186</span><span class="number">.2</span></span><br></pre></td></tr></table></figure>
<p>然后service network restart重启网络<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696826501612-640134e2-8ada-46f8-ab22-b8189eb1c066.png#averageHue=%23fefefe&clientId=ud43755ee-d59a-4&from=paste&height=123&id=u6b29a0e5&originHeight=184&originWidth=699&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=44035&status=done&style=none&taskId=u49efd8f2-86e6-4557-bdb7-56f70e9e838&title=&width=466" alt="image.png"><br>回主机ping一下</p>
<h5 id="第一次报错"><a href="#第一次报错" class="headerlink" title="第一次报错"></a>第一次报错</h5><p>在修改静态ip时，提示只读，我没有权限<br>然后想要进入root权限再来和这个文件对话，让它看看谁才是这个电脑的主人<br>结果报错了，输密码也是一直try again</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">centos7 <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">in</span> the sudoers file.  This incident will be reported.</span><br><span class="line">随后，搜索找到的方法，第一步都是先进入su，切换root账号</span><br><span class="line">however</span><br><span class="line">su以后也报错了：Authentication failure</span><br><span class="line">属实卡死</span><br></pre></td></tr></table></figure>
<p>然后我一番尝试无果以后，选择重置虚拟机<br>秒进</p>
<h5 id="配置主机名字"><a href="#配置主机名字" class="headerlink" title="配置主机名字"></a>配置主机名字</h5><p>在虚拟机里面找到etc&#x2F;hosts文件，添加配置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#VM配置主机名</span></span><br><span class="line"><span class="number">192.168</span><span class="number">.186</span><span class="number">.100</span> centos100</span><br><span class="line"><span class="number">192.168</span><span class="number">.186</span><span class="number">.101</span> centos101</span><br><span class="line"><span class="number">192.168</span><span class="number">.186</span><span class="number">.102</span> centos102</span><br><span class="line"><span class="number">192.168</span><span class="number">.186</span><span class="number">.103</span> centos103</span><br><span class="line"><span class="number">192.168</span><span class="number">.186</span><span class="number">.104</span> centos104</span><br></pre></td></tr></table></figure>
<p>然后在主机里面C:\Windows\System32\drivers\etc找到hosts文件，也添加如上配置<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696827528921-6bae3451-07cb-4144-90ad-8ed09f766227.png#averageHue=%231b1b1b&clientId=ud43755ee-d59a-4&from=paste&height=487&id=ua5498ab5&originHeight=731&originWidth=1108&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=113639&status=done&style=none&taskId=u37042d2e-fef8-4138-827c-dc630f65b74&title=&width=738.6666666666666" alt="image.png"><br>域名解释——改变host解释</p>
<h4 id="远程登陆ssh"><a href="#远程登陆ssh" class="headerlink" title="远程登陆ssh"></a>远程登陆ssh</h4><p>一开始主机无法识别ssh，下载最新版的openssh以后就没问题了，但是在连接centos时出现了问题，连接不上<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696830872354-4bf5b38e-3c4a-4e61-aebc-74385398fb1d.png#averageHue=%23191919&clientId=ud43755ee-d59a-4&from=paste&height=169&id=u3cd4a5f2&originHeight=254&originWidth=1054&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=25976&status=done&style=none&taskId=u5d0e6286-93c8-455d-8c18-f72d2e20554&title=&width=702.6666666666666" alt="image.png"><br>后面@ +ip才连接成功，实现远程控制<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696830854080-c5b6ecde-f982-4f4e-9a0f-3f10d7b7f28f.png#averageHue=%231d1d1d&clientId=ud43755ee-d59a-4&from=paste&height=240&id=ufec9f718&originHeight=360&originWidth=1185&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=57358&status=done&style=none&taskId=ua7a16744-4fcf-417a-b25c-418e761fe36&title=&width=790" alt="image.png"><br>exit退出<br>这种远程登陆每次都要整一遍很麻烦，有很多这种工具比如Xshell,SSH SecureCRT,FinalShell等等，一键登录，多设备等等便于操作<br>还有一些远程传输文件的：Xttp7（乱码问题记得两边调整编码方式）</p>
<h3 id="系统管理"><a href="#系统管理" class="headerlink" title="系统管理"></a>系统管理</h3><h4 id="Linux服务管理"><a href="#Linux服务管理" class="headerlink" title="Linux服务管理"></a>Linux服务管理</h4><h5 id="进程与服务"><a href="#进程与服务" class="headerlink" title="进程与服务"></a>进程与服务</h5><p>计算机中，一个正在进行的程序或者命令，叫做进程process<br>启动之后，一直存在，常驻内存的进程，叫做服务service</p>
<h4 id="service服务管理"><a href="#service服务管理" class="headerlink" title="service服务管理"></a>service服务管理</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基本语法</span></span><br><span class="line">service 服务名 start | stop |restart | status</span><br><span class="line">查看服务方法：/etc/init.d/服务名</span><br><span class="line"><span class="comment"># 系统控制语法</span></span><br><span class="line">systemctl start | stop | restart | status  服务名</span><br><span class="line">ctl——control</span><br><span class="line">查看服务方法：/usr/lib/systemd/system</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="服务运行级别"><a href="#服务运行级别" class="headerlink" title="服务运行级别"></a>服务运行级别</h5><p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696833729899-78bf46c0-c34e-4947-b013-0795a2c4fdea.png#averageHue=%23e7e6e6&clientId=ud43755ee-d59a-4&from=paste&height=167&id=ufcf16e8e&originHeight=251&originWidth=554&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=125770&status=done&style=none&taskId=u7d4cd679-35d2-4992-88b4-9f03a0b8079&title=&width=369.3333333333333" alt="image.png"><br>CentOS7运行级别简化为<br>multi-user.target	等价于原运行级别3（多用户有网，无图形界面）<br>graphical.target	等价于原运行级别5（多用户有网，有图形界面）<br>查看当前运行级别：systemctl get-default<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696834008960-f0a84a47-0998-484f-98f9-206aa3a6616e.png#averageHue=%23fefefe&clientId=ud43755ee-d59a-4&from=paste&height=55&id=u65b8135c&originHeight=82&originWidth=452&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=8651&status=done&style=none&taskId=u355aab4a-b8ed-4e51-befe-1b4aff965b9&title=&width=301.3333333333333" alt="image.png"><br>修改当前运行级别：systemctl set-default xxx.target(这里xxx为multi-user or graphical)<br>init 3&#x2F;5直接进入两种级别<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696834239907-a8f37fe5-67c4-46f8-b1c4-48f109048872.png#averageHue=%230f0f0f&clientId=ud43755ee-d59a-4&from=paste&height=270&id=uf04f3179&originHeight=405&originWidth=453&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=6409&status=done&style=none&taskId=u2e68987f-3615-4eab-9e43-ad107cf7f1c&title=&width=302" alt="image.png"></p>
<h5 id="关机重启"><a href="#关机重启" class="headerlink" title="关机重启"></a>关机重启</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 关机</span></span><br><span class="line">shutdown</span><br><span class="line"><span class="comment"># 默认一分钟以后关机</span></span><br><span class="line">shutdown后面接数值，默认单位为<span class="built_in">min</span></span><br><span class="line">想立马关机：shutdown now</span><br></pre></td></tr></table></figure>
<p>基本语法<br>sync		将数据有内存同步到硬盘——linux很多写入的的操作是在缓冲区里面进行<br>halt		停机，关闭系统，但是不断电<br>poweroff	关机断电<br>reboot	重启，等同于shutdown -r now<br>shutdown【选项】时间<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696834926599-ce852ac1-7fd0-43d4-a691-5cb390e0ff15.png#averageHue=%23ececec&clientId=ud43755ee-d59a-4&from=paste&height=199&id=uc5076df0&originHeight=298&originWidth=616&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=95272&status=done&style=none&taskId=ua57e4431-6dad-45ce-8c2c-0dd02099091&title=&width=410.6666666666667" alt="image.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/03/28/linux/Linux%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/" data-id="cluc2gj2m0006ac6zhb9c5laq" data-title="Linux基本操作" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-linux/Linux之shell编程" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/28/linux/Linux%E4%B9%8Bshell%E7%BC%96%E7%A8%8B/" class="article-date">
  <time class="dt-published" datetime="2024-03-27T16:00:00.000Z" itemprop="datePublished">2024-03-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/28/linux/Linux%E4%B9%8Bshell%E7%BC%96%E7%A8%8B/">Linux之shell编程</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="shell概述"><a href="#shell概述" class="headerlink" title="shell概述"></a>shell概述</h2><p>shell是一个命令行解释器，他接受应用程序&#x2F;用户命令，然后调用操作系统内核<br>shell还是一个功能强大的编程语言，易编写易调试，灵活性强<br>通过  cat  &#x2F;etc&#x2F;shells命令查看Linux提供的shell解释器<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697102074249-a4b1fbd3-c195-403b-905f-acb3806b2592.png#averageHue=%23fefefe&clientId=ufcce992e-f232-4&from=paste&height=105&id=u4cf9510d&originHeight=157&originWidth=394&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=8378&status=done&style=none&taskId=ubd5859a6-44e5-4160-b4a0-236c7f9be0e&title=&width=262.6666666666667" alt="image.png"></p>
<h2 id="Shell脚本入门"><a href="#Shell脚本入门" class="headerlink" title="Shell脚本入门"></a>Shell脚本入门</h2><h5 id="脚本格式"><a href="#脚本格式" class="headerlink" title="脚本格式"></a>脚本格式</h5><p>以**#!&#x2F;bin&#x2F;bash**开头(指定解释器)<br>shell脚本文件就是一个文本文件, 后缀名建议使用 .sh 结尾</p>
<h5 id="第一个shell程序"><a href="#第一个shell程序" class="headerlink" title="第一个shell程序"></a>第一个shell程序</h5><p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697102704598-45551d1f-fbdf-44fc-bbef-c4df47c9b75d.png#averageHue=%23fefefe&clientId=ufcce992e-f232-4&from=paste&height=134&id=ub4617a5c&originHeight=201&originWidth=403&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=16968&status=done&style=none&taskId=u419f298e-b57f-4193-89de-4bd2ce63974&title=&width=268.6666666666667" alt="image.png"><br>输入<br>#!&#x2F;bin&#x2F;bash<br>echo “hello world”<br>shell文件执行方式：</p>
<ol>
<li>采用bash或sh+脚本的相对路径或绝对路径（无需x权限）<ol>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697102981091-c3b1716e-b2fe-4393-a14b-a458587a50ae.png#averageHue=%23fefefe&clientId=ufcce992e-f232-4&from=paste&height=87&id=u6b9568c9&originHeight=130&originWidth=479&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=15450&status=done&style=none&taskId=u10b555b5-04d5-44f8-8339-6df4677aacb&title=&width=319.3333333333333" alt="image.png"></li>
</ol>
</li>
<li>第二种方法，是直接输入脚本的绝对路径和相对路径（这个方法必须要有对shell文件的x权限）这种的话就相当于直接用当前的这个bash去执行，第一种方法是重新开一个bash进程<ol>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697103163589-95374ec1-0f16-43b0-a9a3-0f206d7442ce.png#averageHue=%23fefefe&clientId=ufcce992e-f232-4&from=paste&height=151&id=ub521e8b1&originHeight=226&originWidth=470&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=29740&status=done&style=none&taskId=udff2437f-26f7-4ce0-a14e-13a1eeb4e9a&title=&width=313.3333333333333" alt="image.png"></li>
</ol>
</li>
<li>在脚本路径前+’.’  or  source，两个都要空格隔开</li>
</ol>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h4 id="系统预定义变量"><a href="#系统预定义变量" class="headerlink" title="系统预定义变量"></a>系统预定义变量</h4><p>$HOME,$PWD,$SHELL等等，前面都会带一个$<br>可以通过echo查看echo  $HOME<br>通过set命令可以显示shell中所有变量的值<br>通过env展示<br>printenv HOME（不用加$ ，查看变量值）</p>
<h4 id="自定义变量"><a href="#自定义变量" class="headerlink" title="自定义变量"></a>自定义变量</h4><h5 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h5><ul>
<li>定义：变量名&#x3D;变量值		（&#x3D;号前后不能有空格，变量值如果有空格，需要用引号包裹起来）</li>
<li>撤销变量：unset  </li>
<li>声明静态变量：readonly	变量				这个变量无法unset</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697116957602-6a67530f-4d35-4a42-b2fc-328dfbae3780.png#averageHue=%23fefefe&clientId=ube56a924-337b-4&from=paste&height=97&id=u3b896c2e&originHeight=146&originWidth=460&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=17462&status=done&style=none&taskId=u26796ca9-c371-4e30-bc67-271f22c5799&title=&width=306.6666666666667" alt="image.png"></li>
</ul>
<h5 id="规则"><a href="#规则" class="headerlink" title="规则"></a>规则</h5><ul>
<li>不能数字开头，可以字母，数字和下划线组成</li>
<li>系统变量应该大写</li>
<li>&#x3D;两边无空格，不然容易被认为指令</li>
<li>在bash中，变量默认都是字符串类型，无法进行数值运算</li>
<li>变量值如果有空格，需要用引号括起来</li>
</ul>
<h5 id="局部与全局，环境"><a href="#局部与全局，环境" class="headerlink" title="局部与全局，环境"></a>局部与全局，环境</h5><p>外面可以通过bash开启一个子shell<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697114507435-6760af11-15ec-4192-8a8f-984ca24e3a05.png#averageHue=%23fefefe&clientId=ufcce992e-f232-4&from=paste&height=157&id=u597a3ce5&originHeight=235&originWidth=533&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=36669&status=done&style=none&taskId=ud3de8570-e9b9-459e-ac97-63d3c777643&title=&width=355.3333333333333" alt="image.png"><br>再开一个bash，调用pstree<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697116156025-d94d9b53-aafc-41bc-829b-cef74048012d.png#averageHue=%23fefefe&clientId=ube56a924-337b-4&from=paste&height=17&id=udc22033f&originHeight=25&originWidth=406&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=1963&status=done&style=none&taskId=ub4068bb9-bd07-4cb6-a537-3faac300c3d&title=&width=270.6666666666667" alt="image.png"><br>观察端口号可以看到父子关系<br>shell变量可以分为局部变量，全局变量，环境变量<br>局部变量就是在函数中写的，作用域也就是函数<br>全局变量就是shell中定义的，作用域在这个shell里面，不同shell进程相互独立，变量不共享，子进程也不共享<br>环境变量被创建时所处的 Shell 进程称为父进程，如果在父进程中再创建一个新的进程来执行 Shell 命令，那么这个新的进程被称作 Shell 子进程。当 Shell 子进程产生时，它会继承父进程的环境变量为自己所用，所以说环境变量可从父进程传给子进程。不难理解，环境变量还可以传递给孙进程。<br>注意，两个没有父子关系的 Shell 进程是不能传递环境变量的，并且环境变量只能向下传递而不能向上传递，即“传子不传父”。<br>通过 export 导出的环境变量只对当前 Shell 进程以及所有的子进程有效，如果最顶层的父进程被关闭了，那么环境变量也就随之消失了，其它的进程也就无法使用了，所以说环境变量也是临时的。<br>如果想要一个变量在所有shell中生效，只能把它放到配置文件中，这样每次shell进程启动时都会执行定义</p>
<p>一般定义的变量都是全局变量，只在当前shell可以使用，可以通过export升级为环境变量<br>这里没注意，用export $a导出，报错<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697115399801-e327968a-b355-4815-bfc1-a4972189a73e.png#averageHue=%23fefefe&clientId=ube56a924-337b-4&from=paste&height=84&id=u646daf3c&originHeight=126&originWidth=385&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=12209&status=done&style=none&taskId=u774101e1-666c-40ae-ba0d-5554210fbce&title=&width=256.6666666666667" alt="image.png"><br>和printenv一样，不要$</p>
<p>如果想要使用数据运算，可以把那一部分用两个圆括号或一个方括号括起来<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697116827610-cb081323-a70a-4354-8bc2-1616657f4e23.png#averageHue=%23fefefe&clientId=ube56a924-337b-4&from=paste&height=122&id=ub269c8e5&originHeight=183&originWidth=309&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=13602&status=done&style=none&taskId=u67503541-ac44-4bfe-b0ab-44d97752a60&title=&width=206" alt="image.png"></p>
<h4 id="特殊变量"><a href="#特殊变量" class="headerlink" title="特殊变量"></a>特殊变量</h4><h5 id="n"><a href="#n" class="headerlink" title="$n"></a>$n</h5><p>n为数字，$0表示该脚本名称(如果调用shell文件是用路径，名字就是路径)，$1-$9代表第1-9个参数，十以上的参数用大括号包含${10}</p>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697117611724-6dc1ccf9-8e7b-4062-aeb0-62465f9e4c23.png#averageHue=%23fcfcfc&clientId=ube56a924-337b-4&from=paste&height=173&id=u622e8b04&originHeight=260&originWidth=494&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=31996&status=done&style=none&taskId=u7b4bbd8b-1ab7-4c10-948f-f92b371c252&title=&width=329.3333333333333" alt="image.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">hello.sh内容如下</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &quot;hello world&quot;</span><br><span class="line">echo hello,$1</span><br><span class="line">echo hei,$2</span><br><span class="line">echo this name:$0</span><br></pre></td></tr></table></figure>
<h5 id="获取输入参数的个数，常用于循环，判断参数数"><a href="#获取输入参数的个数，常用于循环，判断参数数" class="headerlink" title="$#		获取输入参数的个数，常用于循环，判断参数数"></a>$#		获取输入参数的个数，常用于循环，判断参数数</h5><h5 id="这个变量代表命令行所有参数，把所有参数看成一个整体"><a href="#这个变量代表命令行所有参数，把所有参数看成一个整体" class="headerlink" title="$*		这个变量代表命令行所有参数，把所有参数看成一个整体"></a>$*		这个变量代表命令行所有参数，把所有参数看成一个整体</h5><h5 id="也代表所有参数，不过把每个参数区分对待，可以用循环操作等等"><a href="#也代表所有参数，不过把每个参数区分对待，可以用循环操作等等" class="headerlink" title="$@ 		也代表所有参数，不过把每个参数区分对待，可以用循环操作等等"></a>$@ 		也代表所有参数，不过把每个参数区分对待，可以用循环操作等等</h5><h5 id="最后一次执行命令的返回状态，如果这个变量值为0，证明上一个命令正确执行，非0（可以自己指定说明书）则代表执行不正确"><a href="#最后一次执行命令的返回状态，如果这个变量值为0，证明上一个命令正确执行，非0（可以自己指定说明书）则代表执行不正确" class="headerlink" title="$?		最后一次执行命令的返回状态，如果这个变量值为0，证明上一个命令正确执行，非0（可以自己指定说明书）则代表执行不正确"></a>$?		最后一次执行命令的返回状态，如果这个变量值为0，证明上一个命令正确执行，非0（可以自己指定说明书）则代表执行不正确</h5><h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><h5 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h5><p>((expr))	or	[expr]		,expression表达式<br>也可以使用expr函数（注意运算符前后要有空格，特殊的还要加\，比如*）<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697124234717-337015b8-7283-416a-80ef-8fd69df6d49e.png#averageHue=%23fefefe&clientId=ube56a924-337b-4&from=paste&height=130&id=u5749475a&originHeight=195&originWidth=358&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=19093&status=done&style=none&taskId=ua2f6b988-3574-48b7-aef4-8b60895fccc&title=&width=238.66666666666666" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697159983867-eee4ff17-625c-4c14-8cd0-b5928d8e8360.png#averageHue=%23fefefe&clientId=ube56a924-337b-4&from=paste&height=26&id=ufb5c58a9&originHeight=39&originWidth=386&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=4063&status=done&style=none&taskId=u33c9d72e-a212-4cba-b464-bc5e7c0298c&title=&width=257.3333333333333" alt="image.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">sum=$[$1+$2]</span><br><span class="line">echo sum=$sum</span><br></pre></td></tr></table></figure>
<h2 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h2><h4 id="基本语法-1"><a href="#基本语法-1" class="headerlink" title="基本语法"></a>基本语法</h4><p>test condition<br>[ condition ]	（注意condition前后有空格）condition为空，不通过，为字符串，通过<br>可以用echo  $?判断test语句执行是否通过</p>
<h4 id="常用判断条件"><a href="#常用判断条件" class="headerlink" title="常用判断条件"></a>常用判断条件</h4><h5 id="两个整数比较"><a href="#两个整数比较" class="headerlink" title="两个整数比较"></a>两个整数比较</h5><p>-eq		equal					-ne		not equal			<br>-lt		less than					-le		less equal<br>-gt		greater than				-ge		greater equal	</p>
<h5 id="字符串比较"><a href="#字符串比较" class="headerlink" title="字符串比较"></a>字符串比较</h5><p>&#x3D;判断相等	!&#x3D;判断不等</p>
<h5 id="权限判断"><a href="#权限判断" class="headerlink" title="权限判断"></a>权限判断</h5><p>rwx分别代表可读可写可执行<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697162762293-ff462c4a-8b71-4528-ac39-bcad1a42a9e1.png#averageHue=%23fefefe&clientId=ube56a924-337b-4&from=paste&height=96&id=u04ec8222&originHeight=144&originWidth=460&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=18439&status=done&style=none&taskId=ufdc24ed4-01f5-47c1-ac05-ca1b7a03a91&title=&width=306.6666666666667" alt="image.png"></p>
<h5 id="按照文件类型进行判断"><a href="#按照文件类型进行判断" class="headerlink" title="按照文件类型进行判断"></a>按照文件类型进行判断</h5><p>-e	文件存在<br>-f	文件存在并且是一个常规文件<br>-d	文件存在并且是一个目录</p>
<h5 id="多条件判断"><a href="#多条件判断" class="headerlink" title="多条件判断"></a>多条件判断</h5><p>&amp;&amp;表示前一条命令执行成功时，才会执行后一条<br>||  表示前一条命令失败以后才执行下一条命令<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697163282753-44960425-03e1-4220-a710-336c5c48c63c.png#averageHue=%23fefefe&clientId=ube56a924-337b-4&from=paste&height=99&id=ub90eed6b&originHeight=148&originWidth=681&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=24250&status=done&style=none&taskId=u4108136e-9eca-46ae-aff5-8463639b58e&title=&width=454" alt="image.png"></p>
<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><h4 id="if判断"><a href="#if判断" class="headerlink" title="if判断"></a>if判断</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">单分支</span><br><span class="line">if [ 条件判断式 ];then</span><br><span class="line">	程序</span><br><span class="line">fi</span><br><span class="line">或者</span><br><span class="line">if	[ 条件判断式 ]</span><br><span class="line">then</span><br><span class="line">	程序</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">多分支</span><br><span class="line">if	 [ 条件判断式 ]</span><br><span class="line">then</span><br><span class="line">	程序</span><br><span class="line">elif [ 条件判断式 ]</span><br><span class="line">then</span><br><span class="line">	程序</span><br><span class="line">else</span><br><span class="line">	程序</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">多条件</span><br><span class="line">if [ 条件判断式 ] &amp;&amp; [ 条件判断式 ]</span><br><span class="line">then</span><br><span class="line">	程序</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697164516758-e16baf44-10f8-40e3-8c0b-304e0e2a4424.png#averageHue=%23fefefe&clientId=ube56a924-337b-4&from=paste&height=119&id=ua7d9ceb5&originHeight=179&originWidth=1326&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=32344&status=done&style=none&taskId=u1a8d29d1-e737-445e-acd9-2bc273753ae&title=&width=884" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697164886291-c660e7a5-f80f-436c-9bd8-22edaa59f863.png#averageHue=%23fcfcfc&clientId=ube56a924-337b-4&from=paste&height=40&id=u0c9de02f&originHeight=60&originWidth=825&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=8183&status=done&style=none&taskId=u96bfdae9-cc00-4fae-b86e-06b2e43f5e0&title=&width=550" alt="image.png"><br>写入文件中判断<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697165969206-8c473a63-ca64-45c8-92aa-7bb18fd34142.png#averageHue=%23fefefe&clientId=ube56a924-337b-4&from=paste&height=57&id=u306a1c0a&originHeight=85&originWidth=420&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=7538&status=done&style=none&taskId=u75825bff-b297-49ee-acb9-d8bcc7e3d27&title=&width=280" alt="image.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">if [ $1 -lt 14 ]</span><br><span class="line">then</span><br><span class="line">    echo &quot;child&quot;</span><br><span class="line">elif [ $1 -le 18 ]</span><br><span class="line">then</span><br><span class="line">    echo &quot;teen&quot;</span><br><span class="line">else</span><br><span class="line">    echo &quot;adult&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h4 id="case语句"><a href="#case语句" class="headerlink" title="case语句"></a>case语句</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">case $变量名 in</span><br><span class="line">&quot;值1&quot;)</span><br><span class="line">  	如果变量值为值1，执行程序1</span><br><span class="line">;;</span><br><span class="line">&quot;值2&quot;)</span><br><span class="line">  	如果变量值为值1，执行程序2</span><br><span class="line">;;</span><br><span class="line">......</span><br><span class="line">*)</span><br><span class="line">  	如果变量的值都不是以上的值，执行此程序</span><br><span class="line">;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<p>注意事项</p>
<ul>
<li>case行尾必须为in，每个模式匹配后必须以右括号结束</li>
<li>双分号;;表示命令序列结束，相当于break</li>
<li>最后*)表示默认模式，相当于default<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">case $1 in</span><br><span class="line">&quot;1&quot;)</span><br><span class="line">	echo 1</span><br><span class="line">;;</span><br><span class="line">&quot;2&quot;)</span><br><span class="line">	echo 2</span><br><span class="line">;;</span><br><span class="line">&quot;3&quot;)</span><br><span class="line">	echo 3</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">	echo no</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697167427018-9d35295f-be62-4338-8031-7646f8a5e72e.png#averageHue=%23fefefe&clientId=uf981242d-c085-4&from=paste&height=279&id=u240c5eaf&originHeight=418&originWidth=487&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=60815&status=done&style=none&taskId=ub1764426-918b-4895-87c6-be022376690&title=&width=324.6666666666667" alt="image.png"></li>
</ul>
<h4 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for (( 初始值;循环控制条件；变量变化 ))</span><br><span class="line">do</span><br><span class="line">	程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">sum=0</span><br><span class="line">for (( i=$1;i&lt;=$2;i++ ))</span><br><span class="line">do</span><br><span class="line">	sum=$[ $sum+$i ]</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697167831018-df49bf1c-9c08-4254-9125-8084e16deb09.png#averageHue=%23fefefe&clientId=uf981242d-c085-4&from=paste&height=97&id=u53351c8b&originHeight=145&originWidth=383&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=8375&status=done&style=none&taskId=u5cd0bde5-76db-44eb-8d28-d910ef62de5&title=&width=255.33333333333334" alt="image.png"><br>在双圆括号里面可以使用&lt;&#x3D;这种数学运算符</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for 变量 in 值1 值2 值3...</span><br><span class="line">do</span><br><span class="line">	程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">sum=0</span><br><span class="line">for i in &#123;1..5&#125;</span><br><span class="line">do</span><br><span class="line">   sum=$[ $sum+$i ]</span><br><span class="line">done</span><br><span class="line">echo sum=$sum</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697168439145-b9d21346-332f-4ff7-a024-d8f6d3e13f3b.png#averageHue=%23fefefe&clientId=uf981242d-c085-4&from=paste&height=38&id=u2da6765e&originHeight=57&originWidth=336&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=4228&status=done&style=none&taskId=u68d24689-1786-4762-ae50-df5befed16f&title=&width=224" alt="image.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">sum=0</span><br><span class="line">for i in $*</span><br><span class="line">do</span><br><span class="line">   sum=$[ $sum+$i ]</span><br><span class="line">done</span><br><span class="line">echo sum=$sum</span><br></pre></td></tr></table></figure>
<p>带入参数1 2 3，$@ 和$*都是sum&#x3D;6，但是后者是将数据分开的，携带引号是便可以看出区别</p>
<h4 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while [ 条件判断式 ]</span><br><span class="line">do</span><br><span class="line">	程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<h2 id="使用read读取控制台输入"><a href="#使用read读取控制台输入" class="headerlink" title="使用read读取控制台输入"></a>使用read读取控制台输入</h2><h5 id="基本语法-2"><a href="#基本语法-2" class="headerlink" title="基本语法"></a>基本语法</h5><p>read  选项  参数<br>-p	指定读取值时的提示符<br>-l 	指定读取值时的等待的时间&#x2F;s，不加t表示一直等待<br>参数：变量：指定读取值的变量名<br>输出就是echo</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">read -t 7 -p &quot;what&#x27;s your name: &quot; name</span><br><span class="line">echo $name</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697169279993-9d22de70-fefb-4a5a-afa8-f9cceaea8746.png#averageHue=%23fefefe&clientId=uf981242d-c085-4&from=paste&height=55&id=u90e3a618&originHeight=83&originWidth=392&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=8675&status=done&style=none&taskId=u78b8e91c-6224-4f28-a8f2-094ec646414&title=&width=261.3333333333333" alt="image.png"></p>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h4 id="系统函数"><a href="#系统函数" class="headerlink" title="系统函数"></a>系统函数</h4><h5 id="basename"><a href="#basename" class="headerlink" title="basename"></a>basename</h5><p>基本语法：basename [string&#x2F;pathname] [suffix]<br>basename命令会删掉所有前缀包括最后一个(‘&#x2F;‘)字符，然后将字符串显示出来<br>可以理解为取路径里面的文件名称，比如：basename  &#x2F;root&#x2F;1.txt-&gt;1.txt<br>suffix为后缀，如果suffix呗指定了，basename会将pathname或string中的suffix去掉，比如basename &#x2F;root&#x2F;1.txt  .txt-&gt;1</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &quot;script name: $(basename $0 .sh)&quot;</span><br><span class="line">echo &quot;script path: $(dirname $0) &quot;</span><br><span class="line"></span><br><span class="line">通过以上代码，我们可以知道绝对路径打开文件的时候的路径，但是使用相对路径还差点意思</span><br><span class="line">可以转换一下</span><br><span class="line">echo &quot;script path: $(cd $(dirname $0);pwd) &quot;</span><br><span class="line">这样在相对路径也可以取出绝对路径</span><br></pre></td></tr></table></figure>
<h4 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h4><h5 id="基本语法-3"><a href="#基本语法-3" class="headerlink" title="基本语法"></a>基本语法</h5><p>function  funcname()<br>{<br>Action<br>return int;<br>}<br>function可写可不写，（）可写可不写，return可写可不写<br>传参和脚本一样，$1,$2…</p>
<ul>
<li>在调用函数之前，先声明函数，shell文件逐行运行，不会预编译</li>
<li>函数返回值只能用$?系统变量获得，可以加return 返回，不加默认以最后一条命令运行结果作为返回值，return后面跟数值n(0-255)<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">function add()</span><br><span class="line">&#123;</span><br><span class="line">	s=$[$1+$2]</span><br><span class="line">  echo s=$s</span><br><span class="line">&#125;</span><br><span class="line">read -p &quot;first num:&quot; a</span><br><span class="line">read -p &quot;second num:&quot; b</span><br><span class="line">add $a $b</span><br></pre></td></tr></table></figure>
<img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697174565981-8276d92b-9156-4fff-be63-92bde8a49a0a.png#averageHue=%23fefefe&clientId=uab69c6f3-31c0-4&from=paste&height=63&id=u12d961c1&originHeight=95&originWidth=431&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=6745&status=done&style=none&taskId=u2ab8055b-7c78-4884-a365-f731c6e9d44&title=&width=287.3333333333333" alt="image.png"></li>
</ul>
<h2 id="正则表达式入门"><a href="#正则表达式入门" class="headerlink" title="正则表达式入门"></a>正则表达式入门</h2><h5 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h5><p>正则表达式使用单个字符串来描述，匹配一些列符合某个语法规则的字符串，在很多文本编辑器中，其呗用来检索替换那些符合某个模式的文本</p>
<h4 id="常规匹配"><a href="#常规匹配" class="headerlink" title="常规匹配"></a>常规匹配</h4><p>不含特殊字符的，比如：cat &#x2F;etc&#x2F;passwd | grep centos，这个就是在passwd文件里面匹配所有包含centos的行</p>
<h4 id="常用特殊字符"><a href="#常用特殊字符" class="headerlink" title="常用特殊字符"></a>常用特殊字符</h4><ol>
<li>^<ol>
<li>^匹配一行的开头</li>
<li>例：cat &#x2F;etc&#x2F;passwd | grep ^a，会匹配所有以a开头的行</li>
</ol>
</li>
<li>$<ol>
<li>匹配一行的结束</li>
<li>例：cat &#x2F;etc&#x2F;passwd | grep a$，会匹配所有以a结尾的行</li>
<li>^$匹配空行</li>
</ol>
</li>
<li>.</li>
<li>匹配任意字符</li>
<li>例：cat &#x2F;etc&#x2F;passwd | grep r..t，会匹配rabt,rbbt,root等待所有行</li>
<li><ul>
<li></li>
</ul>
<ol>
<li>不单独使用，表示上一个字符0次或多次</li>
<li>cat &#x2F;etc&#x2F;passwd | grep ro*t，表示rt,rot,root,rooot等等所有行</li>
<li>.*可以匹配任意，比如我可以^a.*b$，表示以a开头，b结尾的所有行</li>
</ol>
</li>
<li>字符区间[]<ol>
<li>[]表示匹配某个范围内的一个字符</li>
<li>[6,8]匹配6或者8，逗号可以去掉</li>
<li>[0-9]匹配一个0-9的数字</li>
<li>[0-9]*表示匹配任意长度的数字字符串</li>
<li>[a-z]匹配一个a到z之间的字符</li>
<li>[a-z]*匹配任意长度的小写字母字符串</li>
<li>[a-c,e-f]，匹配a到c，e到f之间的一个字母</li>
<li>-E 支持拓展，我们可以使用一个大括号表示重复次数，比如：echo 1234 | grep  -E  ^1[0-9][0-9][0-9]，就可以变为echo 1234 | grep  -E  ^1[0-9]{3}</li>
</ol>
</li>
</ol>
<h2 id="文本处理工具"><a href="#文本处理工具" class="headerlink" title="文本处理工具"></a>文本处理工具</h2><h5 id="cut"><a href="#cut" class="headerlink" title="cut"></a>cut</h5><ol>
<li>cut  cut命令从文件的每一行剪切字节，字符和字段并将这些字节字符和字段输出</li>
<li>cut  选项参数  filename<ol>
<li>-f	列号，提取第几列，取多行逗号连接，也可以使用1-6这类的，4-，就表示4以后的所有列</li>
<li>-d	分隔符，按照指定分隔符分割列，默认是制表符“\t”</li>
<li>-c	按字符进行切割，后加n表示取第几列，比如 -c  2</li>
</ol>
<p>	</p>
</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697178997159-f6817b41-9146-43d6-849e-10ea877a3c44.png#averageHue=%23fdfcfc&clientId=ue89c84f2-51e9-4&from=paste&height=190&id=u7f28af95&originHeight=285&originWidth=697&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=43119&status=done&style=none&taskId=u03abd8bf-d8a8-421a-9967-6935fd5ed49&title=&width=464.6666666666667" alt="image.png"></li>
<li>切割获得ip<img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697179256872-9022ca95-cd60-4119-9814-31bae159a97b.png#averageHue=%23fefefe&clientId=ue89c84f2-51e9-4&from=paste&height=59&id=u48faaed1&originHeight=88&originWidth=700&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=10798&status=done&style=none&taskId=uad0924cb-e403-412f-b9df-a2a2e1d96c9&title=&width=466.6666666666667" alt="image.png"></li>
</ol>
<h5 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h5><ol>
<li>一个强大的文本分析工具，逐行读入文件，以空格为默认分隔符将每行切片，切开部分再进行分割处理</li>
<li>基本用法：awk  选项参数  ‘&#x2F;pattern1&#x2F;{action1}  &#x2F;pattern2&#x2F;{action2}  ……’  filename</li>
<li>pattern: 表示awk在数据中查找的内容，就是匹配模式</li>
<li>action：表示在找到匹配内容时所执行的一系列命令，里面提供了print，可以打印，另外，它提取到的就和参数一样，可以通过$n查看</li>
<li>-F	指定输入文件分隔符</li>
<li>-v	赋值一个用户定义变量</li>
<li>搜索passwd文件以root开头的所有行，输出第七列<img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697180107385-645318c4-3e7f-47c7-8fa2-71005976e922.png#averageHue=%23fefefe&clientId=ue89c84f2-51e9-4&from=paste&height=46&id=u217ea3a4&originHeight=69&originWidth=681&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=11902&status=done&style=none&taskId=u23eccd09-08d1-4b4e-b32d-63f3921e046&title=&width=454" alt="image.png"></li>
<li>搜索passwd文件以root开头的所有行，输出第1，7列，以，分隔<img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697180237089-c57e4ed1-1ecd-4c46-9d9a-7dab68d78e6f.png#averageHue=%23fefefe&clientId=ue89c84f2-51e9-4&from=paste&height=27&id=ueee1c2c2&originHeight=41&originWidth=805&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=7085&status=done&style=none&taskId=udc6c513c-952f-4cef-9b91-4202a796485&title=&width=536.6666666666666" alt="image.png">字符‘，’需要用引号包括</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697180356205-45b72d0a-996d-43fb-ba96-f2af6763d496.png#averageHue=%23e3e3e3&clientId=ue89c84f2-51e9-4&from=paste&height=145&id=u765a43ff&originHeight=217&originWidth=678&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=71299&status=done&style=none&taskId=ub9fc2920-1b62-4ee7-93a7-1b81ddd66c6&title=&width=452" alt="image.png"></li>
<li>将passwd文件中用户id加数值并输出awk -v i&#x3D;1 -F “:” ‘{print $3+i}’ passwd</li>
<li>awk内置变量</li>
<li>FILENAME		文件名</li>
<li>NR				已读的记录数（行号）</li>
<li>NF				浏览记录的域的个数（切割后，列的个数）</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697180931989-be1967cf-e6b8-4ed3-beb6-80969108613f.png#averageHue=%23fefefe&clientId=ue89c84f2-51e9-4&from=paste&height=73&id=u086f6708&originHeight=110&originWidth=833&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=19288&status=done&style=none&taskId=u82cf3c13-0e48-4117-978f-d56a42100f2&title=&width=555.3333333333334" alt="image.png"></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/03/28/linux/Linux%E4%B9%8Bshell%E7%BC%96%E7%A8%8B/" data-id="cluc2gj2n0008ac6z8cun9q9a" data-title="Linux之shell编程" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-linux/Linux常用命令" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/28/linux/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" class="article-date">
  <time class="dt-published" datetime="2024-03-27T16:00:00.000Z" itemprop="datePublished">2024-03-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/28/linux/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">Linux常用命令</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>shell可以看作一个命令解释器，为我们提供了交互式的文本控制台界面<br>我们通过终端控制台来输入命令，shell进行解释并最终交给内核执行</p>
<h3 id="帮助命令"><a href="#帮助命令" class="headerlink" title="帮助命令"></a>帮助命令</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基本语法</span></span><br><span class="line">man [命令或配置文件] </span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696835459436-ae3d6613-652e-4eaa-a67c-3be166c970dd.png#averageHue=%23f8f8f8&clientId=u887a2894-e6ca-4&from=paste&height=105&id=u29f12ac0&originHeight=158&originWidth=732&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=8569&status=done&style=none&taskId=u677955f5-6133-40c4-85fa-91807bfe0f4&title=&width=488" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696835477011-0a2577c2-7489-4f46-960c-f461c630d558.png#averageHue=%23fbfbfb&clientId=u887a2894-e6ca-4&from=paste&height=343&id=u69d42f90&originHeight=514&originWidth=739&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=49729&status=done&style=none&taskId=ue37fc1d5-8ffb-4769-a761-2340d8686ae&title=&width=492.6666666666667" alt="image.png"></p>
<h5 id="获取内置命令的帮助信息"><a href="#获取内置命令的帮助信息" class="headerlink" title="获取内置命令的帮助信息"></a>获取内置命令的帮助信息</h5><p>像ls这种，man一下可以直接出来，但是man一下cd，出来的时bash<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696835619300-99956f87-3de4-4bff-befa-2cd6c2956860.png#averageHue=%23fcfcfc&clientId=u887a2894-e6ca-4&from=paste&height=349&id=u6e5481bf&originHeight=524&originWidth=757&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=96822&status=done&style=none&taskId=u21f82f64-484b-4cbf-b6b0-0fb5ffd3420&title=&width=504.6666666666667" alt="image.png"><br>有一部分的基础功能的系统命令时直接内嵌的shell中的，系统加载以后会随着shell一起加载，常驻系统内存中，这些命令叫做“内置命令”，其他的命令就叫做外部命令<br>我们可以通过type来判断命令类型<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696835789097-9a2722ba-cd0c-493c-976d-8917051b765e.png#averageHue=%23fefefe&clientId=u887a2894-e6ca-4&from=paste&height=59&id=ubeb062f6&originHeight=89&originWidth=344&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=9155&status=done&style=none&taskId=u150a7175-6109-4bc5-a2fc-60ebf7fc44a&title=&width=229.33333333333334" alt="image.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">内置命令需要加-f</span><br><span class="line">man -f 命令</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696835955628-614d5b76-6599-429d-af53-9f7944e09728.png#averageHue=%23fefefe&clientId=u887a2894-e6ca-4&from=paste&height=37&id=u6bda277f&originHeight=55&originWidth=323&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=4117&status=done&style=none&taskId=u27e90311-e64d-4d94-9b74-f5cdd9f1402&title=&width=215.33333333333334" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696835918711-0bba1b40-a8aa-41d5-9f44-42b1ff038f22.png#averageHue=%23fcfcfc&clientId=u887a2894-e6ca-4&from=paste&height=344&id=u5c39eb2b&originHeight=516&originWidth=753&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=93870&status=done&style=none&taskId=u5cc3f864-5470-4361-b723-2e6e45bfb30&title=&width=502" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696835969370-9dcbe504-239d-4a4d-b365-cfb9ba7e5316.png#averageHue=%23fcfcfc&clientId=u887a2894-e6ca-4&from=paste&height=353&id=XjF6e&originHeight=530&originWidth=763&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=80881&status=done&style=none&taskId=u0a4a9305-ae3c-4179-b187-4e79d2cc857&title=&width=508.6666666666667" alt="image.png"></p>
<p>我们也可以用help去获取</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 内置命令使用help格式</span></span><br><span class="line"><span class="built_in">help</span> 命令</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696836066554-7303c395-29bc-4f82-bf7a-b7b369713b84.png#averageHue=%23fefefe&clientId=u887a2894-e6ca-4&from=paste&height=345&id=u5b564a3f&originHeight=518&originWidth=790&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=71569&status=done&style=none&taskId=u541b032c-21f8-4077-a4b2-59e0ef817a7&title=&width=526.6666666666666" alt="image.png"><br>对于非内置命令，help格式如下<br>命令 –help</p>
<h5 id="shell常用快捷键"><a href="#shell常用快捷键" class="headerlink" title="shell常用快捷键"></a>shell常用快捷键</h5><p>reset	把当前shell界面全部清空，相当于重新启动了，但是可以通过上下键找到过往输入语句<br>Ctrl+C	中止当前进程<br>Ctrl+L	清屏，reset是彻底清屏<br>上下键，查找执行过的命令</p>
<h3 id="目录操作命令"><a href="#目录操作命令" class="headerlink" title="目录操作命令"></a>目录操作命令</h3><ol>
<li>pwd		显示当前工作目录的绝对路径<ol>
<li>pwd		：print working directory</li>
</ol>
</li>
<li>cd		切换目录，切换路径<ol>
<li>cd 		：Change Directory</li>
<li>cd 参数<ol>
<li>cd绝对路径&#x2F;相对路径	切换路径</li>
<li>cd  或者cd ~			返回家目录</li>
<li>cd -					返回上一次所在目录</li>
<li>cd ..					返回当前目录的上一级目录</li>
<li>cd -P				跳转的实际物理路径，而不是快捷方式路径</li>
</ol>
</li>
</ol>
</li>
<li>ls		列出目录的内容<ol>
<li>ls		：list</li>
<li>语法：ls [选项] [目录或者文件]<ol>
<li>选项说明</li>
<li>-a		全部的文件，联通隐藏文件（开头为.的文件）</li>
<li>-l		长数据串列出，包含文件的属性和权限等等数据，ls -l等价于ll</li>
<li>列出的信息依次是：文件类型与权限，连接数，文件属主，文件属组，文件大小（byte），建立或最近修改的时间，名字</li>
</ol>
</li>
</ol>
</li>
<li>mkdir	创建一个新的目录<ol>
<li>mkdir	：Make directory 建立目录</li>
<li>mkdir [选项] 要创建的目录<ol>
<li>-p	创建多层目录</li>
</ol>
</li>
</ol>
</li>
<li>rmdir	删除一个空的目录<ol>
<li>rmdir	Remove directory</li>
<li>rmdir 要删除的空目录</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696852336215-281bbe1f-82e2-443a-a867-6488bc52ac62.png#averageHue=%23fcfcfc&clientId=u887a2894-e6ca-4&from=paste&height=349&id=ud1d4ad7d&originHeight=523&originWidth=722&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=88317&status=done&style=none&taskId=u7acf390a-b71d-4c83-8dbe-c014324bd56&title=&width=481.3333333333333" alt="image.png"></li>
<li>利用-p，可以删完c，发现b也是空目录，也删除，然后同理删除a</li>
</ol>
</li>
<li>touch	创建空文件<ol>
<li>touch  文件名称</li>
</ol>
</li>
<li>cp		复制文件或目录<ol>
<li>cp [选项] source dest		复制source文件到dest</li>
<li>dest为文件夹，直接复制过去，若为文件，则会提示是否覆盖；如果是\cp，可以强制覆盖，没有提示</li>
<li>source为目录，选项-r，递归复制整个文件夹</li>
</ol>
</li>
<li>rm 		删除文件或目录<ol>
<li>rm [选项] deleteFile		递归删除目录中所有内容</li>
<li>选项<ol>
<li>-r	递归删除目录里面所有内容</li>
<li>-f	强制执行删除操作，不用提示</li>
<li>-v	显示指令的详细执行过程</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696853341107-cdb10736-cd34-4190-ba1b-144f811b9328.png#averageHue=%23fcfcfc&clientId=u887a2894-e6ca-4&from=paste&height=345&id=ufbbef0d3&originHeight=517&originWidth=747&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=90211&status=done&style=none&taskId=ufd5e32c0-8083-4440-b050-d86836067e8&title=&width=498" alt="image.png"></li>
</ol>
</li>
</ol>
</li>
<li>mv		move，移动文件夹或者是重命名<ol>
<li>mv oldNameFile newNameFile	重命名</li>
<li>mv oldPath newPath			移动文件</li>
</ol>
</li>
<li>cat		查看文件内容</li>
<li>cat 选项 要查看的文件（一般查看比较小的）<ol>
<li>-n 显示所有行的行号，包括空行</li>
</ol>
</li>
<li>more	文件内容分屏查看器</li>
<li>more是一个基于vi编辑器的文本过滤器，通过全屏幕按页显示文本文件内容</li>
<li>more  要查看的文件</li>
<li>相关操作键如下</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696854282474-27412ef4-adf2-41e4-b5ba-f94d104a624c.png#averageHue=%23eeeeee&clientId=u887a2894-e6ca-4&from=paste&height=163&id=ue12077ea&originHeight=244&originWidth=592&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=59312&status=done&style=none&taskId=u94dc396a-a3b2-4c48-bead-96129d47280&title=&width=394.6666666666667" alt="image.png"></li>
<li>less		分屏显示文件内容</li>
<li>和more类似，但是更强大，支持各种显示终端，与more相比，less并不是一次性加载完整个文件以后才显示，而是根据显示需要加载内容，显示大型文件有较高效率</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696854095301-0c446d3e-9d78-40c6-8332-a678de9bd348.png#averageHue=%23eeeeee&clientId=u887a2894-e6ca-4&from=paste&height=136&id=lPpnH&originHeight=204&originWidth=589&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=60443&status=done&style=none&taskId=u32536b0d-515a-4f43-ab8e-e2d814c8799&title=&width=392.6666666666667" alt="image.png"></li>
<li>echo	输出内容到控制台</li>
<li>-e 支持反斜线控制的字符转换</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696854644778-a625341a-4740-4e94-b0af-04d3f38d01e2.png#averageHue=%23fefefe&clientId=u887a2894-e6ca-4&from=paste&height=139&id=u2ef520ee&originHeight=209&originWidth=442&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=20057&status=done&style=none&taskId=u81358a65-4a45-44ec-8a6c-f622cd59890&title=&width=294.6666666666667" alt="image.png"></li>
<li><blockquote>
<p>输出重定向 ；	&gt;&gt;追加</p>
</blockquote>
</li>
<li>ls -l &gt; 文件				列表内容写入文件（覆盖写）</li>
<li>ls -al &gt;&gt; 文件				列表内容追加到文件的末尾</li>
<li>cat 文件1 &gt;文件2			文件1的内容覆盖到文件2</li>
<li>echo  文件&#x2F;“内容”&gt; 文件</li>
<li>head	显示文件头部内容</li>
<li>head  文件		默认情况下head指令显示文件头十行内容</li>
<li>head -n 5 文件		查看前五行内容</li>
<li>tail		显示文件</li>
<li>默认后十行，tail -n 5 文件这些都是类比head的</li>
<li>另外，tail -f 文件		实时追踪最新的内容，监视文件变化 </li>
<li>ln		软链接</li>
<li>软链接也叫符号链接，有自己的数据块，主要存放连接了其他文件的路径，类似快捷方式</li>
<li>ln -s [原文件或目录] [软链接名]			给原文件创建一个软链接</li>
<li>删除：	rm -rf 软链接名</li>
<li>rm -rf 软链接名&#x2F;		加上&#x2F;会把软链接对应的真是目录下内容删掉</li>
<li>通过ll可以查看软链接，列表属性第一个是l，尾部有位置指向</li>
<li>ln [原文件或目录] [软链接名]硬链接</li>
<li>history	查看已经执行过的命令</li>
<li>history -c清空历史</li>
<li>history展现的历史命令会带编号，！编号会输出那一条命令到控制台</li>
</ol>
<h3 id="时间日期类"><a href="#时间日期类" class="headerlink" title="时间日期类"></a>时间日期类</h3><p>date	 [OPTION] …… [+FORMAT]</p>
<ul>
<li>-d	时间字符串，显示指定的时间字符串表示的时间（不是当前时间）</li>
<li>-s	设置系统日期时间</li>
<li>后面那个指定显示时使用的日期时间格式<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">date						显示当前时间</span><br><span class="line">date +%Y/%m/%d				显示当前年份/月份/日子</span><br><span class="line">date <span class="string">&quot;+%Y-%m-%d %H:%M:%S&quot;</span>	显示年月日时分秒</span><br><span class="line">date +%y					年份后两位</span><br><span class="line">date +%s					时间戳</span><br></pre></td></tr></table></figure>
<img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696868725004-98dd4e1d-95c5-4016-b0c9-57512320b8e2.png#averageHue=%23fefefe&clientId=u9fd660ed-694b-4&from=paste&height=153&id=u0379ec8c&originHeight=229&originWidth=505&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=36058&status=done&style=none&taskId=ub4c061d6-6cfe-4ab1-946f-4ab607b2820&title=&width=336.6666666666667" alt="image.png"></li>
</ul>
<h5 id="date显示非当前时间"><a href="#date显示非当前时间" class="headerlink" title="date显示非当前时间"></a>date显示非当前时间</h5><p>date -d ‘1 days ago’		显示前一天时间<br>date -d ‘-1 days ago’		显示明天时间</p>
<h5 id="设置系统时间"><a href="#设置系统时间" class="headerlink" title="设置系统时间"></a>设置系统时间</h5><p>date -s  字符串时间</p>
<h5 id="cal查看日历"><a href="#cal查看日历" class="headerlink" title="cal查看日历"></a>cal查看日历</h5><p>cal	不加选项显示本月日历<br>cal 选项<br>选项：具体某一年，显示这一年的日历<img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696869068952-9c7bcb60-471f-4c32-9b00-5f9267d5a3fc.png#clientId=u9fd660ed-694b-4&from=paste&height=342&id=ud65cbda8&originHeight=513&originWidth=704&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=74948&status=done&style=none&taskId=ua6c288ab-d379-4b91-ba4e-34d9ad69110&title=&width=469.3333333333333" alt="image.png"></p>
<h3 id="用户管理命令"><a href="#用户管理命令" class="headerlink" title="用户管理命令"></a>用户管理命令</h3><ol>
<li>useradd		添加新用户<ol>
<li>useradd  用户名			添加新用户</li>
<li>useradd  -g  组名  用户名	添加新用户到某个组</li>
</ol>
</li>
<li>password		设置用户密码<ol>
<li>passwd 用户名</li>
</ol>
</li>
<li>id 用户名		查看用户是否存在</li>
<li>cat  &#x2F;etc&#x2F;passwd  	查看创建了哪些用户</li>
<li>su		切换用户</li>
<li>sudo	设置普通用户具有root权限<ol>
<li>把该用户添加到sudoers文件里面</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696898071973-eed0c99c-d1e7-4a66-bffa-1099e1198b84.png#averageHue=%23fefefe&clientId=u3661de1c-05d3-4&from=paste&height=209&id=u249c8757&originHeight=313&originWidth=634&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=49583&status=done&style=none&taskId=u98e895ab-2d55-41da-8dec-686972e6b7e&title=&width=422.6666666666667" alt="image.png"></li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696898121959-74c0c02c-6081-42a1-99dd-19a9ec6b2029.png#averageHue=%23fefefe&clientId=u3661de1c-05d3-4&from=paste&height=53&id=u7afc7a45&originHeight=79&originWidth=419&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=7362&status=done&style=none&taskId=uaad71dfc-8053-4bba-98af-01c6532ebbd&title=&width=279.3333333333333" alt="image.png"></li>
</ol>
</li>
<li>userdel		删除用户名<ol>
<li>这里常规删除测试用户test的时候，出现报错：userdel: user test is currently used by process 12294；使用kill命令杀死进程，然后userdel  -rf  test执行完毕</li>
</ol>
</li>
<li>groupadd	新增组</li>
<li>groupdel		删除组</li>
<li>groupmod	改变组</li>
<li>cat	&#x2F;etc&#x2F;group		查看创建的组</li>
<li>chomd </li>
<li>两种方式变更文件权限<ol>
<li>chmod [{ugoa} {+-&#x3D;} {rwx}]  文件或目录，比如：chmod  u+w  1.txt</li>
<li>chmod [mode&#x3D;421]  [file or dir]<ol>
<li>u:user	g:group	o:other	a:all</li>
<li>binary	r&#x3D;4,w&#x3D;2,x&#x3D;1  r+w+x&#x3D;7</li>
<li>e.g	chmod 777 1.txt(ugo全部改为rwx)</li>
<li>如果说是对目录，希望它嵌套递归的改变里面所有文件和目录都指定为这个权限，可以加-R</li>
</ol>
</li>
</ol>
</li>
<li>chown	改变所有者</li>
<li>chown  选项  最终用户  文件或目录		改变文件或者目录的所有者</li>
<li>-R	递归操作</li>
<li>chgrp	改变所属组</li>
<li>chgrp  最终用户组  文件或目录			该百年文件或目录的所属组</li>
<li></li>
</ol>
<h3 id="文件属性"><a href="#文件属性" class="headerlink" title="文件属性"></a>文件属性</h3><p>Linux是一个典型的多用户系统，不同用户权限也不同，我们可以通过ll来查看<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696900862525-a676a2c3-74e6-4eed-ba2f-f0dd4aac623c.png#averageHue=%23f0f0f0&clientId=u3661de1c-05d3-4&from=paste&height=165&id=u7a0e2ba2&originHeight=247&originWidth=568&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=67349&status=done&style=none&taskId=ub42be274-ba47-4364-bd8a-7dae19207d0&title=&width=378.6666666666667" alt="image.png"></p>
<ul>
<li>0首位表示类型<ul>
<li>-表示文件</li>
<li>d表示目录</li>
<li>l链接文档link file</li>
</ul>
</li>
<li>1-3位	属主（文件所有者）拥有该用户的权限	——user</li>
<li>4-6位	属组（所有者的同组用户）所有的权限	——group</li>
<li>7-9位	其他用户对这个文件的权限			——other</li>
</ul>
<p>rwx对目录和文件的不同解释</p>
<ul>
<li>对文件<ul>
<li>r表示可读</li>
<li>w表示可写，但是不能代表可以删除，删除文件需要拥有对这个文件所在目录的可写权限</li>
<li>x（execute）可以被系统执行</li>
</ul>
</li>
<li>对目录<ul>
<li>r表示可以读取。ls可查看</li>
<li>w表示可以修改，在里面创建，删除，重命名之类的</li>
<li>x可执行，表示可以进入这个目录</li>
</ul>
</li>
</ul>
<p>文件基本属性第二个是链接数</p>
<ul>
<li>如果是文件，表示的是硬链接</li>
<li>如果是文件夹，则表示子文件夹个数</li>
</ul>
<h3 id="搜索查找类"><a href="#搜索查找类" class="headerlink" title="搜索查找类"></a>搜索查找类</h3><ol>
<li>find		查找文件或目录<ol>
<li>find  搜索范围  选项</li>
<li>-name		按照指定文件名查找文件</li>
<li>-user		查找属于指定用户名的所有文件</li>
<li>-size		按照指定文件大小查找文件<ol>
<li>b	块（512字节）</li>
<li>c	字节</li>
<li>w	字（2字节）</li>
<li>k	千字节</li>
<li>M	兆字节</li>
<li>G	吉字节</li>
</ol>
</li>
</ol>
</li>
<li>locate	快速定位文件路径<ol>
<li>locate指令利用事先建立的系统中有所有文件名称及路径的locate数据库实现快速定位，查询速度较快，无需遍历整个文件系统</li>
<li>locate指令基于数据库进行查询，第一次运行前必须使用updatedb指令创建数据库</li>
</ol>
</li>
<li>grep		过滤查找，以及管道符  |<ol>
<li>grep  选项  查找内容  源文件</li>
<li>-n  显示匹配行和行号</li>
<li>管道符  |  ，表示把前一个命令的处理结果输出传递给后面的命令处理</li>
</ol>
</li>
<li>wc		word count<ol>
<li>wc  file		output: 行数  词数  字节数  文件名</li>
</ol>
</li>
</ol>
<h3 id="压缩解压类"><a href="#压缩解压类" class="headerlink" title="压缩解压类"></a>压缩解压类</h3><ol>
<li>gzip&#x2F;gunzip	压缩&#x2F;解压<ol>
<li>gzip	file		压缩文件，只能压缩为*.gz格式</li>
<li>gunzip  file.gz		解压缩文件命令</li>
<li>注意<ol>
<li>只能压缩文件，不能压缩目录</li>
<li>不保留源文件</li>
<li>同时可以多个文件，会分别产生压缩包</li>
</ol>
</li>
</ol>
</li>
<li>zip&#x2F;unzip 压缩<ol>
<li>zip  选项 xxx.zip  需要压缩的内容			 压缩文件和目录</li>
<li>unzip  选项  xxx.zip						解压缩文件</li>
<li>zip			-r	压缩目录</li>
<li>unzip		-d	指定解压后文件的存放目录</li>
<li>zip压缩命令在win和linux都通用，压缩完以后保留原文件</li>
</ol>
</li>
<li>tar	打包<ol>
<li>tar  选项 xxx.tar.gz  将要打包进去的内容		打包目录，压缩后的文件格式为.tar.gz</li>
<li>-c	产生.tar打包文件</li>
<li>-v	显示详细信息</li>
<li>-f	指定压缩后的文件名</li>
<li>-z	打包以后同时压缩</li>
<li>-x	捷豹。tar我呢见</li>
<li>-C	解压到指定目录</li>
</ol>
</li>
</ol>
<h5 id="打包和压缩。"><a href="#打包和压缩。" class="headerlink" title="打包和压缩。"></a>打包和压缩。</h5><p>打包是指将一大堆文件或目录什么的变成一个总的文件，压缩则是将一个大的文件通过一些压缩算法变成一个小文件。为什么要区分这 两个概念呢？其实这源于Linux中的很多压缩程序只能针对一个文件进行压缩，这样当你想要压缩一大堆文件时，你就得先借助另外的工具将这一大堆文件先打 成一个包，然后再就原来的压缩程序进行压缩。</p>
<h3 id="磁盘管理类"><a href="#磁盘管理类" class="headerlink" title="磁盘管理类"></a>磁盘管理类</h3><h4 id="磁盘查看和分区类"><a href="#磁盘查看和分区类" class="headerlink" title="磁盘查看和分区类"></a>磁盘查看和分区类</h4><ol>
<li>du		view the disk occupied by directories and files,du:disk usage<ol>
<li>du  die&#x2F;file  path			displays the disk usage of each subdirunder the dir</li>
<li>-h 		display itself in easy-to-read formats such as GBytes,MBytes,and KBytes</li>
<li>-a 		view subdir sizes,including files</li>
<li>-c 		displays all file and subdir sizes, as well as the sum size</li>
<li>-s   		display sum size</li>
<li>–max-depth&#x3D;n	指定统计子目录深度为n层</li>
<li>tree		display files and dirs in a tree shape		<ol>
<li>install tree command(yum install tree)</li>
</ol>
</li>
</ol>
</li>
<li>df 	disk free 		view free disk<ol>
<li>df  选项		列出文件系统整体磁盘使用量，检查磁盘空间占用情况</li>
<li>-h	和du一样</li>
</ol>
</li>
<li>lsblk		查看设备挂载情况	ls block<ol>
<li>-f	查看详细的设备挂载情况，显示文件系统信息</li>
<li>MOUNTPOINT	挂载点</li>
<li>sda，hda，vda这是硬盘的类型<ol>
<li>IDE	则是hd，a表示第一块，hdb就是第二块，后面接数字，hda1就表示第一块硬盘的第一个分区</li>
<li>SATA&#x2F;SCSI  就是sda<ol>
<li>SCSI（Small Computer System Interface），小型计算机系统接口，是一种计算机与外部设备之间的接口标准。</li>
<li>ATA（Advanced Technology Attachment），高技术配置，一般来说，ATA是一种控制器技术，而IDE（Integrated Drive Electronics）是一个匹配它的磁盘驱动器技术，ATA和IDE通常可以互换使用。<ol>
<li>SATA（Serial ATA）口的硬盘又叫串口硬盘. SATA以它串行的数据发送方式得名。</li>
</ol>
</li>
</ol>
</li>
<li>vda<ol>
<li>VDA是Virtual Disk Adapter的缩写，意为虚拟磁盘适配器。VDA是一种Linux内核的驱动程序，它在虚拟环境中提供了与实体硬件磁盘交互的方式。如果我们在虚拟机中添加了新的硬盘，那么这个硬盘就会被创建为一个虚拟磁盘，并由VDA驱动来进行管理和操作。也就是说，VDA驱动程序是Linux系统中的一种设备驱动，用于支持虚拟磁盘。</li>
</ol>
</li>
<li><a target="_blank" rel="noopener" href="https://www.dbs724.com/339634.html">https://www.dbs724.com/339634.html</a></li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696942217782-c4fbcc6f-7cc4-4dbe-a8cb-38505cff382b.png#averageHue=%23fefefe&clientId=u3661de1c-05d3-4&from=paste&height=213&id=u2234023b&originHeight=319&originWidth=665&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=47149&status=done&style=none&taskId=uae08d5c7-b742-414a-a5c8-b1822c5124e&title=&width=443.3333333333333" alt="image.png"></li>
<li>后面这一串是系统为他们创建的唯一的uuid</li>
</ol>
</li>
</ol>
</li>
<li>mount&#x2F;umount	挂在&#x2F;卸载<ol>
<li>mount [-t vfstype] [-o options] device dir	挂载设备</li>
<li>umount 设备文件名或挂载点				卸载设备</li>
<li>-t  vfstype	指定文件的类型，一般是不用的，因为mount会自动选择正确的类</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696945123497-cf7a84af-962d-42ce-88f4-c5dd972cee22.png#averageHue=%23fafaf9&clientId=u3661de1c-05d3-4&from=paste&height=338&id=uf3ec86bf&originHeight=507&originWidth=739&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=85372&status=done&style=none&taskId=u6320b262-ee1f-4697-b730-504213158fe&title=&width=492.6666666666667" alt="image.png"></li>
</ol>
</li>
<li>fdisk	分区<ol>
<li>fdisk  -l		查看磁盘分区详情</li>
<li>fdisk  硬盘设备名		对新增硬盘进行分区操作</li>
<li>-l		显示所有硬盘的分区操作</li>
<li>只能root用户使用</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696946093007-6d204989-d664-4993-be9e-ff0587398007.png#averageHue=%23fefefe&clientId=u3661de1c-05d3-4&from=paste&height=232&id=u132fb28a&originHeight=348&originWidth=723&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=58964&status=done&style=none&taskId=uc6f56a37-5c3b-4166-8b5f-2df1682daa1&title=&width=482" alt="image.png"></li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696946114603-afb9e2f6-49b8-41ce-8ca5-c1093fb5ca11.png#averageHue=%23fefefe&clientId=u3661de1c-05d3-4&from=paste&height=375&id=uab86cace&originHeight=562&originWidth=561&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=71943&status=done&style=none&taskId=uf68e28c3-4d68-4e94-b29a-f440dd195ea&title=&width=374" alt="image.png"></li>
<li>n划分分区，最多4个主分区（primary），如果还需要划分，拿一个主分区做拓展分区，分区数最多为16</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696946336875-331bbd31-4b01-460e-94a2-779b7a8e20be.png#averageHue=%23fefefe&clientId=u3661de1c-05d3-4&from=paste&height=162&id=ue283b9e5&originHeight=243&originWidth=663&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=35276&status=done&style=none&taskId=u4565e23d-01f8-4dab-ab80-3668613410c&title=&width=442" alt="image.png"></li>
<li>mkfs	make file system	-t，指定文件系统类型</li>
</ol>
</li>
</ol>
<h3 id="进程管理类"><a href="#进程管理类" class="headerlink" title="进程管理类"></a>进程管理类</h3><ol>
<li>ps		process  status	查看当前系统进程状态（只显示当前用户的，与当前用户相关的）<ol>
<li>ps aux | grep xxx		查看系统中所有进程<ol>
<li>显示信息说明</li>
<li>PID：进程的ID号</li>
<li>%CPU：该进程占用的CPU资源百分比</li>
<li>%MEM：该进程占用的物理内存的百分比</li>
<li>VSZ：该进程占用的虚拟内存的大小，单位KB</li>
<li>RSS：该进程占用的实际物理内存大小，单位KB</li>
<li>该进程是在哪个终端中运行的<ol>
<li>在CentOS中，tty1是图形化终端</li>
<li>tty2-tty6是本地的字符界面终端</li>
<li>pts&#x2F;0-255代表虚拟终端</li>
</ol>
</li>
<li>STAT：进程状态<ol>
<li>R:运行状态</li>
<li>S:睡眠状态</li>
<li>T:暂停状态</li>
<li>Z：僵尸状态</li>
<li>s：包含子进程</li>
<li>l：多线程</li>
<li>+：前台显示</li>
<li>&lt;&#x2F;N:较高&#x2F;较低优先级</li>
</ol>
</li>
<li>START	启动时间</li>
<li>TIME	占用CPU的运算时间</li>
<li>COMMAND	产生此进程的命令名</li>
</ol>
</li>
<li>ps -ef | grep xxx		查看父子进程之间的关系<ol>
<li>UID		用户</li>
<li>PPID	父进程		0号进程idle</li>
<li>C		CPU用于计算执行优先级的因子<ol>
<li>数值高表示为CPU密集型运算，执行优先级降低</li>
<li>数值小表示为I&#x2F;O密集型运算，执行优先级提高</li>
</ol>
</li>
<li>STIME	进程启动时间</li>
</ol>
</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696985457756-a565d715-232e-41a9-a150-a33086b346c0.png#averageHue=%23e9e8ea&clientId=u3661de1c-05d3-4&from=paste&height=114&id=ufbdc1b33&originHeight=171&originWidth=470&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=65380&status=done&style=none&taskId=u3f9f0f99-0ab8-4fc0-9774-168333c25ef&title=&width=313.3333333333333" alt="image.png"></li>
</ol>
</li>
<li>kill	终止进程<ol>
<li>kill  选项  进程号		通过进程号杀死进程</li>
<li>killall  进程名字		通过进程名称杀死进程，支持通配符</li>
<li>kill -l	列出一些选项操作</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696987581488-b7471d6b-50a8-4dd2-9c43-ac12502e6c7c.png#averageHue=%23242424&clientId=u3661de1c-05d3-4&from=paste&height=297&id=u66d4dec5&originHeight=446&originWidth=1157&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=70176&status=done&style=none&taskId=u96fbc755-0b7b-4cae-aab4-2ec00d50698&title=&width=771.3333333333334" alt="image.png"></li>
<li>-9 		表示强迫进程立即停止</li>
</ol>
</li>
<li>pstree		查看进程树<ol>
<li>pstree  选项<ol>
<li>-p  		显示进程的PID</li>
<li>-u  		显示进程所属用户</li>
</ol>
</li>
</ol>
</li>
<li>top			实时监控系统进程状态<ol>
<li>top  选项<ol>
<li>-d  秒数	指定top命令几秒更新一次，默认3s</li>
<li>-i		使top不显示任何闲置或僵死进程</li>
<li>-p		通过PID来监控某个进程的状态</li>
</ol>
</li>
<li>对top显示信息操作<ol>
<li>P		以CPU使用率排序</li>
<li>M		以内存使用率排序</li>
<li>N		以PID排序</li>
<li>q		退出top</li>
</ol>
</li>
</ol>
</li>
<li>netstat		下面睡觉哦网络状态和端口占用信息<ol>
<li>netstat -anp | grep  进程号		查看该进程网络信息</li>
<li>netstat -nlp | grep 端口号		查看网络端口号占用信息<ol>
<li>-a	显示所有在监听和未监听的套接字</li>
<li>-n	拒绝显示别名，能显示数字的全部转换为数字</li>
<li>-l	仅列出在监听的服务状态</li>
<li>-p	表示显示哪个进程正在调用</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="系统定时"><a href="#系统定时" class="headerlink" title="系统定时"></a>系统定时</h3><ol>
<li>crontab	系统定时任务		cron table时间表<ol>
<li>crontab  选项<ol>
<li>-e  		编辑crontab定时任务</li>
<li>-l		查询crontab任务</li>
<li>-r		删除当前用户所有的crontab任务</li>
</ol>
</li>
<li>进图crontab编辑界面，会打开vim编辑工作<ol>
<li>*****  执行的任务</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696993363115-53a8708e-6864-4776-82d8-d13752ad6ef2.png#averageHue=%23f3f3f3&clientId=u29adce17-3961-4&from=paste&height=199&id=u91fd33fb&originHeight=299&originWidth=596&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=69491&status=done&style=none&taskId=u2f6d2dd5-aa75-4834-9060-bc2129fa539&title=&width=397.3333333333333" alt="image.png"></li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696993420744-d3fcceb3-93f2-4e1e-9aa8-0448094a4e2c.png#averageHue=%23f2f2f2&clientId=u29adce17-3961-4&from=paste&height=221&id=u0c1e5c28&originHeight=332&originWidth=607&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=103893&status=done&style=none&taskId=uff108539-ca5a-4395-80c6-72a6e18cc32&title=&width=404.6666666666667" alt="image.png"></li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1696993574934-2f86d773-fb5c-48c8-b721-e8611183d16c.png#averageHue=%23f0f0f0&clientId=u29adce17-3961-4&from=paste&height=225&id=u9fca5d92&originHeight=338&originWidth=608&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=117548&status=done&style=none&taskId=u6ab19e59-ab1f-48a9-b3d8-0dd43187fe2&title=&width=405.3333333333333" alt="image.png"></li>
<li>注意，*&#x2F;10 4 ***表示从每天四点开始，每隔10min执行一次</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>	</p>
<h3 id="软件包管理"><a href="#软件包管理" class="headerlink" title="软件包管理"></a>软件包管理</h3><h4 id="RPM"><a href="#RPM" class="headerlink" title="RPM"></a>RPM</h4><h5 id="RPM属性"><a href="#RPM属性" class="headerlink" title="RPM属性"></a>RPM属性</h5><p>RPM（Redhat Package Manager）,RedHat软件包管理工具，类似windows的setup.exe。使linux系列的打包安装工具</p>
<h5 id="RPM名称格式"><a href="#RPM名称格式" class="headerlink" title="RPM名称格式"></a>RPM名称格式</h5><p>a-b-c.rpm</p>
<ul>
<li>a: 软件名称</li>
<li>b: 软件版本号，主版本和此版本</li>
<li>c：软件运行的硬件平台，i386，x86等等</li>
<li>.rpm		文件拓展名，表示rpm包</li>
</ul>
<h5 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h5><ol>
<li>rpm -qa		查询安装的所有rpm软件包<ol>
<li>软件包较多，一般会使用过滤</li>
</ol>
</li>
<li>rpm -e  RPM软件安装包<ol>
<li>-e	卸载软件包</li>
<li>–nodeps		卸载软件时不检查依赖（有些软件是需要依赖其他软件的，卸载底层软件包的话，会对其他软件使用造成影响，可以通过这个命令）</li>
</ol>
</li>
<li>rpm	-ivh RPM包全名（a-b-c.rpm）<ol>
<li>-i	install安装</li>
<li>-v	–verbose  	显示详细信息</li>
<li>-h	–hash		进度条</li>
<li>–nodeps		安装前不检查依赖</li>
</ol>
</li>
</ol>
<h4 id="YUM"><a href="#YUM" class="headerlink" title="YUM"></a>YUM</h4><h5 id="YUM概述"><a href="#YUM概述" class="headerlink" title="YUM概述"></a>YUM概述</h5><p>YUM，Yellow dog Updater,Modified,是一个Shell前端软件包管理器，基于RPM包管理，能从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包</p>
<h5 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h5><ol>
<li>yum  选项  参数<ol>
<li>-y	对所有提问都回答yes</li>
<li>install	安装rpm软件包</li>
<li>update	更新rpm软件包</li>
<li>check-update		检查是否有可用的更新rpm软件包</li>
<li>remove	删除指定的rpm软件包</li>
<li>list		显示软件包信息</li>
<li>clean	行李yum过期的缓存</li>
<li>deplist	显示yum软件包的所有依赖关系</li>
</ol>
</li>
<li>默认系统YUM源需要连接国外apache网站，网速较慢，可以修改为镜像网站<ol>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697095327767-5fb6cda5-1dec-4760-8205-9e5a1e815a18.png#averageHue=%23dddddd&clientId=u29adce17-3961-4&from=paste&height=144&id=u183891e1&originHeight=216&originWidth=528&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=97906&status=done&style=none&taskId=ua2feafb9-3a3f-4a86-8f62-5ed94b8c3b7&title=&width=352" alt="image.png"></li>
</ol>
</li>
</ol>
<h3 id="克隆虚拟机"><a href="#克隆虚拟机" class="headerlink" title="克隆虚拟机"></a>克隆虚拟机</h3><h4 id="克隆"><a href="#克隆" class="headerlink" title="克隆"></a>克隆</h4><ol>
<li>在vm管理里面直接克隆，</li>
<li>然后登录，和原本一样，账号密码这些的也是一起被克隆的</li>
<li>修改网络地址，ping了一下，没问题</li>
<li>修改主机名</li>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1697101046964-0f430576-2b2c-4366-9d55-e742743917e4.png#averageHue=%23fefefe&clientId=ub430d930-9a42-4&from=paste&height=103&id=u1aa1597a&originHeight=154&originWidth=668&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=26602&status=done&style=none&taskId=ub47ea28d-a45c-410b-a67f-d4d54fc4996&title=&width=445.3333333333333" alt="image.png"></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/03/28/linux/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" data-id="cluc2gj2q000cac6zc1qu70gz" data-title="Linux常用命令" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-python/PythonStudy" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/28/python/PythonStudy/" class="article-date">
  <time class="dt-published" datetime="2024-03-27T16:00:00.000Z" itemprop="datePublished">2024-03-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/28/python/PythonStudy/">pythonStudy</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.变量不需要声明类型，Python的动态语言特性</span></span><br><span class="line"><span class="comment"># 2.变量使用前都得先赋值，</span></span><br><span class="line"><span class="comment"># 赋值以后才会被创建，新的变量是通过赋值的动作创建开辟内存空间的</span></span><br><span class="line"><span class="comment"># 未赋值直接使用会报错，变量未定义</span></span><br><span class="line">age=<span class="number">19</span></span><br><span class="line"><span class="built_in">print</span>(age)</span><br><span class="line"><span class="comment"># 3.赋值方式</span></span><br><span class="line"><span class="comment"># 单个赋值</span></span><br><span class="line">age=<span class="number">19</span></span><br><span class="line"><span class="comment"># 批量赋值</span></span><br><span class="line">a=b=c=<span class="number">1</span></span><br><span class="line"><span class="comment"># 计算赋值</span></span><br><span class="line">d=<span class="number">1</span>+<span class="number">1</span></span><br><span class="line"><span class="comment"># 分别赋值</span></span><br><span class="line">e,f,g=<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br><span class="line"><span class="comment"># 4.常量，Python中用全部大写的方式表达常量</span></span><br></pre></td></tr></table></figure>
<h5 id="赋值"><a href="#赋值" class="headerlink" title="赋值"></a>赋值</h5><p>当我们写：a &#x3D; “Jack” 时，Python解释器干了两件事情：</p>
<ol>
<li>在内存中创建了一个’Jack’的字符串对象；</li>
<li>在内存中创建了一个名为a的变量，并把它指向 ‘Jack’。</li>
</ol>
<p>而当你把一个变量a赋值给另一个变量b，这个操作实际上是将变量b指向变量a所指向的数据<br>Python中的一切都是对象，变量就是对对象的引用</p>
<p>通过id()可以查看变量值的内存地址</p>
<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><h5 id="定义字符串"><a href="#定义字符串" class="headerlink" title="定义字符串"></a>定义字符串</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">name_1 = <span class="string">&#x27;Jack&#x27;</span>  <span class="comment"># 单引号</span></span><br><span class="line">name_2 = <span class="string">&quot;Jack&quot;</span>  <span class="comment"># 双引号</span></span><br><span class="line">name_3 =  <span class="string">&#x27;&#x27;&#x27;Jack&#x27;&#x27;&#x27;</span> <span class="comment"># 三个单引号</span></span><br><span class="line">name_4 = <span class="string">&quot;&quot;&quot;Jack&quot;&quot;&quot;</span>  <span class="comment"># 三个双引号</span></span><br><span class="line">name_1 == name_2 == name_3 == name_4   <span class="comment">#true</span></span><br><span class="line"><span class="comment"># 这四种方式等价，同时，三引号可以创建多行字符串</span></span><br></pre></td></tr></table></figure>
<h5 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 去除两边空格</span></span><br><span class="line">msg = <span class="string">&quot;    Python编程时光    &quot;</span></span><br><span class="line">msg.lstrip()  <span class="comment"># 去除左边空格</span></span><br><span class="line">msg.rstrip()  <span class="comment"># 去除右边空格</span></span><br><span class="line">msg.strip()   <span class="comment"># 去除左右两边空格</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断字符串是否以某字符串开头</span></span><br><span class="line">msg = <span class="string">&quot;Hello, Python&quot;</span></span><br><span class="line">msg.startswith(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line"><span class="comment"># 判断字符串是否以某字符串结尾</span></span><br><span class="line">msg.endswith(<span class="string">&quot;Python&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 分割字符串</span></span><br><span class="line">languages = <span class="string">&quot;Python,Java,Golang&quot;</span></span><br><span class="line">languages.split(<span class="string">&quot;,&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 是判断是否都由数字组成</span></span><br><span class="line">age = <span class="built_in">input</span>(<span class="string">&quot;please input your age: &quot;</span>)</span><br><span class="line">age.isdigit()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># str转bytes</span></span><br><span class="line">myBytes = myStr.encode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">myBytes = <span class="built_in">bytes</span>(myStr, encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"><span class="comment"># bytes转str</span></span><br><span class="line">myStr = myBytes.decode(<span class="string">&quot;utf-8&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="数据类型-1"><a href="#数据类型-1" class="headerlink" title="数据类型"></a>数据类型</h3><h4 id="整数"><a href="#整数" class="headerlink" title="整数"></a>整数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 用type()来查看类型</span></span><br><span class="line">a=<span class="number">1</span></span><br><span class="line"><span class="built_in">type</span>(a)</span><br><span class="line"><span class="comment"># 十六进制：用0x前缀和0-9，a-f表示，例如：0xff00，0xa5b4c3d2。</span></span><br><span class="line"><span class="comment"># 八进制：用0o前缀和0-7表示，例如0o12</span></span><br></pre></td></tr></table></figure>
<h4 id="浮点数"><a href="#浮点数" class="headerlink" title="浮点数"></a>浮点数</h4><p>之所以称为浮点数，是因为按照科学记数法表示时，一个浮点数的小数点位置是可变的，比如，1.23x10^9和12.3x10^8是完全相等的。浮点数可以用数学写法，如1.23，3.14，-9.01，等等。但是对于很大或很小的浮点数，就必须用科学计数法表示，把10用e替代，1.23x109就是1.23e9，或者12.3e8，0.000012可以写成1.2e-5，等等。</p>
<h4 id="复数"><a href="#复数" class="headerlink" title="复数"></a>复数</h4><p>复数由实数部分和虚数部分构成，可以用a + bj，或者 complex(a,b) 表示，复数的实部a和虚部b都是浮点型。</p>
<h4 id="布尔值"><a href="#布尔值" class="headerlink" title="布尔值"></a>布尔值</h4><p>布尔类型只有两个值<br>True：表示真值<br>False：表示假值<br><strong>这里注意，首字母大写，没有其他的变型</strong></p>
<h5 id="布尔类型转换：使用bool"><a href="#布尔类型转换：使用bool" class="headerlink" title="布尔类型转换：使用bool()"></a>布尔类型转换：使用bool()</h5><h6 id="下面这些值经过-bool-转换后是假值："><a href="#下面这些值经过-bool-转换后是假值：" class="headerlink" title="下面这些值经过 bool 转换后是假值："></a>下面这些值经过 bool 转换后是假值：</h6><p>0、0.0、-0.0<br>None：这个后面会讲到<br>空字符串、空列表、空元组、空字典</p>
<h6 id="而这些会转换成真值"><a href="#而这些会转换成真值" class="headerlink" title="而这些会转换成真值"></a>而这些会转换成真值</h6><p>-1、1或者其他非0数值<br>所有非空字符串，包括 “False”<br>所有非空字典、非空列表、非空集合，非空元组</p>
<h5 id="布尔运算"><a href="#布尔运算" class="headerlink" title="布尔运算"></a>布尔运算</h5><p>布尔类型可以进行 and、or和 not运算。<br>在四则运算中，True为1，False为0</p>
<h4 id="空值None"><a href="#空值None" class="headerlink" title="空值None"></a>空值None</h4><p>类型为NoneType</p>
<h4 id="输入输出"><a href="#输入输出" class="headerlink" title="输入输出"></a>输入输出</h4><h5 id="输入input"><a href="#输入input" class="headerlink" title="输入input"></a>输入input</h5><p>input()函数，会将用户输入的保存为字符串，括号里面加上双引号里面的字符串会打印出来提示用户输入。</p>
<h5 id="输出print"><a href="#输出print" class="headerlink" title="输出print"></a>输出print</h5><p>print可以接受多个字符串，字符串类型的变量或者可print的对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 多个字符串输出，如果是逗号分开，会自动加一个空格</span></span><br><span class="line">a = <span class="string">&quot;i am&quot;</span></span><br><span class="line">b = <span class="string">&quot;student&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a,<span class="string">&quot;a&quot;</span> , b)</span><br><span class="line"><span class="comment"># i am a student      # 自动以空格分隔</span></span><br><span class="line"><span class="comment"># 如果是+连接</span></span><br><span class="line"><span class="built_in">print</span>(a+<span class="string">&quot;a&quot;</span>+b)</span><br><span class="line"><span class="comment"># i amastudent        # 无分隔</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print原型：print(self, *args, sep=&#x27; &#x27;, end=&#x27;\n&#x27;, file=None)</span></span><br><span class="line"><span class="comment"># sep是选用的分隔符，默认&#x27; &#x27;，end参数是打印以后的结束方式，默认换行，设置为空即不换行</span></span><br><span class="line">a = <span class="string">&quot;i am&quot;</span> </span><br><span class="line">b = <span class="string">&quot;student&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a,<span class="string">&quot;a&quot;</span> , b, sep=<span class="string">&quot;*&quot;</span>)</span><br><span class="line"><span class="comment"># i am*a*student</span></span><br></pre></td></tr></table></figure>
<h5 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h5><p>用input获取到的都是字符串，如果想要其他类型，可以用函数转换</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="built_in">input</span>(<span class="string">&quot;please input your age: &quot;</span>)</span><br><span class="line">age = <span class="built_in">int</span>(age)</span><br><span class="line"><span class="comment"># age为int</span></span><br></pre></td></tr></table></figure>
<h4 id="字符串格式化"><a href="#字符串格式化" class="headerlink" title="字符串格式化"></a>字符串格式化</h4><p>格式化输出，主要有三种方式</p>
<ol>
<li>使用 % 进行格式化<ol>
<li><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1695099852628-2f6a33a8-3284-4347-ad7b-5bae9edd18f8.png#averageHue=%23e5e5e3&clientId=u4320fe4f-05b0-4&from=paste&height=377&id=u5d99494e&originHeight=565&originWidth=753&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=116504&status=done&style=none&taskId=ua2f58d6e-4da4-46bc-9592-b54a2bf4c1f&title=&width=502" alt="image.png"></li>
</ol>
</li>
<li>使用 format 函数进行格式化</li>
<li>使用 f-string 进行格式化<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用 % 进行格式化</span></span><br><span class="line">name = <span class="string">&quot;Jack&quot;</span></span><br><span class="line">age = <span class="number">18</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;我的名字是: %s，今年 %d 岁&quot;</span> %(name, age))</span><br><span class="line"><span class="comment"># 我的名字是: Jack，今年 18 岁</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 format 函数</span></span><br><span class="line"><span class="comment"># 使用 &#123;&#125; 进行占位，然后在字符串后跟上 .format() 函数，这个函数的参数就是我们要往字符串中填充的变量。</span></span><br><span class="line"><span class="comment"># format 函数会依次填充，比如第一个 &#123;&#125; 会取到第一个参数 name，第二个 &#123;&#125; 会取到第二个参数 age</span></span><br><span class="line">name = <span class="string">&quot;Jack&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>age = <span class="number">18</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot;我的名字是:&#123;&#125;, 今年 &#123;&#125; 岁&quot;</span>.<span class="built_in">format</span>(name, age))</span><br><span class="line"><span class="comment"># 我的名字是:Jack, 今年 18 岁</span></span><br><span class="line"><span class="comment"># 变量较多也可以使用索引： print(&quot;我的名字是:&#123;0&#125;, 今年 &#123;1&#125; 岁&quot;.format(name, age))</span></span><br><span class="line"><span class="comment"># 也可以直接用名字：print(&quot;我的名字是:&#123;name&#125;, 今年 &#123;age&#125; 岁&quot;.format(name=name, age=age))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 f-string </span></span><br><span class="line"><span class="comment"># 只要在字符串前面加一个 f，开启 f-string ，就可以在字符中写入变量。</span></span><br><span class="line">name = <span class="string">&quot;Jack&quot;</span></span><br><span class="line">age = <span class="number">18</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;我的名字是:<span class="subst">&#123;name&#125;</span>, 今年 <span class="subst">&#123;age&#125;</span> 岁&quot;</span>)</span><br><span class="line"><span class="comment"># 我的名字是:Jack, 今年 18 岁</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1695100218534-79edf0ed-e179-4a3d-8356-6710e4482ab6.png#averageHue=%23eff0f0&clientId=u4320fe4f-05b0-4&from=paste&height=363&id=u54c738a0&originHeight=544&originWidth=1058&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=101382&status=done&style=none&taskId=u1206c895-6312-4e10-9701-bbcd07ce474&title=&width=705.3333333333334" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1695100236886-bfe292f9-49a0-4824-9df7-98980f9e56c6.png#averageHue=%23dacfaf&clientId=u4320fe4f-05b0-4&from=paste&height=341&id=u4393a83f&originHeight=511&originWidth=1033&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=88935&status=done&style=none&taskId=u0d5ff430-c20f-439b-b009-88cd189a740&title=&width=688.6666666666666" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1695100262413-24c72f72-8dd6-4bb8-932e-040692979fa8.png#averageHue=%23ead6be&clientId=u4320fe4f-05b0-4&from=paste&height=281&id=ud0a7e00e&originHeight=421&originWidth=1054&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=103750&status=done&style=none&taskId=u41a78768-6de2-443b-9dd6-465569c437d&title=&width=702.6666666666666" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1695100280794-4b40885a-b01c-42bd-accd-f2a772cb4c09.png#averageHue=%23eaebeb&clientId=u4320fe4f-05b0-4&from=paste&height=161&id=u409e8344&originHeight=241&originWidth=995&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=57008&status=done&style=none&taskId=u9fd55668-428c-4af2-a6b3-a882540473a&title=&width=663.3333333333334" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1695100337700-c2f939da-68d7-4654-a2d4-12aa8b3ebe1b.png#averageHue=%23e2c18b&clientId=u4320fe4f-05b0-4&from=paste&height=529&id=ue19355ac&originHeight=794&originWidth=854&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=62357&status=done&style=none&taskId=u8e09489b-25ee-4624-a590-9e403b593fb&title=&width=569.3333333333334" alt="image.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 成员运算符</span></span><br><span class="line"><span class="string">&quot;Apple&quot;</span> <span class="keyword">in</span> [<span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Huawei&quot;</span>]</span><br><span class="line"><span class="comment"># True</span></span><br><span class="line"><span class="string">&quot;Vivo&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> [<span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Huawei&quot;</span>]</span><br><span class="line"><span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 身份运算符</span></span><br><span class="line">b = <span class="number">1000</span></span><br><span class="line">a = <span class="number">1000</span></span><br><span class="line"><span class="built_in">id</span>(a)</span><br><span class="line"><span class="comment"># 4532310864</span></span><br><span class="line"><span class="built_in">id</span>(b)</span><br><span class="line"><span class="comment"># 4532311632</span></span><br><span class="line">a <span class="keyword">is</span> b</span><br><span class="line"><span class="comment"># False</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1695100472021-144f46ee-f931-4219-a678-ec8dd0f51536.png#averageHue=%23edeeee&clientId=u4320fe4f-05b0-4&from=paste&height=93&id=uce34f813&originHeight=139&originWidth=681&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=16378&status=done&style=none&taskId=ub18fa4b9-624d-4ebe-92a2-72fea178e68&title=&width=454" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1695100482595-610bb33e-3e91-4f0b-b9f0-48f0752a79f5.png#averageHue=%23eeefef&clientId=u4320fe4f-05b0-4&from=paste&height=93&id=uf0071794&originHeight=140&originWidth=700&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=19543&status=done&style=none&taskId=u3f01fc13-5af1-4db1-ac58-0c68f4c9254&title=&width=466.6666666666667" alt="image.png"></p>
<h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><h4 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.创建列表</span></span><br><span class="line"><span class="comment"># 两种方式</span></span><br><span class="line"><span class="comment"># 第一种，先建空列表，再往里面添加元素</span></span><br><span class="line">a=<span class="built_in">list</span>()</span><br><span class="line">a.append(<span class="string">&quot;aa&quot;</span>)</span><br><span class="line">a.append(<span class="string">&quot;aaa&quot;</span>)</span><br><span class="line">a.append(<span class="string">&quot;aaaa&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment"># [&#x27;aa&#x27;, &#x27;aaa&#x27;, &#x27;aaaa&#x27;]</span></span><br><span class="line"><span class="comment"># 第二种直接定义列表填充元素</span></span><br><span class="line">a=[<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;aaa&#x27;</span>, <span class="string">&#x27;aaaa&#x27;</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.增删查改</span></span><br><span class="line"><span class="comment"># 查看元素，直接用索引，和C数组一样，从0开始</span></span><br><span class="line">a=[<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;aaa&#x27;</span>, <span class="string">&#x27;aaaa&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># 使用方法与函数</span></span><br><span class="line"><span class="comment"># 使用index方法：查看第一个值为？的索引</span></span><br><span class="line">a.index(<span class="string">&quot;aa&quot;</span>)</span><br><span class="line"><span class="comment"># 使用count方法查看值为？的个数</span></span><br><span class="line">a.count(<span class="string">&quot;aa&quot;</span>)</span><br><span class="line"><span class="comment"># 使用内置函数len查看列表元素个数</span></span><br><span class="line"><span class="built_in">len</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 新增元素</span></span><br><span class="line"><span class="comment"># 使用列表的方法：append,insert,extend</span></span><br><span class="line"><span class="comment"># append:将元素插到列表的最后一个位置</span></span><br><span class="line"><span class="comment"># insert:将元素插到列表的指定位置</span></span><br><span class="line">a.insert(<span class="number">1</span>,<span class="string">&quot;b&quot;</span>)  <span class="comment">#把b插到索引为1的位置，原本1号位置往后挪</span></span><br><span class="line"><span class="comment"># extend:将新列表直接连接到旧列表后面</span></span><br><span class="line">b=[<span class="string">&quot;bb&quot;</span>,<span class="string">&quot;bbb&quot;</span>]</span><br><span class="line">a.extend(b)</span><br><span class="line"><span class="comment"># [&#x27;aa&#x27;, &#x27;aaa&#x27;, &#x27;aaaa&#x27;, &#x27;bb&#x27;, &#x27;bbb&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改元素</span></span><br><span class="line"><span class="comment"># 直接使用 list[x]=new_item 的方法直接替换</span></span><br><span class="line">a[<span class="number">1</span>]=<span class="string">&quot;ab&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除元素</span></span><br><span class="line"><span class="comment"># 使用pop,remove,clear方法和del语句</span></span><br><span class="line"><span class="comment"># pop方法：删除指定位置元素，默认最后一个</span></span><br><span class="line">a.pop()		<span class="comment">#删除最后一个</span></span><br><span class="line">a.pop(<span class="number">0</span>)	<span class="comment">#删除索引为0的元素</span></span><br><span class="line"><span class="comment"># remove方法：删除第一个值为？的元素</span></span><br><span class="line">a.remove(<span class="string">&quot;aa&quot;</span>)</span><br><span class="line"><span class="comment"># clear方法：清空元素</span></span><br><span class="line">a.clear()</span><br><span class="line"><span class="comment"># del语句，清空列表</span></span><br><span class="line"><span class="keyword">del</span> a[:]</span><br><span class="line"><span class="comment"># del删除某个或几个连续的元素</span></span><br><span class="line"><span class="keyword">del</span> a[<span class="number">0</span>]	<span class="comment">#删除索引为0的元素</span></span><br><span class="line"><span class="keyword">del</span> a[<span class="number">0</span>:<span class="number">3</span>]	<span class="comment">#删除索引[1,3)区间的元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表反转,两种方法</span></span><br><span class="line"><span class="comment"># reverse</span></span><br><span class="line">nums = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">nums.reverse()</span><br><span class="line"><span class="comment"># [5, 4, 3, 2, 1]</span></span><br><span class="line"><span class="comment"># 切片</span></span><br><span class="line">nums = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">nums[::-<span class="number">1</span>]</span><br><span class="line"><span class="comment"># [5, 4, 3, 2, 1]</span></span><br><span class="line"><span class="comment"># 两种方法区别：reverse 方法是原地反转，作用在原对象上；切片反转是返回一个新对象，原对象不改变</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表排序，两个方法</span></span><br><span class="line"><span class="comment"># 列表对象内置sort方法</span></span><br><span class="line">alist = [<span class="number">4</span>,<span class="number">8</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">2</span>]</span><br><span class="line">alist.sort()</span><br><span class="line"><span class="comment"># [1, 2, 4, 7, 8]</span></span><br><span class="line"><span class="comment"># Python内置sorted函数</span></span><br><span class="line">alist = [<span class="number">4</span>,<span class="number">8</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">2</span>]</span><br><span class="line"><span class="built_in">sorted</span>(alist)</span><br><span class="line"><span class="comment"># [1, 2, 4, 7, 8]</span></span><br><span class="line"><span class="comment"># 注意，要保证元素之间可以两两比较，数值和字符串是不可比较的</span></span><br></pre></td></tr></table></figure>

<h4 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h4><p>元组与列表比较相似，但是元组是不可变的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1.元组创建，两种方法</span></span><br><span class="line"><span class="comment"># 直接圆括号包住，也可以不加</span></span><br><span class="line">a=(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">b=<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span></span><br><span class="line"><span class="comment"># 使用元组推导式</span></span><br><span class="line"><span class="comment"># 元组是不可变的，可以生成一个生成器对象</span></span><br><span class="line">ctuple = (i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">6</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建只有一个元素的元组时，要在元素后面加一个逗号 ，否则创建出来的为int对象</span></span><br><span class="line">ctuple = (<span class="number">1</span>)</span><br><span class="line"><span class="built_in">type</span>(ctuple)</span><br><span class="line"><span class="comment"># &lt;class &#x27;int&#x27;&gt;</span></span><br><span class="line">c = (<span class="number">1</span>,)</span><br><span class="line"><span class="built_in">type</span>(c)</span><br><span class="line"><span class="comment"># &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">c = <span class="number">1</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建空元组</span></span><br><span class="line">a = <span class="built_in">tuple</span>()  <span class="comment"># 第一种方法</span></span><br><span class="line">b = ()  <span class="comment"># 第二种方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.查看元组</span></span><br><span class="line"><span class="comment"># 和查看数组一样，使用索引号</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.元组和列表之间的转换</span></span><br><span class="line"><span class="comment"># 很简单，调用函数即可</span></span><br><span class="line">a = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">list</span>(a)			<span class="comment">#&lt;class &#x27;list&#x27;&gt;</span></span><br><span class="line">b=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="built_in">tuple</span>(b)		<span class="comment">#&lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h4><p>字典（英文名 dict），它是由一系列的键值（key-value）对组合而成的数据结构。<br>字典中的每个键都与一个值相关联，其中</p>
<ul>
<li>键，必须是可 hash 的值，如字符串，数值等</li>
<li>值，则可以是任意对象<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.创建字典，四种方式</span></span><br><span class="line"><span class="comment"># 先用dict()创建字典实例,再填充元素</span></span><br><span class="line">p = <span class="built_in">dict</span>(name=<span class="string">&quot;l&quot;</span>, age=<span class="number">27</span>）</span><br><span class="line"><span class="comment"># &#123;&#x27;name&#x27;: &#x27;l&#x27;, &#x27;age&#x27;: 27&#125;</span></span><br><span class="line"><span class="comment"># 第二种是直接使用&#123;&#125;来定义并填充元素</span></span><br><span class="line">p=&#123;name=<span class="string">&quot;l&quot;</span>,age=<span class="number">27</span>&#125;</span><br><span class="line"><span class="comment"># 第三种使用dict()构造函数可以直接从键值对序列里面创建字典</span></span><br><span class="line">info=[(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;l&#x27;</span>),(<span class="string">&#x27;age&#x27;</span>,<span class="number">27</span>)]</span><br><span class="line"><span class="built_in">dict</span>(info)</span><br><span class="line"><span class="comment"># 第四种字典推导式</span></span><br><span class="line">adict = &#123;x: x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> (<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>)&#125;	<span class="comment">#**是指数</span></span><br><span class="line"><span class="comment"># &#123;2: 4, 4: 16, 6: 36&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.增删查改</span></span><br><span class="line"><span class="comment"># 查看元素，查看key值</span></span><br><span class="line"><span class="comment"># 第一种方法直接查看dict[key],但是key不存在时会报错</span></span><br><span class="line">p[<span class="string">&quot;name&quot;</span>]</span><br><span class="line"><span class="comment"># 第二种方法可以避免，使用get方法，get(&quot;key&quot;,&quot;默认返回值&quot;)</span></span><br><span class="line">p.get(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;don&#x27;t have name&quot;</span>)</span><br><span class="line"><span class="comment"># 新增元素，直接dict[key]=value即可</span></span><br><span class="line">p[<span class="string">&quot;age&quot;</span>]=<span class="number">27</span></span><br><span class="line"><span class="comment"># 修改元素，同理直接dict[key]=newValue即可</span></span><br><span class="line">p[<span class="string">&quot;age&quot;</span>]=<span class="number">18</span></span><br><span class="line"><span class="comment"># 删除元素，两种方法</span></span><br><span class="line"><span class="comment"># pop函数，pop(key)</span></span><br><span class="line">p.pop(<span class="string">&quot;name&quot;</span>)</span><br><span class="line"><span class="comment"># del语句</span></span><br><span class="line"><span class="keyword">del</span> p[<span class="string">&quot;name&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断key是否在字典里</span></span><br><span class="line">name <span class="keyword">in</span> p			<span class="comment">#True</span></span><br><span class="line">gender <span class="keyword">not</span> <span class="keyword">in</span> p		<span class="comment">#False</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#设置默认值</span></span><br><span class="line"><span class="keyword">if</span> <span class="string">&quot;gender&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> profile:</span><br><span class="line">    profile[<span class="string">&quot;gender&quot;</span>] = <span class="string">&quot;male&quot;</span></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">profile.setdefault(<span class="string">&quot;gender&quot;</span>, <span class="string">&quot;male&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h4><p>集合是一个无序的，元素不重复的序列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.创建集合，两种方法</span></span><br><span class="line"><span class="comment"># 使用&#123;&#125;直接创建，列表用[]，元组用()</span></span><br><span class="line">a=&#123;<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>&#125;</span><br><span class="line"><span class="comment"># 使用set方法创建，当不接受参数时创建的是空集合，接受时，传入列表</span></span><br><span class="line">a=<span class="built_in">set</span>([<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>])</span><br><span class="line"><span class="comment"># 传入的列表里面有重复元素，保留第一个</span></span><br><span class="line">a=[<span class="string">&quot;aa&quot;</span>,<span class="string">&quot;cc&quot;</span>,<span class="string">&quot;bb&quot;</span>,<span class="string">&quot;cc&quot;</span>]</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">b=<span class="built_in">set</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># [&#x27;aa&#x27;, &#x27;cc&#x27;, &#x27;bb&#x27;, &#x27;cc&#x27;]</span></span><br><span class="line"><span class="comment"># &#123;&#x27;bb&#x27;, &#x27;cc&#x27;, &#x27;aa&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.增删查改</span></span><br><span class="line"><span class="comment"># 增加，两种方法</span></span><br><span class="line"><span class="comment"># add函数</span></span><br><span class="line">a.add(<span class="string">&quot;dd&quot;</span>)</span><br><span class="line"><span class="comment"># update函数,update 函数后可接集合，列表，元组，字典等</span></span><br><span class="line">a.update(&#123;<span class="string">&quot;a&quot;</span>&#125;)</span><br><span class="line">a.update([<span class="string">&quot;a&quot;</span>])</span><br><span class="line">a.update((<span class="string">&quot;a&quot;</span>,))</span><br><span class="line">a.update(&#123;<span class="string">&quot;a&quot;</span>:<span class="string">&quot;aa&quot;</span>&#125;)</span><br><span class="line"><span class="comment"># 删除元素</span></span><br><span class="line"><span class="comment"># remove，discard</span></span><br><span class="line">a.remove(<span class="string">&quot;aa&quot;</span>)		<span class="comment">#如果元素不存在会报错，discard函数，即使不存在也不会报错</span></span><br><span class="line">a.discard(<span class="string">&quot;aa&quot;</span>)</span><br><span class="line"><span class="comment"># pop，随机从集合删去一个元素，不加任何参数</span></span><br><span class="line">a.pop()</span><br><span class="line"><span class="comment"># clear，清空</span></span><br><span class="line">a.clear</span><br><span class="line"><span class="comment"># 集合无序，没有索引，所以无法查看，也就无法修改</span></span><br><span class="line"><span class="comment"># 可以用len查看长度</span></span><br><span class="line"><span class="built_in">len</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 集合运算</span></span><br><span class="line"><span class="comment"># 求合集union</span></span><br><span class="line">a=&#123;<span class="string">&quot;aa&quot;</span>,<span class="string">&quot;cc&quot;</span>&#125;</span><br><span class="line">b=&#123;<span class="string">&quot;bb&quot;</span>,<span class="string">&quot;cc&quot;</span>&#125;</span><br><span class="line">c=a.union(b)</span><br><span class="line"><span class="comment"># 这个函数不会改变原本集合</span></span><br><span class="line"><span class="comment"># 求合集也可以用|</span></span><br><span class="line">c=a|b</span><br><span class="line"><span class="comment"># 求差集difference函数</span></span><br><span class="line">a.difference(b)		<span class="comment">#表示元素在a中存在在b中不存在</span></span><br><span class="line"><span class="comment"># 也可以使用-</span></span><br><span class="line">a-b</span><br><span class="line"><span class="comment"># 求交集intersection函数</span></span><br><span class="line">a.intersection(b)</span><br><span class="line">a.intersection_update(b)	<span class="comment">#这个函数会原地更新在a上面</span></span><br><span class="line"><span class="comment"># 求交集也可以使用&amp;</span></span><br><span class="line">a&amp;b</span><br><span class="line"><span class="comment"># 求不重合集symmetric_difference，两个集合不重合元素之和</span></span><br><span class="line">a.symmetric_difference(b)</span><br><span class="line">a.symmetric_difference—_update(b)	<span class="comment">#同理，会原地更新在a上面</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 集合判断</span></span><br><span class="line"><span class="comment"># 判断是否含有</span></span><br><span class="line"><span class="string">&quot;aa&quot;</span> <span class="keyword">in</span> a		<span class="comment">#True</span></span><br><span class="line"><span class="comment"># 判断两个集合是否有相同元素</span></span><br><span class="line">a.isdisjoint(b)		<span class="comment">#有相同元素返回False，无则返回True</span></span><br><span class="line"><span class="comment"># 判断是否是某个集合的子集</span></span><br><span class="line">a.issubset(b)		<span class="comment">#判断a是否是b的子集</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h4><p>可以利用for循环的对象都叫可迭代对象Iterable<br>列表、元组、字典、字符串等都是可迭代对象。<br>另外，我们可以借助一些函数（比如collections.abc模块里面的Iterable类，用isinstance来判断），但是这种方法无法判断内部没有实现_iter_()方法的可迭代对象</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Iterable</span><br><span class="line"><span class="built_in">isinstance</span>([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>], Iterable) <span class="comment"># 列表</span></span><br><span class="line"><span class="comment"># True</span></span><br><span class="line"><span class="built_in">isinstance</span>(&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;王炳明&quot;</span>&#125;, Iterable) <span class="comment"># 字典</span></span><br><span class="line"><span class="comment"># True</span></span><br><span class="line"><span class="built_in">isinstance</span>((<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>), Iterable) <span class="comment"># 元组</span></span><br><span class="line"><span class="comment"># True</span></span><br><span class="line"><span class="built_in">isinstance</span>(<span class="string">&quot;hello&quot;</span>, Iterable) <span class="comment"># 字符串</span></span><br><span class="line"><span class="comment"># True</span></span><br></pre></td></tr></table></figure>
<h5 id="可迭代协议"><a href="#可迭代协议" class="headerlink" title="可迭代协议"></a>可迭代协议</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一种情况，类的内部实现了_iter_()方法，会返回一个迭代器实例，  </span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Array</span>:</span><br><span class="line">    mylist = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">    <span class="comment"># 返回迭代器类的实例</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__iter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">iter</span>(self.mylist)</span><br><span class="line"><span class="comment"># 得到可迭代对象</span></span><br><span class="line">my_list = Array()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(my_list, Iterable)) <span class="comment"># True</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> my_list:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第二种情况，没有实现这个方法，python解释器可以通过_getitem_()方法获取到元素，也是一个可迭代对象</span></span><br><span class="line"><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Iterable</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Array</span>:</span><br><span class="line">    mylist = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, item</span>):</span><br><span class="line">        <span class="keyword">return</span> self.mylist[item]</span><br><span class="line"><span class="comment"># 得到一个可迭代对象</span></span><br><span class="line">my_list = Array()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(my_list, Iterable)) <span class="comment"># False</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> my_list:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>
<h5 id="使用next获取元素"><a href="#使用next获取元素" class="headerlink" title="使用next获取元素"></a>使用next获取元素</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">alist = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">gen = <span class="built_in">iter</span>(alist)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(gen))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(gen))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(gen))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(gen))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(gen))</span><br><span class="line"><span class="comment"># 每获取一次，就往后一位，全部获取完毕，就会抛出StopIteration</span></span><br></pre></td></tr></table></figure>
<h5 id="迭代器-1"><a href="#迭代器-1" class="headerlink" title="迭代器"></a>迭代器</h5><p>对比可迭代对象，迭代器的内部只是多了一个函数而已 – <strong>next</strong>()<br>迭代器，是在可迭代的基础上实现的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Iterator</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Array</span>:</span><br><span class="line">    index=<span class="number">0</span></span><br><span class="line">    mylist=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__iter__</span>(<span class="params">self</span>):		<span class="comment">#注意，这里是两个下划线</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__next__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.index&lt;<span class="built_in">len</span>(self.mylist):</span><br><span class="line">            value=self.mylist[self.index]</span><br><span class="line">            self.index += <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> value</span><br><span class="line">        <span class="keyword">raise</span> StopIteration	<span class="comment">#异常抛出不用return，用raise</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">my_iterator = <span class="built_in">iter</span>(Array())</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(my_iterator, Iterator)) <span class="comment"># output: True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(my_iterator))  <span class="comment"># output: 0</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(my_iterator))  <span class="comment"># output: 1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(my_iterator))  <span class="comment"># output: 2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(my_iterator))  <span class="comment"># StopIteration</span></span><br></pre></td></tr></table></figure>
<h4 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h4><p>生成器是像迭代器那样可使用for循环来获取元素的函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1.创建生成器</span></span><br><span class="line"><span class="comment"># 使用推导式</span></span><br><span class="line"><span class="comment"># 之前解除了列表推导式，使用中括号</span></span><br><span class="line">a=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>)]</span><br><span class="line"><span class="comment"># 把中括号换成圆括号，返回的就会变成生成器而不是列表</span></span><br><span class="line">gen = (i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>))</span><br><span class="line"><span class="comment"># 第二种方法，使用yield创建</span></span><br><span class="line"><span class="comment"># 函数运行到 yield 后，函数的运行会暂停，并且会把 yield 后的值返回出去。</span></span><br><span class="line"><span class="comment"># 若 yield 没有接任何值，则返回 None</span></span><br><span class="line"><span class="comment"># yield 虽然返回了，但是函数并没有结束</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">generator_factory</span>(<span class="params">top=<span class="number">5</span></span>):</span><br><span class="line">    index = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> index &lt; top:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;index 值为: &quot;</span> + <span class="built_in">str</span>(index))</span><br><span class="line">        index = index + <span class="number">1</span></span><br><span class="line">        <span class="keyword">yield</span> index</span><br><span class="line">    <span class="keyword">raise</span> StopIteration</span><br><span class="line">gen=generator_factory()</span><br><span class="line"><span class="built_in">print</span>(gen)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.使用生成器，从生成器中取元素</span></span><br><span class="line"><span class="comment"># 和迭代器一样，可以使用next和for来取元素</span></span><br><span class="line">gen=(x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>))</span><br><span class="line"><span class="built_in">next</span>(gen)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> gen</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第一步就是出发其运行，称为激活</span></span><br><span class="line"><span class="comment"># 生成器在其生命周期中，会有如下四个状态</span></span><br><span class="line"><span class="comment"># GEN_CREATED # 生成器已创建，还未被激活</span></span><br><span class="line"><span class="comment"># GEN_RUNNING # 解释器正在执行（只有在多线程应用中才能看到这个状态）</span></span><br><span class="line"><span class="comment"># GEN_SUSPENDED # 在 yield 表达式处暂停</span></span><br><span class="line"><span class="comment"># GEN_CLOSED # 生成器执行结束</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.生成器异常</span></span><br><span class="line"><span class="comment"># 和迭代器一样，raise抛出</span></span><br><span class="line"><span class="comment"># 生成器可以看作一种特殊的迭代器</span></span><br></pre></td></tr></table></figure>
<h2 id="控制流程"><a href="#控制流程" class="headerlink" title="控制流程"></a>控制流程</h2><h4 id="判断条件"><a href="#判断条件" class="headerlink" title="判断条件"></a>判断条件</h4><p>假值 ：None、空列表、空集合、空字典，空元组、空字符串、0、False 等<br>真值 ：非空列表、非空集合、非空字典，非空元组、非空字符串、非 0 数值、True 等</p>
<h4 id="if"><a href="#if" class="headerlink" title="if"></a>if</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 单条件</span></span><br><span class="line"><span class="keyword">if</span> 判断条件：</span><br><span class="line">    执行语句……</span><br><span class="line"><span class="keyword">else</span>：</span><br><span class="line">    执行语句……</span><br><span class="line"></span><br><span class="line"><span class="comment"># 多条件</span></span><br><span class="line"><span class="keyword">if</span> 判断条件<span class="number">1</span>：</span><br><span class="line">    执行语句……</span><br><span class="line"><span class="keyword">elif</span> 判断条件<span class="number">2</span>：</span><br><span class="line">    执行语句……</span><br><span class="line"><span class="keyword">elif</span> 判断条件<span class="number">3</span>：</span><br><span class="line">    执行语句……</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    执行语句……</span><br><span class="line"></span><br><span class="line"><span class="comment"># 多条件组合</span></span><br><span class="line"><span class="comment"># 如果一个 if 条件需要同时满足多个条件，那么可以使用 and 或者 &amp;</span></span><br><span class="line"><span class="comment"># 如果一个 if 条件只需要满足多个条件的其中一个，那么可以使用 or 或者 |</span></span><br><span class="line"><span class="comment"># 如果一个 if 要求不满足某个条件，那么可以使用 not 或者 !</span></span><br><span class="line"><span class="comment"># 需要同时满足条件 A 和条件 B</span></span><br><span class="line"><span class="keyword">if</span> 条件A <span class="keyword">and</span> 条件B:</span><br><span class="line">    ...</span><br><span class="line"><span class="comment"># 只需要满足条件A或者条件B即可</span></span><br><span class="line"><span class="keyword">if</span> 条件A <span class="keyword">or</span> 条件B:</span><br><span class="line">    ...</span><br><span class="line"><span class="comment"># 要求不满足条件A</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> 条件A:</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<h4 id="for"><a href="#for" class="headerlink" title="for"></a>for</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基本语法</span></span><br><span class="line"><span class="keyword">for</span> 元素 <span class="keyword">in</span> 序列对象:</span><br><span class="line">   代码块</span><br><span class="line"></span><br><span class="line"><span class="comment"># 带索引循环，循环中也可以把索引取出来，使用enumerate函数</span></span><br><span class="line">phones = [<span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Huawei&quot;</span>, <span class="string">&quot;Xiaomi&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> index,phone <span class="keyword">in</span> <span class="built_in">enumerate</span>(phones):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;我的第&#123;&#125;把手机是&#123;&#125;&quot;</span>.<span class="built_in">format</span>(index+<span class="number">1</span>, phone))</span><br><span class="line"></span><br><span class="line"><span class="comment"># break中断，continue直接进入下一循环</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># for-else 循环</span></span><br><span class="line"><span class="comment"># for后面加入else，在for正常执行完以后会进入else(正常执行就是不被break打断的)</span></span><br><span class="line"><span class="comment"># 可以看作for循环后面附加的一轮循环，还是属于这一层，使用break会跳出</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>]:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;当前的数是 &quot;</span> + <span class="built_in">str</span>(i))</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;循环非常正常&quot;</span>)</span><br><span class="line"><span class="comment"># 改为continue就不会进入else</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="while"><a href="#while" class="headerlink" title="while"></a>while</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基本语句</span></span><br><span class="line"><span class="keyword">while</span> 判断条件：</span><br><span class="line">    执行语句</span><br><span class="line"></span><br><span class="line"><span class="comment"># 死循环：while 后面的条件一直满足且循环体内一直没有 break</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># while-else，和for-else一样</span></span><br></pre></td></tr></table></figure>
<h4 id="推导式"><a href="#推导式" class="headerlink" title="推导式"></a>推导式</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.列表推导式</span></span><br><span class="line"><span class="comment"># 基本格式</span></span><br><span class="line">new_list = [expression for_loop_expression <span class="keyword">if</span> condition]</span><br><span class="line">old_list=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">new_list=[x <span class="keyword">for</span> x <span class="keyword">in</span> old_list <span class="keyword">if</span> x%<span class="number">2</span>==<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(new_list)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.集合推导式，和列表一样，只不过换成了&#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.字典推导式</span></span><br><span class="line"><span class="comment"># 基本格式</span></span><br><span class="line">new_dict =&#123; key_expr: value_expr for_loop_expression <span class="keyword">if</span> condition &#125;</span><br><span class="line">info=&#123;</span><br><span class="line">    <span class="string">&quot;Jack&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;chinese&quot;</span>: <span class="number">87</span>,</span><br><span class="line">        <span class="string">&quot;math&quot;</span>: <span class="number">92</span>,</span><br><span class="line">        <span class="string">&quot;english&quot;</span>: <span class="number">78</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;Tom&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;chinese&quot;</span>: <span class="number">92</span>,</span><br><span class="line">        <span class="string">&quot;math&quot;</span>: <span class="number">100</span>,</span><br><span class="line">        <span class="string">&quot;english&quot;</span>: <span class="number">89</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">info[<span class="string">&quot;ldh&quot;</span>]=&#123;<span class="string">&quot;chinese&quot;</span>:<span class="number">100</span>&#125;</span><br><span class="line"><span class="comment"># print(info)</span></span><br><span class="line">new_info=&#123;name:sub <span class="keyword">for</span> name,sub <span class="keyword">in</span> info.items() <span class="keyword">if</span> sub[<span class="string">&quot;chinese&quot;</span>]&gt;<span class="number">90</span> &#125;</span><br><span class="line"><span class="built_in">print</span>(new_info)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.生成器推导式：和列表推导式一样，只是[]换成了() </span></span><br><span class="line"><span class="comment"># 另外，列表推导式生成的是列表，生成器推导式生成的是生成器</span></span><br><span class="line">old_list = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">new_list = (item <span class="keyword">for</span> item <span class="keyword">in</span> old_list <span class="keyword">if</span> item % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.嵌套推导式</span></span><br><span class="line"><span class="comment"># 打印九九乘法表</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n&#x27;</span>.join([<span class="string">&#x27; &#x27;</span>.join([<span class="string">&#x27;%2d *%2d = %2d&#x27;</span> % (col, row, col * row) <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, row + <span class="number">1</span>)]) <span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>)]))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这里额外说一下join函数</span></span><br><span class="line"><span class="comment"># join() 方法获取可迭代对象中的所有项目，并将它们连接为一个字符串。</span></span><br><span class="line"><span class="comment"># 必须将字符串指定为分隔符。</span></span><br><span class="line">string.join(iterable)</span><br></pre></td></tr></table></figure>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="普通函数创建与使用"><a href="#普通函数创建与使用" class="headerlink" title="普通函数创建与使用"></a>普通函数创建与使用</h3><h4 id="函数创建"><a href="#函数创建" class="headerlink" title="函数创建"></a>函数创建</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.函数的创建</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">函数名</span>(<span class="params">参数</span>):</span><br><span class="line">    <span class="comment"># 内部代码</span></span><br><span class="line">    <span class="keyword">return</span> 表达式</span><br></pre></td></tr></table></figure>
<p>在定义函数的过程中，需要注意以下几点：</p>
<ul>
<li>函数代码块以def关键词开头，一个空格之后接函数标识符名称和圆括号()，再接个冒号。</li>
<li>任何传入的参数必须放在圆括号中间。</li>
<li>函数的第一行语句后可以选择性地使用文档字符串—用于存放函数说明。</li>
<li>函数内容以冒号起始，并且缩进。</li>
<li>使用return，返回值给调用者，并结束函数。return 关键并不是必须要加，可根据实际需要决定是否要写，若不写的话，默认返回None。</li>
<li>return语句依然在函数体内部，不能回退缩进。直到函数的所有代码写完，才回退缩进，表示函数体结束。</li>
</ul>
<h4 id="函数调用"><a href="#函数调用" class="headerlink" title="函数调用"></a>函数调用</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_average</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    计算平均值</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    result = (a + b)/<span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">average = get_average(<span class="number">2</span>, <span class="number">6</span>)</span><br><span class="line"><span class="built_in">print</span>(average)  <span class="comment"># output: 4</span></span><br></pre></td></tr></table></figure>
<h4 id="函数返回"><a href="#函数返回" class="headerlink" title="函数返回"></a>函数返回</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 函数返回可以有不同的类型</span></span><br><span class="line"><span class="comment"># 任意类型字符串，数值，列表，字典等等都可以</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">demo_func</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span></span><br><span class="line"><span class="comment"># 可以为一个表达式</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_average</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="keyword">return</span> (a + b)/<span class="number">2</span></span><br><span class="line"><span class="comment"># 可以返回函数本身（递归）</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fact</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> n * fact(n - <span class="number">1</span>)</span><br><span class="line"><span class="comment"># 返回多个值</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">demo_func</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>,<span class="number">2.3</span></span><br><span class="line"><span class="comment"># 返回其他函数(可以实现装饰器)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">decorator</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">*args, **kw</span>):</span><br><span class="line">        <span class="keyword">return</span> func()</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br></pre></td></tr></table></figure>
<h3 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h3><h4 id="参数分类"><a href="#参数分类" class="headerlink" title="参数分类"></a>参数分类</h4><h5 id="从定义分类：必选参数，可选参数"><a href="#从定义分类：必选参数，可选参数" class="headerlink" title="从定义分类：必选参数，可选参数"></a>从定义分类：必选参数，可选参数</h5><p>必选参数：调用函数时必须要指定的参数，在定义时没有等号<br>可选参数：也叫默认参数，调用函数时可以指定也可以不指定，不指定就默认的参数值来。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">a,b,c=<span class="number">0</span>, d=<span class="number">1</span></span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="comment"># ab必选，cd可选</span></span><br></pre></td></tr></table></figure>
<h5 id="从函数调用来分类：关键字参数，位置参数"><a href="#从函数调用来分类：关键字参数，位置参数" class="headerlink" title="从函数调用来分类：关键字参数，位置参数"></a>从函数调用来分类：关键字参数，位置参数</h5><p>关键字参数：调用时，使用 key&#x3D;value 形式传参的，这样传递参数就可以不按定义顺序来。<br>位置参数：调用时，不使用关键字参数的 key-value 形式传参，这样传参要注意按照函数定义时参数的顺序来。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">a,b,c=<span class="number">0</span>, d=<span class="number">1</span></span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 关键字参数传参方法</span></span><br><span class="line">func(a=<span class="number">10</span>, c=<span class="number">30</span>, b=<span class="number">20</span>, d=<span class="number">40</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 位置参数传参方法</span></span><br><span class="line">func(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>)</span><br></pre></td></tr></table></figure>
<h5 id="可变参数：-args-和-kw"><a href="#可变参数：-args-和-kw" class="headerlink" title="可变参数：*args 和 **kw"></a>可变参数：*args 和 **kw</h5><p>可变参数，意思就是参数的个数可变，传参时不能指定参数名，通常用*args和**kw表示<br>*args：接收到的所有按照位置参数方式传递进来的参数，是一个元组类型<br>**kw ：接收到的所有按照关键字参数方式传递进来的参数，是一个字典类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">*args, **kw</span>):</span><br><span class="line">    <span class="built_in">print</span>(args)</span><br><span class="line">    <span class="built_in">print</span>(kw)</span><br><span class="line"></span><br><span class="line">func(<span class="number">10</span>, <span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>,a=<span class="number">10</span>)</span><br><span class="line"><span class="comment"># (10, 20, 30, 40)</span></span><br><span class="line"><span class="comment"># &#123;&#x27;a&#x27;: 10&#125;</span></span><br></pre></td></tr></table></figure>

<ol>
<li><p>在定义时，必选参数一定要在可选参数的前面，不然运行时会报错</p>
</li>
<li><p>可变位置参数可以放在必选参数前面，但是在调用时，必选参数必须要指定参数名来传入，否则会报错</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">demo_func</span>(<span class="params">*args, b</span>):</span><br><span class="line">    <span class="built_in">print</span>(args)</span><br><span class="line">    <span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># demo_func(1, 2, 100)	#会报错</span></span><br><span class="line"><span class="comment"># TypeError: demo_func() missing 1 required keyword-only argument: &#x27;b&#x27;</span></span><br><span class="line">demo_func(<span class="number">1</span>, <span class="number">2</span>, b=<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>可变关键字参数则不一样，可变关键字参数一定得放在最后</p>
</li>
<li><p>由此，四种参数类型可以在一个函数里面同时出现，但是一定要注意顺序</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">demo_func</span>(<span class="params">arg1, arg2=<span class="number">10</span>, *args, **kw</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;arg1: &quot;</span>, arg1)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;arg2: &quot;</span>, arg2)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;args: &quot;</span>, args)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;kw: &quot;</span>, kw)</span><br><span class="line">demo_func(<span class="number">1</span>,<span class="number">12</span>, <span class="number">100</span>, <span class="number">200</span>, d=<span class="number">1000</span>, e=<span class="number">2000</span>)</span><br><span class="line"><span class="comment"># 必选参数一定要在可选参数的前面</span></span><br><span class="line"><span class="comment"># 可变位置参数一定要在可变关键字参数前面</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>使用单独的*。这个叫做命名关键字参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在定义函数时，使用这个，可以限定后面的参数只能使用关键字传参，否则会报错</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">demo_func</span>(<span class="params">a, b, *, c</span>):</span><br><span class="line">    <span class="built_in">print</span>(a)</span><br><span class="line">    <span class="built_in">print</span>(b)</span><br><span class="line">    <span class="built_in">print</span>(c)</span><br><span class="line"><span class="comment"># 以下这种方法调用会报错</span></span><br><span class="line"><span class="comment"># demo_func(1, 2, 3)</span></span><br><span class="line">demo_func(<span class="number">1</span>, <span class="number">2</span>, c=<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>函数传参传递时实际对象的地址，函数内部改变也会影响外部</p>
</li>
</ol>
<h3 id="匿名函数的使用"><a href="#匿名函数的使用" class="headerlink" title="匿名函数的使用"></a>匿名函数的使用</h3><p>匿名函数就是指一类无需定义函数名的函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用lambda定义</span></span><br><span class="line">(<span class="keyword">lambda</span> 参数<span class="number">1</span>,参数<span class="number">2</span>: 返回值)(实际传参)</span><br><span class="line"><span class="comment"># 例，求和函数</span></span><br><span class="line"><span class="comment"># 常规函数：</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">mySum</span>(<span class="params">x, y</span>):</span><br><span class="line">    <span class="keyword">return</span> x+y</span><br><span class="line">mySum(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="comment"># 匿名函数</span></span><br><span class="line">(<span class="keyword">lambda</span> x,y: x+y)(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 具体应用：</span></span><br><span class="line"><span class="comment"># if/else</span></span><br><span class="line">( <span class="keyword">lambda</span> x, y: x <span class="keyword">if</span> x &lt; y <span class="keyword">else</span> y )( <span class="number">1</span>, <span class="number">2</span> )</span><br><span class="line"><span class="comment"># 嵌套函数</span></span><br><span class="line">( <span class="keyword">lambda</span> x: ( <span class="keyword">lambda</span> y: ( <span class="keyword">lambda</span> z: x + y + z  )( <span class="number">1</span> ) )( <span class="number">2</span> ) )( <span class="number">3</span> )</span><br><span class="line"><span class="comment"># 递归函数</span></span><br><span class="line">func = <span class="keyword">lambda</span> n:<span class="number">1</span> <span class="keyword">if</span> n == <span class="number">0</span> <span class="keyword">else</span> n * func(n-<span class="number">1</span>)</span><br><span class="line">f = <span class="keyword">lambda</span> func, n: <span class="number">1</span> <span class="keyword">if</span> n == <span class="number">0</span> <span class="keyword">else</span> n * func( func, n - <span class="number">1</span> )</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这种匿名函数是一个表达式，而不是一个语句。</p>
<h3 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h3><h5 id="map函数"><a href="#map函数" class="headerlink" title="map函数"></a>map函数</h5><p>map函数接受两个参数，一个是函数对象（匿名函数也可），一个是序列，这个函数的作用就是把序列里面的元素逐个作为参数传入函数中，返回的是经过函数处理的新的序列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">map</span>(<span class="keyword">lambda</span> x: x*<span class="number">2</span>, [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line"><span class="comment"># [2, 4, 6, 8, 10]</span></span><br></pre></td></tr></table></figure>
<h5 id="filter函数"><a href="#filter函数" class="headerlink" title="filter函数"></a>filter函数</h5><p>和map一样，接受两个参数，一个函数对象，它会遍历后面序列中每一个元素，并将其做为参数传入lambda表达式中，当表达式返回 True，则元素会被保留下来，当表达式返回 False ，则元素会被丢弃。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> x&gt;<span class="number">2</span></span><br><span class="line">b=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">a=<span class="built_in">filter</span>(f,b)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(a))</span><br></pre></td></tr></table></figure>
<h5 id="reduce函数"><a href="#reduce函数" class="headerlink" title="reduce函数"></a>reduce函数</h5><p>它的作用是先对序列中的第 1、2 个元素进行操作，得到的结果再与第三个数据用函数运算，将其得到的结果再与第四个元素进行运算，以此类推下去直到后面没有元素了</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line">a=reduce(<span class="keyword">lambda</span> x,y: x+y, [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line"><span class="built_in">print</span>(a)</span><br></pre></td></tr></table></figure>
<h5 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h5><ol>
<li>map 和 filter 函数返回的都不再是一个列表，而是一个迭代器对象</li>
<li>reduce 不可以直接调用，而是要先导入才能使用，返回的是处理以后的数据</li>
</ol>
<h3 id="反射函数"><a href="#反射函数" class="headerlink" title="反射函数"></a>反射函数</h3><p><a target="_blank" rel="noopener" href="https://python.iswbm.com/c05/c05_05.html">https://python.iswbm.com/c05/c05_05.html</a><br>有点玛瑙，感觉吃不掉，先收藏着</p>
<h3 id="偏函数"><a href="#偏函数" class="headerlink" title="偏函数"></a>偏函数</h3><p>偏函数（Partial Function），可以将某个函数的常用参数进行固定，避免每次调用时都要指定。使用前要先导入functools.partial，利用其新建一个函数，这个函数的n固定为</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">power</span>(<span class="params">x, n</span>):</span><br><span class="line">    s = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">        n = n - <span class="number">1</span></span><br><span class="line">        s = s * x</span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line">power(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">power(<span class="number">3</span>, <span class="number">2</span>)</span><br><span class="line"><span class="comment"># 实际计算中，大部分都是计算平方，总是传两个参数很烦，于是使用偏函数，固定一个平方值</span></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">power</span>(<span class="params">x, n</span>):</span><br><span class="line">    s = <span class="number">1</span> </span><br><span class="line">    <span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">        n = n - <span class="number">1</span></span><br><span class="line">        s = s * x</span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line">power_2=partial(power, n=<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(power_2(<span class="number">2</span>))</span><br><span class="line"><span class="comment"># 4</span></span><br><span class="line"><span class="comment"># 不需要额外写一个平方函数，也免去了这些参数设置</span></span><br></pre></td></tr></table></figure>
<h3 id="泛型函数singledispatch"><a href="#泛型函数singledispatch" class="headerlink" title="泛型函数singledispatch"></a>泛型函数singledispatch</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> singledispatch</span><br><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="meta">@singledispatch</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">*arg</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;error&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@fun.register</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">_</span>(<span class="params">x:<span class="built_in">int</span></span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;int&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@fun.register</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">_</span>(<span class="params">x:<span class="built_in">str</span></span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;str&quot;</span>)</span><br><span class="line"></span><br><span class="line">fun(<span class="number">1</span>)</span><br><span class="line">fun(<span class="string">&quot;1&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h3><h5 id="python作用域有以下四种"><a href="#python作用域有以下四种" class="headerlink" title="python作用域有以下四种"></a>python作用域有以下四种</h5><ul>
<li>L （Local） 局部作用域</li>
<li>E （Enclosing） 闭包函数外的函数中</li>
<li>G （Global） 全局作用域</li>
<li>B （Built-in） 内建作用域</li>
</ul>
<p>变量&#x2F;函数 的查找顺序： L –&gt; E –&gt; G –&gt;B</p>
<h5 id="影响变量-函数划分的："><a href="#影响变量-函数划分的：" class="headerlink" title="影响变量&#x2F;函数划分的："></a>影响变量&#x2F;函数划分的：</h5><ul>
<li>函数：def 或 lambda</li>
<li>类：class</li>
<li>关键字：global noglobal</li>
<li>文件：*py</li>
<li>推导式：[],{},()等，仅限Py3.x中，Py2.x会出现变量泄露。</li>
</ul>
<h5 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h5><p>在一个外函数中定义了一个内函数，内函数里运用了外函数的临时变量，并且外函数的返回值是内函数的引用。这样就构成了一个闭包。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f1</span>():</span><br><span class="line">    name=<span class="string">&quot;ldh&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">f2</span>():</span><br><span class="line">        <span class="built_in">print</span>(name)</span><br><span class="line">    <span class="keyword">return</span> f2()</span><br><span class="line">f1()</span><br><span class="line"><span class="comment"># ldh</span></span><br><span class="line"><span class="comment"># 也可以这么写</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f1</span>():</span><br><span class="line">    name=<span class="string">&quot;ldh&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">f2</span>():</span><br><span class="line">        <span class="built_in">print</span>(name)</span><br><span class="line">    <span class="keyword">return</span> f2</span><br><span class="line">f1()()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="改变作用域"><a href="#改变作用域" class="headerlink" title="改变作用域"></a>改变作用域</h5><p>变量的作用域，与其定义（或赋值）的位置有关，但不是绝对相关。 因为我们可以在某种程度上去改变向上的作用范围。</p>
<ul>
<li>关键字：global 将 局部变量 变为全局变量</li>
<li>关键字：nonlocal 可以在闭包函数中，引用并使用闭包外部函数的变量（非全局的噢）</li>
</ul>
<p>内函数可以引用外函数的变量，但是，没有办法改变，不能出现在赋值号的左边，否则会报错</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f1</span>():</span><br><span class="line">    age=<span class="number">10</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">f2</span>():</span><br><span class="line">        <span class="comment"># age+=1	报错</span></span><br><span class="line">        a=age*<span class="number">2</span></span><br><span class="line">        <span class="comment"># age=a-1	报错</span></span><br><span class="line">        <span class="built_in">print</span>(a)</span><br><span class="line">    <span class="keyword">return</span> f2()</span><br><span class="line">f1()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加上nonlocal修饰，就可以对其进行操作</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f1</span>():</span><br><span class="line">    age=<span class="number">10</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">f2</span>():</span><br><span class="line">        <span class="keyword">nonlocal</span> age</span><br><span class="line">        age+=<span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span>(age)</span><br><span class="line">    f2()</span><br><span class="line">    <span class="built_in">print</span>(age)</span><br><span class="line">    <span class="keyword">return</span> f2()</span><br><span class="line">f1()</span><br><span class="line"><span class="comment"># 11，11，12</span></span><br><span class="line"><span class="comment"># 显然可以看出加入nonlocal修饰词，可以使内部函数不仅可以访问，还可以改变外部函数变量值</span></span><br></pre></td></tr></table></figure>
<h5 id="变量集合"><a href="#变量集合" class="headerlink" title="变量集合"></a>变量集合</h5><p>在Python中，有两个内建函数</p>
<ul>
<li>globals() ：以dict的方式存储所有全局变量</li>
<li>locals()：	  以dict的方式存储所有局部变量<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">foo</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;I am a func&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bar</span>():</span><br><span class="line">    foo=<span class="string">&quot;I am a string&quot;</span></span><br><span class="line">    foo_dup = <span class="built_in">globals</span>().get(<span class="string">&quot;foo&quot;</span>)</span><br><span class="line">    foo_dup()</span><br><span class="line"></span><br><span class="line">bar()</span><br><span class="line"><span class="comment"># 输出</span></span><br><span class="line"><span class="comment"># I am a func</span></span><br><span class="line">other = <span class="string">&quot;test&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">foobar</span>():</span><br><span class="line">    name = <span class="string">&quot;MING&quot;</span></span><br><span class="line">    gender = <span class="string">&quot;male&quot;</span></span><br><span class="line">    <span class="keyword">for</span> key,value <span class="keyword">in</span> <span class="built_in">locals</span>().items():</span><br><span class="line">        <span class="built_in">print</span>(key, <span class="string">&quot;=&quot;</span>, value)</span><br><span class="line"></span><br><span class="line">foobar()</span><br><span class="line"><span class="comment"># 输出</span></span><br><span class="line"><span class="comment"># name = MING</span></span><br><span class="line"><span class="comment"># gender = male</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="上下文管理器"><a href="#上下文管理器" class="headerlink" title="上下文管理器"></a>上下文管理器</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 读取文件时</span></span><br><span class="line">file=<span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(file.readlines())  <span class="comment"># 读取并打印</span></span><br><span class="line">file.close()  <span class="comment"># 关闭文件句柄</span></span><br><span class="line"><span class="comment"># 但是常常会忘记关闭文件句柄</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以使用with关键词，可以读取结束后，自动关闭句柄</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    <span class="built_in">print</span>(file.readlines())</span><br></pre></td></tr></table></figure>
<p>以此引入上下文管理器</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基本语法</span></span><br><span class="line"><span class="keyword">with</span> EXPR <span class="keyword">as</span> VAR:</span><br><span class="line">    代码块</span><br></pre></td></tr></table></figure>
<p>从开始的例子看出</p>
<ol>
<li>上下文表达式：with open(‘test.txt’) as file:</li>
<li>上下文管理器：open(‘test.txt’)</li>
<li>file 不是上下文管理器，应该是资源对象。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 实现上下文管理器</span></span><br><span class="line"><span class="comment"># 简单点说，就是在一个类里面定义enter和exit方法，这个类的实例就是一个上下文管理器</span></span><br><span class="line"><span class="comment"># 在编写代码时，可以将资源的连接或者获取放在__enter__中，而将资源的关闭写在__exit__ 中。</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Resource</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__enter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;===connect to resource===&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__exit__</span>(<span class="params">self, exc_type, exc_val, exc_tb</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;===close resource connection===&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">operate</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;===in operation===&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Resource() <span class="keyword">as</span> res:</span><br><span class="line">    res.operate()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看日志</span></span><br><span class="line">===connect to resource===</span><br><span class="line">===<span class="keyword">in</span> operation===</span><br><span class="line">===close resource connection===</span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="为什么使用它"><a href="#为什么使用它" class="headerlink" title="为什么使用它"></a>为什么使用它</h5><ol>
<li>更加优雅，操作（创建&#x2F;获取&#x2F;释放）资源，如文件操作、数据库连接；</li>
<li>更加优雅，处理异常<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Resource</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__enter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;===connect to resource===&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__exit__</span>(<span class="params">self, exc_type, exc_val, exc_tb</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;===close resource connection===&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">operate</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="number">1</span>/<span class="number">0</span>					<span class="comment">#常规肯定会报错，但是这里不会</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Resource() <span class="keyword">as</span> res:</span><br><span class="line">    res.operate()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这就是上下文管理协议的一个强大之处，异常可以在__exit__ 进行捕获并由你自己决定如何处理，是抛出呢还是在这里就解决了。</span></span><br></pre></td></tr></table></figure>
在 写__exit__ 函数时，需要注意的事，它必须要有这三个参数：</li>
</ol>
<ul>
<li>exc_type：异常类型</li>
<li>exc_val：异常值</li>
<li>exc_tb：异常的错误栈信息</li>
</ul>
<p>当主逻辑代码没有报异常时，这三个参数将都为None。</p>
<h5 id="contextlib"><a href="#contextlib" class="headerlink" title="contextlib"></a>contextlib</h5><p>按照python提供的装饰器的代码协议来实现函数内容，就可以将这个函数对象变成一个上下文管理器</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打开文件关闭文件</span></span><br><span class="line"><span class="keyword">import</span> contextlib</span><br><span class="line"></span><br><span class="line"><span class="meta">@contextlib.contextmanager</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">open_func</span>(<span class="params">file_name</span>):</span><br><span class="line">    <span class="comment"># __enter__方法</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;open file:&#x27;</span>, file_name, <span class="string">&#x27;in __enter__&#x27;</span>)</span><br><span class="line">    file_handler = <span class="built_in">open</span>(file_name, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 【重点】：yield</span></span><br><span class="line">    <span class="keyword">yield</span> file_handler</span><br><span class="line"></span><br><span class="line">    <span class="comment"># __exit__方法</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;close file:&#x27;</span>, file_name, <span class="string">&#x27;in __exit__&#x27;</span>)</span><br><span class="line">    file_handler.close()</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"><span class="comment"># 文件地址使用双反斜杠或者一个正斜杠</span></span><br><span class="line"><span class="keyword">with</span> open_func(<span class="string">&#x27;C:\\Users\\DELL\\Desktop\\1.txt&#x27;</span>) <span class="keyword">as</span> file_in:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> file_in:</span><br><span class="line">        <span class="built_in">print</span>(line)</span><br></pre></td></tr></table></figure>
<p>文件地址斜杠使用不正确，会报错：<br>SyntaxError: (unicode error) ‘unicodeescape’ codec can’t decode bytes in position 2-3: truncated \UXXXXXXXX escape<br>以上借助contextlib实现函数为上下文管理器，接下来，我们修改一下，让他可以处理异常</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">mport contextlib</span><br><span class="line"></span><br><span class="line"><span class="meta">@contextlib.contextmanager</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">open_func</span>(<span class="params">file_name</span>):</span><br><span class="line">    <span class="comment"># __enter__方法</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;open file:&#x27;</span>, file_name, <span class="string">&#x27;in __enter__&#x27;</span>)</span><br><span class="line">    file_handler = <span class="built_in">open</span>(file_name, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">yield</span> file_handler</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> exc:</span><br><span class="line">        <span class="comment"># deal with exception</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;the exception was thrown&#x27;</span>)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;close file:&#x27;</span>, file_name, <span class="string">&#x27;in __exit__&#x27;</span>)</span><br><span class="line">        file_handler.close()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> open_func(<span class="string">&#x27;/Users/MING/mytest.txt&#x27;</span>) <span class="keyword">as</span> file_in:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> file_in:</span><br><span class="line">        <span class="number">1</span>/<span class="number">0</span></span><br><span class="line">        <span class="built_in">print</span>(line)</span><br></pre></td></tr></table></figure>
<p>我个人的理解，函数本身是可以实现功能的，但是有限，就比如，open，只能开，不能关，关要使用另外一个函数。然而，上下管理器，就相当于一个结合器，集合这些功能，把他们以一个一个功能为单位的函数组合成一个一个以事件为单位。组合函数，实现事件要求</p>
<h3 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h3><h5 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h5><p>装饰器本质也是一个python函数，它可以在其他函数在不需要做任何代码变动的前提，给其他函数增添额外功能，其返回值也是一个函数对象</p>
<h5 id="使用方法："><a href="#使用方法：" class="headerlink" title="使用方法："></a>使用方法：</h5><ol>
<li>先定义一个装饰器</li>
<li>再定义业务函数或者类</li>
<li>最后把装饰器扣在函数上</li>
</ol>
<h5 id="一个简单的装饰器"><a href="#一个简单的装饰器" class="headerlink" title="一个简单的装饰器"></a>一个简单的装饰器</h5><p>功能：函数执行开始与结束都记录日志</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">logger</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">*args, **kw</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;prepare for execution &#123;&#125;()&#x27;</span>.<span class="built_in">format</span>(func.__name__))</span><br><span class="line">        <span class="comment"># 真正执行的是这行。</span></span><br><span class="line">        func(*args, **kw)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;all right&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="meta">@logger</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">x, y</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;&#123;&#125; + &#123;&#125; = &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(x, y, x+y))</span><br><span class="line"></span><br><span class="line">add(<span class="number">10</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<h5 id="带参数装饰器"><a href="#带参数装饰器" class="headerlink" title="带参数装饰器"></a>带参数装饰器</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">say_hello</span>(<span class="params">contry</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">func</span>):</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">deco</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">            <span class="keyword">if</span> contry == <span class="string">&quot;china&quot;</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;你好!&quot;</span>)</span><br><span class="line">            <span class="keyword">elif</span> contry == <span class="string">&quot;america&quot;</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;hello.&#x27;</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># 真正执行函数的地方</span></span><br><span class="line">            func(*args, **kwargs)</span><br><span class="line">        <span class="keyword">return</span> deco</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="comment"># 小明，中国人</span></span><br><span class="line"><span class="meta">@say_hello(<span class="params"><span class="string">&quot;china&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">xiaoming</span>():</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># jack，美国人</span></span><br><span class="line"><span class="meta">@say_hello(<span class="params"><span class="string">&quot;america&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">jack</span>():</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="不带参数的类装饰器"><a href="#不带参数的类装饰器" class="headerlink" title="不带参数的类装饰器"></a>不带参数的类装饰器</h5><p>基于类装饰器的实现，必须实现 <strong>call</strong> 和 __init__两个内置函数。<br><strong>init</strong> ：接收被装饰函数 <strong>call</strong> ：实现装饰逻辑。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Any</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">logger</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,func</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self.func=func</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self, *args: <span class="type">Any</span>, **kwds: <span class="type">Any</span></span>) -&gt; <span class="type">Any</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;The function &#123;&#125; is running&quot;</span>.<span class="built_in">format</span>(self.func.__name__))</span><br><span class="line">        <span class="keyword">return</span> self.func(*args,**kwds)</span><br><span class="line">    </span><br><span class="line"><span class="meta">@logger</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">say</span>(<span class="params">ss</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;say&#123;&#125;&quot;</span>.<span class="built_in">format</span>(ss))</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">say(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line"><span class="comment"># The function say is running</span></span><br><span class="line"><span class="comment"># sayhello</span></span><br></pre></td></tr></table></figure>
<h5 id="带参数的类装饰器"><a href="#带参数的类装饰器" class="headerlink" title="带参数的类装饰器"></a>带参数的类装饰器</h5><p>带参数和不带参数的类装饰器有很大的不同。<br><strong>init</strong> ：不再接收被装饰函数，而是接收传入参数。 <strong>call</strong> ：接收被装饰函数，实现装饰逻辑。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 实现不同级别的日志</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">logger</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, level=<span class="string">&#x27;INFO&#x27;</span></span>):</span><br><span class="line">        self.level = level</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self, func</span>): <span class="comment"># 接受函数</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;[&#123;level&#125;]: the function &#123;func&#125;() is running...&quot;</span>\</span><br><span class="line">                .<span class="built_in">format</span>(level=self.level, func=func.__name__))</span><br><span class="line">            func(*args, **kwargs)</span><br><span class="line">        <span class="keyword">return</span> wrapper  <span class="comment">#返回函数</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@logger(<span class="params">level=<span class="string">&#x27;WARNING&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">say</span>(<span class="params">something</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;say &#123;&#125;!&quot;</span>.<span class="built_in">format</span>(something))</span><br><span class="line"></span><br><span class="line">say(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line"><span class="comment"># [WARNING]: the function say() is running...</span></span><br><span class="line"><span class="comment"># say hello!</span></span><br></pre></td></tr></table></figure>
<h5 id="使用偏函数与类实现装饰器"><a href="#使用偏函数与类实现装饰器" class="headerlink" title="使用偏函数与类实现装饰器"></a>使用偏函数与类实现装饰器</h5><p>绝大多数装饰器都是基于函数和闭包实现的，但这并非制造装饰器的唯一方式。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> functools</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DelayFunc</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,  duration, func</span>):</span><br><span class="line">        self.duration = duration</span><br><span class="line">        self.func = func</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self, *args, **kwargs</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;Wait for <span class="subst">&#123;self.duration&#125;</span> seconds...&#x27;</span>)</span><br><span class="line">        time.sleep(self.duration)</span><br><span class="line">        <span class="keyword">return</span> self.func(*args, **kwargs)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">eager_call</span>(<span class="params">self, *args, **kwargs</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Call without delay&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> self.func(*args, **kwargs)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">delay</span>(<span class="params">duration</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    装饰器：推迟某个函数的执行。</span></span><br><span class="line"><span class="string">    同时提供 .eager_call 方法立即执行</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 此处为了避免定义额外函数，</span></span><br><span class="line">    <span class="comment"># 直接使用 functools.partial 帮助构造 DelayFunc 实例</span></span><br><span class="line">    <span class="keyword">return</span> functools.partial(DelayFunc, duration)</span><br><span class="line"><span class="meta">@delay(<span class="params">duration=<span class="number">2</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="keyword">return</span> a+b</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(add)</span><br><span class="line"><span class="built_in">print</span>(add(<span class="number">3</span>,<span class="number">5</span>))</span><br><span class="line"><span class="built_in">print</span>(add.func)</span><br><span class="line"><span class="comment"># &lt;__main__.DelayFunc object at 0x0000013845AD0890&gt;</span></span><br><span class="line"><span class="comment"># Wait for 2 seconds...</span></span><br><span class="line"><span class="comment"># 8</span></span><br><span class="line"><span class="comment"># &lt;function add at 0x0000013845B24FE0&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="装饰类的装饰器"><a href="#装饰类的装饰器" class="headerlink" title="装饰类的装饰器"></a>装饰类的装饰器</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">instances = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">singleton</span>(<span class="params">cls</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_instance</span>(<span class="params">*args, **kw</span>):</span><br><span class="line">        cls_name = cls.__name__</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;===== 1 ====&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> cls_name <span class="keyword">in</span> instances:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;===== 2 ====&#x27;</span>)</span><br><span class="line">            instance = cls(*args, **kw)</span><br><span class="line">            instances[cls_name] = instance</span><br><span class="line">        <span class="keyword">return</span> instances[cls_name]</span><br><span class="line">    <span class="keyword">return</span> get_instance</span><br><span class="line"></span><br><span class="line"><span class="meta">@singleton</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>:</span><br><span class="line">    <span class="comment"># _instance = None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;===== 3 ====&#x27;</span>)</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">u1=User(<span class="string">&quot;li&quot;</span>)</span><br><span class="line">u1.age=<span class="number">20</span></span><br><span class="line">u2=User(<span class="string">&quot;dh&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(u1 <span class="keyword">is</span> u2)</span><br><span class="line"><span class="built_in">print</span>(u2.age)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(instances))</span><br><span class="line">a=<span class="built_in">list</span>(instances)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">===== 1 ====</span></span><br><span class="line"><span class="string">===== 2 ====</span></span><br><span class="line"><span class="string">===== 3 ====</span></span><br><span class="line"><span class="string">===== 1 ====</span></span><br><span class="line"><span class="string">True</span></span><br><span class="line"><span class="string">20</span></span><br><span class="line"><span class="string">1</span></span><br><span class="line"><span class="string">[&#x27;User&#x27;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><h3 id="什么是异常"><a href="#什么是异常" class="headerlink" title="什么是异常"></a>什么是异常</h3><p>导致程序在运行过程中出现异常中断和退出的错误，我们统称为异常。正常情况下，异常都不会被程序处理，而是以错误信息的形式展现出来。<br>有些错误是我们编写代码时自己造成的，比如语法错误、调用错误，甚至逻辑错误。<br>还有一些错误，则是不可预料的错误，但是完全有可能发生的，比如文件不存在、磁盘空间不足、网络堵塞、系统错误等等。</p>
<h3 id="常见异常类型"><a href="#常见异常类型" class="headerlink" title="常见异常类型"></a>常见异常类型</h3><ul>
<li>SyntaxError：语法错误</li>
<li>TypeError：类型错误</li>
<li>IndexError：索引错误</li>
<li>KeyError：关键词错误</li>
<li>ValueError：值错误</li>
<li>AttributeError：属性错误</li>
<li>NameError：变量名称错误</li>
<li>IOError：打开文件错误</li>
<li>StopIteration：迭代器错误</li>
<li>AssertionError：断言错误</li>
<li>IndentationError：缩进错误</li>
<li>ImportError：导包出现错误</li>
</ul>
<h3 id="如何抛出和捕获异常"><a href="#如何抛出和捕获异常" class="headerlink" title="如何抛出和捕获异常"></a>如何抛出和捕获异常</h3><h4 id="抛出异常"><a href="#抛出异常" class="headerlink" title="抛出异常"></a>抛出异常</h4><h5 id="异常产出"><a href="#异常产出" class="headerlink" title="异常产出"></a>异常产出</h5><ul>
<li>一种是程序自动抛出，比如 1&#x2F;0 会自动抛出 ZeroDivisionError</li>
<li>一种是开发者主动抛出，使用 raise 关键字抛出。</li>
</ul>
<h4 id="捕获异常"><a href="#捕获异常" class="headerlink" title="捕获异常"></a>捕获异常</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 异常捕获语法有四种</span></span><br><span class="line"><span class="comment"># 第一种：只捕捉但是没有获取异常信息</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    代码A</span><br><span class="line"><span class="keyword">except</span> [EXCEPTION]:</span><br><span class="line">    代码B</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第二种：捕捉并获取异常信息，可以把异常信息打印的日志中</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    代码A</span><br><span class="line"><span class="keyword">except</span> [EXCEPTION] <span class="keyword">as</span> e:</span><br><span class="line">    代码B</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第三种：如果代码A发生了异常，则会走到代码B的逻辑，如果没有发生异常，则会走到代码C</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    代码A</span><br><span class="line"><span class="keyword">except</span> [exception] <span class="keyword">as</span> e:</span><br><span class="line">    代码B</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    代码C</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第四种：如果代码A发生了异常，则会走到代码B的逻辑，最后不管有没有发生异常都会走到代码C</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    代码A</span><br><span class="line"><span class="keyword">except</span> [exception] <span class="keyword">as</span> e:</span><br><span class="line">    代码B</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    代码C</span><br><span class="line"></span><br><span class="line"><span class="comment"># 捕获多个异常，每个except捕获一个异常</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    代码A</span><br><span class="line"><span class="keyword">except</span> [exception1] <span class="keyword">as</span> e:</span><br><span class="line">    代码B</span><br><span class="line"><span class="keyword">except</span> [exception2] <span class="keyword">as</span> e:</span><br><span class="line">    代码C</span><br><span class="line"><span class="keyword">except</span> [exception3] <span class="keyword">as</span> e:</span><br><span class="line">    代码D</span><br><span class="line"><span class="comment"># 例子</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="number">1</span>/<span class="number">0</span></span><br><span class="line"><span class="keyword">except</span> IOError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;IO读写出错&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> FloatingPointError:</span><br><span class="line">    <span class="comment"># 浮点计算错误</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;计算错误&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError:</span><br><span class="line">    <span class="comment"># 除数不能为 0</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;计算错误&quot;</span>)</span><br><span class="line"><span class="comment"># output: 计算错误</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 一个except捕获多个异常</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="number">1</span>/<span class="number">0</span></span><br><span class="line"><span class="keyword">except</span> IOError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;IO读写出错&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> (ZeroDivisionError, FloatingPointError):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;计算出错&quot;</span>)</span><br><span class="line"><span class="comment"># output: 计算错误</span></span><br></pre></td></tr></table></figure>
<h3 id="自定义异常"><a href="#自定义异常" class="headerlink" title="自定义异常"></a>自定义异常</h3><p>自定义异常应该继承 Exception 类，直接继承或者间接继承都可以</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">InputError</span>(<span class="title class_ inherited__">Exception</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, msg</span>):</span><br><span class="line">        self.message = msg</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.message</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_input</span>():</span><br><span class="line">    name = <span class="built_in">input</span>(<span class="string">&quot;请输入你的姓名：&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> name == <span class="string">&quot;&quot;</span>:</span><br><span class="line">        <span class="keyword">raise</span> InputError(<span class="string">&quot;未输入内容&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    get_input()</span><br><span class="line"><span class="keyword">except</span> InputError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br></pre></td></tr></table></figure>
<h3 id="关闭异常自动关联上下文"><a href="#关闭异常自动关联上下文" class="headerlink" title="关闭异常自动关联上下文"></a>关闭异常自动关联上下文</h3><p>在处理异常时，由于处理不当或者其他问题，再次抛出另一个异常时，往外抛出的异常也会携带原始的异常信息。<br>如果在异常处理程序或 finally 块中引发异常，默认情况下，异常机制会隐式工作会将先前的异常附加为新异常的 __context__属性。这就是 Python 默认开启的自动关联异常上下文。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span> / <span class="number">0</span>)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> exc:</span><br><span class="line">    <span class="keyword">raise</span> RuntimeError(<span class="string">&quot;Something bad happened&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1695630349657-17ab35f8-6fb3-4cc4-9ecc-152c87d62d73.png#averageHue=%231e1d1b&clientId=ubc405619-8752-4&from=paste&height=261&id=ubffa548b&originHeight=392&originWidth=733&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=36063&status=done&style=none&taskId=u56e7e92d-8a67-452b-8a94-1d050625574&title=&width=488.6666666666667" alt="image.png"><br>如果在异常处理程序或 finally 块中引发异常，默认情况下，异常机制会隐式工作会将先前的异常附加为新异常的 __context__属性。这就是 Python 默认开启的自动关联异常上下文。<br>想自己控制这个上下文，可以加个 from 关键字（from 语法会有个限制，就是第二个表达式必须是另一个异常类或实例。），来表明你的新异常是直接由哪个异常引起的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span>/<span class="number">0</span>)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> exc:</span><br><span class="line">    <span class="keyword">raise</span> RuntimeError(<span class="string">&quot;Something bad happened&quot;</span>) <span class="keyword">from</span> exc</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1695633670386-6fdeb774-fe0b-4ce7-8ec4-50b77b2132f8.png#averageHue=%231f1d1c&clientId=ubc405619-8752-4&from=paste&height=241&id=u625ed27b&originHeight=362&originWidth=718&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=34378&status=done&style=none&taskId=u063a110e-6b1d-4907-ae4d-1375d57ed05&title=&width=478.6666666666667" alt="image.png"></p>
<h5 id="使用raise…from-None可以关闭这个自动关联异常上下文机制"><a href="#使用raise…from-None可以关闭这个自动关联异常上下文机制" class="headerlink" title="使用raise…from None可以关闭这个自动关联异常上下文机制"></a>使用raise…from None可以关闭这个自动关联异常上下文机制</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span>/<span class="number">0</span>)</span><br><span class="line"><span class="keyword">except</span> Exception:</span><br><span class="line">    <span class="keyword">raise</span> RuntimeError(<span class="string">&quot;Something bad happened&quot;</span>) <span class="keyword">from</span> <span class="literal">None</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1695634075885-d9e7beda-7474-4cca-b5fc-fd7f5828a653.png#averageHue=%23211e1c&clientId=ubc405619-8752-4&from=paste&height=127&id=uc4e0a952&originHeight=190&originWidth=727&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=21813&status=done&style=none&taskId=u80eab2a2-7da1-4df2-a3ce-e4e7bc870f3&title=&width=484.6666666666667" alt="image.png"></p>
<ul>
<li>永远只捕获那些可能会抛出异常的语句块</li>
<li>尽量只捕获精确的异常类型，而不是模糊的exception</li>
</ul>
<h2 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h2><h3 id="类的基础"><a href="#类的基础" class="headerlink" title="类的基础"></a>类的基础</h3><h5 id="类定义："><a href="#类定义：" class="headerlink" title="类定义："></a>类定义：</h5><p>类（英文名 class），是具有相同特性（属性）和行为（方法）的对象（实例）的抽象模板。<br>定义类语法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>:</span><br><span class="line">    age = <span class="number">0</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span> 跑起来了&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>其中<br>Animal 是类名<br><strong>init</strong> 是构造函数，用于实例的初始化<br>self.name 是实例属性，age 是类属性<br>run 是方法，第一个参数 self 是什么意思呢？这个咱后面再讲。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一种写法</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>:</span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第二种写法</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>():</span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第三种写法</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 实例化</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span> 跑起来了&quot;</span>)</span><br><span class="line">dog=Animal(name=<span class="string">&quot;小黑&quot;</span>)  <span class="comment"># 实例化出 dog 对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法调用</span></span><br><span class="line">dog=Animal(name=<span class="string">&quot;小黑&quot;</span>)</span><br><span class="line">dog.name  <span class="comment"># 访问属性</span></span><br><span class="line"><span class="comment"># &#x27;小黑&#x27;</span></span><br><span class="line"><span class="comment"># 调用方法则有两种方式</span></span><br><span class="line"><span class="comment"># 第一种</span></span><br><span class="line">dog.run()</span><br><span class="line"><span class="comment"># 第二种</span></span><br><span class="line">Animal.run(dog)		<span class="comment">#使用这种方法，要传入实例对象名</span></span><br></pre></td></tr></table></figure>
<h3 id="静态方法与类方法"><a href="#静态方法与类方法" class="headerlink" title="静态方法与类方法"></a>静态方法与类方法</h3><h5 id="类的方法分类"><a href="#类的方法分类" class="headerlink" title="类的方法分类"></a>类的方法分类</h5><ul>
<li>静态方法：staticmethod装饰</li>
<li>类方法：classmethod装饰</li>
<li>实例方法：没有任何装饰器装饰的普通函数<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span>跑起来啦&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">eat</span>():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;正在吃饭...&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">jump</span>(<span class="params">cls, name</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;name&#125;</span>jump!&quot;</span>)</span><br><span class="line"></span><br><span class="line">dog=Animal(name=<span class="string">&quot;wangwang&quot;</span>)</span><br><span class="line"><span class="comment"># instance</span></span><br><span class="line">dog.run()</span><br><span class="line">Animal.run(<span class="string">&quot;wangwang&quot;</span>)</span><br><span class="line"><span class="comment"># staticmethod</span></span><br><span class="line">dog.eat()</span><br><span class="line">Animal.eat()</span><br><span class="line"><span class="comment"># classmethod</span></span><br><span class="line">dog.jump(<span class="string">&quot;wangwang&quot;</span>)</span><br><span class="line">Animal.jump(<span class="string">&quot;wangwang&quot;</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="方法与函数区别"><a href="#方法与函数区别" class="headerlink" title="方法与函数区别"></a>方法与函数区别</h5><p>普通函数（未定位在类里）和静态方法，都是函数（function ）。<br>实例方法（@staticmethod）和类方法，都是方法（method ）。</p>
<h3 id="私有变量和私有方法"><a href="#私有变量和私有方法" class="headerlink" title="私有变量和私有方法"></a>私有变量和私有方法</h3><h5 id="关于下划线"><a href="#关于下划线" class="headerlink" title="关于下划线"></a>关于下划线</h5><ul>
<li>变量名推荐使用下划线分隔的蛇形命名法</li>
<li>魔法方法、构造函数都需要使用双下划线</li>
<li>对于暂时用不到的变量值，可以赋值给单下划线 _ 进行占位</li>
</ul>
<p>下划线分类：</p>
<ul>
<li>单前导下划线：_var<ul>
<li>当涉及到变量和方法名称时，单个下划线前缀有一个约定俗成的含义。 它是对程序员的一个提示</li>
<li>下划线前缀的含义是告知其他程序员：以单个下划线开头的变量或方法仅供内部使用。 但这仅是程序员之间的约定，不影响程序进入类访问变量</li>
<li>但是会影响导入：使用通配符导入模块中所有的名称，则Python不会导入带有前导下划线的名称（除非模块定义了覆盖此行为的__all__列表）</li>
<li>当然，一般避免通配符导入</li>
</ul>
</li>
<li>单末尾下划线：var_<ul>
<li>有时候，一个变量的最合适的名称已经被一个关键字所占用。 因此，像class或def这样的名称不能用作Python中的变量名称。 在这种情况下，可以附加一个下划线来解决命名冲突</li>
<li>同样，也是一个约定，只是避免和关键词产生冲突</li>
</ul>
</li>
<li>双前导下划线：__var<ul>
<li><p>这个可以说是大不一样了，它会改变变量和方法的名称</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>:</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">       self.foo = <span class="number">11</span></span><br><span class="line">       self._bar = <span class="number">23</span></span><br><span class="line">       self.__baz = <span class="number">23</span></span><br><span class="line">t=Test()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dir</span>(t))</span><br></pre></td></tr></table></figure>
</li>
<li><p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1695718863564-ea6ec5cd-87bc-4060-922e-aa53fb3b29cb.png#averageHue=%23201e1c&clientId=ubc405619-8752-4&from=paste&height=131&id=u88106c96&originHeight=197&originWidth=751&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=20156&status=done&style=none&taskId=u5b68a4ce-153a-4f0f-a9fe-35d26908172&title=&width=500.6666666666667" alt="image.png"></p>
</li>
<li><p>可以看到，单前导和foo都没有改变，而双前导的属性名字改变了，’_Test__baz’，他在前面加上了这个类的单前导加类名</p>
</li>
<li><p>同时，无法通过print(t.__baz)访问到它，已经完全变成了新的名字了</p>
</li>
<li><p>在继承中，显然也不会被重写</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>:</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">       self.foo = <span class="number">11</span></span><br><span class="line">       self._bar = <span class="number">23</span></span><br><span class="line">       self.__baz = <span class="number">23</span></span><br><span class="line">t=Test()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dir</span>(t))</span><br><span class="line"><span class="comment"># print(t.__baz)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ExtendedTest</span>(<span class="title class_ inherited__">Test</span>):</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="built_in">super</span>().__init__()</span><br><span class="line">       self.foo = <span class="string">&#x27;overridden&#x27;</span></span><br><span class="line">       self._bar = <span class="string">&#x27;overridden&#x27;</span></span><br><span class="line">       self.__baz = <span class="string">&#x27;overridden&#x27;</span></span><br><span class="line"></span><br><span class="line">t2 = ExtendedTest()</span><br><span class="line"><span class="built_in">print</span>(t2.foo)</span><br><span class="line"><span class="built_in">print</span>(t2._bar)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dir</span>(t2))</span><br><span class="line"><span class="built_in">print</span>(t2.__baz)</span><br></pre></td></tr></table></figure>

<ul>
<li><p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1695719249376-460b5749-59e0-401d-9210-129dcb586ae5.png#averageHue=%231f1d1c&clientId=ubc405619-8752-4&from=paste&height=377&id=uffdf2f09&originHeight=565&originWidth=758&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=50844&status=done&style=none&taskId=u4058cf2b-2770-4b55-9d73-44c8392df54&title=&width=505.3333333333333" alt="image.png"></p>
</li>
<li><p>没有改变原来的’_Test__baz’，而是添加了’_ExtendedTest__baz’</p>
</li>
<li><p>以上说的，对方法也适用，这种方法可以很好的防止变量被重写，想要访问，得通过实例._类名__方法名 来调用</p>
</li>
<li><p>另外，以下这个例子也可以很好的说明python这种改变属性名的情况</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">_MangledGlobal__mangled = <span class="number">23</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MangledGlobal</span>:</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">test</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="keyword">return</span> __mangled</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(MangledGlobal().test())</span><br><span class="line"><span class="comment"># 虽然我从来没有定义过__mangled，但是这里依旧正常输出了23</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>双前导和末尾下划线：<strong>var</strong></p>
<ul>
<li>只有双前导的会改变名字，但是这种双前导和双末尾都具有的反而不会被python解释器修改</li>
<li>但是这种格式一般都有特殊用法，这些dunder被我们称为神奇方法，尽量避免使用这种命名，以免与python语言的变化产生冲突</li>
<li>dunder是 Double UNDERscore（中文双下划线）的缩写，分别取Double的D 和 Underscore的Under组成。这样取名后方便发音。</li>
</ul>
</li>
<li><p>单下划线：_</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 有时候单个独立下划线是用作一个名字，来表示某个变量是临时的或无关紧要的。</span></span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>) </span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 表示占位符</span></span><br><span class="line">car = (<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;auto&#x27;</span>, <span class="number">12</span>, <span class="number">3812.4</span>)	<span class="comment">#咱只关心第一个和最后一个数据</span></span><br><span class="line">color, _, _, mileage = car</span><br><span class="line"><span class="built_in">print</span>(car)</span><br><span class="line"><span class="built_in">print</span>(mileage)</span><br><span class="line"><span class="built_in">print</span>(_)		<span class="comment"># 表示离他最近的一次赋值</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1695720437195-81ca41dc-6ada-476e-b4dc-f6531378cd64.png#averageHue=%231d1c1a&clientId=ubc405619-8752-4&from=paste&height=57&id=uf8154ccd&originHeight=85&originWidth=312&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=4126&status=done&style=none&taskId=ua57063b0-b6b7-4350-9402-b52265fd266&title=&width=208" alt="image.png"></p>
</li>
</ul>
<h3 id="类的封装"><a href="#类的封装" class="headerlink" title="类的封装"></a>类的封装</h3><p>封装是指将数据与具体操作的实现代码放在某个对象内部，使这些代码的实现细节不被外界发现，外界只能通过接口使用该对象，而不能通过任何形式修改对象内部实现。<br>而私有化函数与私有化方法通过在前面加双下划线来实现，虽然平时也可以通过加类名的方法访问，但是不建议直接这么做，应该统一接口来对私有化的成员进行查看与调用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">xh = Person(name=<span class="string">&quot;小红&quot;</span>, age=<span class="number">27</span>)</span><br><span class="line"><span class="keyword">if</span> xh.age &gt;= <span class="number">18</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;xh.name&#125;</span>已经是成年人了&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;xh.name&#125;</span>还是未年人&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 但是对女生来说，年龄比较隐私，不想暴露</span></span><br><span class="line"><span class="comment"># 于是</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.__age = age</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">is_adult</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.__age &gt;= <span class="number">18</span></span><br><span class="line"></span><br><span class="line">xh = Person(name=<span class="string">&quot;小红&quot;</span>, age=<span class="number">27</span>)</span><br><span class="line">xh.is_adult()</span><br></pre></td></tr></table></figure>
<h3 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h3><p>被继承的类称为基类（也叫做父类），继承而得的类叫派生类（也叫子类），这种关系就像人类的父子关系。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 继承语法</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">子类</span>(<span class="title class_ inherited__">父类</span>):</span><br></pre></td></tr></table></figure>
<h5 id="单继承与多继承"><a href="#单继承与多继承" class="headerlink" title="单继承与多继承"></a>单继承与多继承</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 单继承</span></span><br><span class="line"><span class="comment"># 父类定义</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age, weight</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span> 说: 我<span class="subst">&#123;self.age&#125;</span>岁。&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 单继承示例</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="title class_ inherited__">People</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age, weight, grade</span>):</span><br><span class="line">        <span class="comment"># 调用父类的实例化方法</span></span><br><span class="line">        People.__init__(self, name, age, weight)</span><br><span class="line">        self.grade = grade</span><br><span class="line"></span><br><span class="line">xm = Student(name=<span class="string">&quot;小明&quot;</span>, age=<span class="number">10</span>, weight=<span class="number">50</span>, grade=<span class="string">&quot;三年级&quot;</span>)</span><br><span class="line">xm.speak()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果有部分变量或者方法需要修改，可以覆写</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="title class_ inherited__">People</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age, weight, grade</span>):</span><br><span class="line">        <span class="comment"># 调用父类的实例化方法</span></span><br><span class="line">        People.__init__(self, name, age, weight)</span><br><span class="line">        self.grade = grade</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 重写父类的speak方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span> 说: 我<span class="subst">&#123;self.age&#125;</span>岁了，我在读<span class="subst">&#123;self.grade&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 多继承</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">子类</span>(父类<span class="number">1</span>, 父类<span class="number">2</span>, 父类<span class="number">3.</span>..):</span><br><span class="line"></span><br><span class="line"><span class="comment"># 多继承就会出现顺序问题，同一个函数，父类都含有同一个方法时，继承哪一个？</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;i am D&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(<span class="title class_ inherited__">D</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;i am C&quot;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>(<span class="title class_ inherited__">C</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;i am B&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">G</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;i am G&quot;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">F</span>(<span class="title class_ inherited__">G</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;i am F&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">E</span>(<span class="title class_ inherited__">F</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;i am E&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>(B, E):<span class="keyword">pass</span></span><br><span class="line">a=A()</span><br><span class="line">a.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这样子就会形成一个从左往右的继承树</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1695799504353-812860eb-2e33-428c-a9e4-f3748424ecdb.png#averageHue=%23fcfaf9&clientId=ubc405619-8752-4&from=paste&height=271&id=u03bd224d&originHeight=407&originWidth=479&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=22656&status=done&style=none&taskId=u753d5ebe-badf-41c9-b58c-ea02fae63c8&title=&width=319.3333333333333" alt="image.png"><br>继承树如上<br>从左往右，从上往下，深度优先<br>然而，大部分时候，遇见的继承关系都不会这么单纯简单<br>可以使用两种方法查询</p>
<ul>
<li>使用 <strong>mro</strong> 来查询</li>
<li>使用 merge算法进行推导<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>(<span class="title class_ inherited__">object</span>):<span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>(<span class="title class_ inherited__">A</span>):<span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(<span class="title class_ inherited__">A</span>):<span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span>(B, C):<span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># __mro__</span></span><br><span class="line"><span class="built_in">print</span>(D.__mro__)</span><br><span class="line"></span><br><span class="line"><span class="comment"># inspect</span></span><br><span class="line"><span class="keyword">import</span> inspect</span><br><span class="line"><span class="built_in">print</span> inspect.getmro(D)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">(&lt;class &#x27;__main__.D&#x27;&gt;,</span></span><br><span class="line"><span class="string"> &lt;class &#x27;__main__.B&#x27;&gt;,</span></span><br><span class="line"><span class="string"> &lt;class &#x27;__main__.C&#x27;&gt;,</span></span><br><span class="line"><span class="string"> &lt;class &#x27;__main__.A&#x27;&gt;,</span></span><br><span class="line"><span class="string"> &lt;class &#x27;object&#x27;&gt;)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># merge推导</span></span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/whatisfantasy/p/6046991.html">https://www.cnblogs.com/whatisfantasy/p/6046991.html</a></p>
<h3 id="类的多态"><a href="#类的多态" class="headerlink" title="类的多态"></a>类的多态</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">American</span>(<span class="title class_ inherited__">People</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Hello, boys&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Chinese</span>(<span class="title class_ inherited__">People</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;你好，老铁&quot;</span>)</span><br><span class="line"></span><br><span class="line">p1 = American()</span><br><span class="line">p2 = Chinese()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 多态</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">do_speak</span>(<span class="params">people</span>):</span><br><span class="line">    people.speak()</span><br><span class="line"></span><br><span class="line">do_speak(p1)</span><br><span class="line">do_speak(p2)</span><br></pre></td></tr></table></figure>
<h3 id="类的property属性"><a href="#类的property属性" class="headerlink" title="类的property属性"></a>类的property属性</h3><p>property ，其实是 Python 中一个内置的装饰器，它可以在新式类中把一个函数 改造 成属性。<br>当你读取属性值时，会进入被 property 装饰的函数。<br>当你对属性进行赋值时，会进入被 @xx.setter 装饰的函数。<br>两个装饰器，一定是 @property 在前面，而 @xx.setter 在后</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>:</span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self._age</span><br><span class="line"></span><br><span class="line"><span class="meta">    @age.setter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self, value</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span> &lt;= value &lt;= <span class="number">150</span>:</span><br><span class="line">            self._age = value</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&quot;Valid value must be in [0, 150]&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1695875040590-f0bc3fcc-57d5-4510-8785-9104bdd226b7.png#averageHue=%23201e1c&clientId=ubc405619-8752-4&from=paste&height=155&id=u9bccc82b&originHeight=233&originWidth=747&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=25610&status=done&style=none&taskId=uc4c3e99d-8c70-45af-80f1-33bda3ec6fd&title=&width=498" alt="image.png"></p>
<h3 id="类的Mixin设计模式"><a href="#类的Mixin设计模式" class="headerlink" title="类的Mixin设计模式"></a>类的Mixin设计模式</h3><h5 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h5><p>就是正常的定义类，名字后面加一个Mixin，这种类只实现某个功能，用于添加到子类中</p>
<h5 id="功能规范"><a href="#功能规范" class="headerlink" title="功能规范"></a>功能规范</h5><p>使用Mixin类实现多重继承要遵循以下几个规范</p>
<ul>
<li>责任明确：必须表示某一种功能，而不是某个物品；</li>
<li>功能单一：若有多个功能，那就写多个Mixin类；</li>
<li>绝对独立：不能依赖于子类的实现；子类即便没有继承这个Mixin类，也照样可以工作，就是缺少了某个功能。</li>
</ul>
<h5 id="不使用这个模式开发有以下几个弊端"><a href="#不使用这个模式开发有以下几个弊端" class="headerlink" title="不使用这个模式开发有以下几个弊端"></a>不使用这个模式开发有以下几个弊端</h5><ul>
<li>结构复杂<ul>
<li>多个父类，继承关系混乱</li>
</ul>
</li>
<li>优先顺序模糊<ul>
<li>多个父类有同名方法，开发过程中，这种混乱，难以理清</li>
</ul>
</li>
<li>功能冲突</li>
</ul>
<h3 id="类的魔术方法"><a href="#类的魔术方法" class="headerlink" title="类的魔术方法"></a>类的魔术方法</h3><h5 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h5><p>之前提到了，被两个下划线包围的特殊方法就是魔术方法<br>具体不详细介绍了：<a target="_blank" rel="noopener" href="https://python.iswbm.com/c07/c07_09.html">https://python.iswbm.com/c07/c07_09.html</a></p>
<h3 id="元类编程"><a href="#元类编程" class="headerlink" title="元类编程"></a>元类编程</h3><p>使用继承的表面形式来创建一个类，其内部真正的创建是由 type 来创建的。<br>使用type创建，type() 需要接收三个参数</p>
<ul>
<li>类的名称，若不指定，也要传入空字符串：””</li>
<li>父类，注意以tuple的形式传入，若没有父类也要传入空tuple：()，默认继承object</li>
<li>绑定的方法或属性，注意以dict的形式传入<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 准备一个基类（父类）</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BaseClass</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">talk</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;i am people&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 准备一个方法</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">say</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用type来创建User类</span></span><br><span class="line">User = <span class="built_in">type</span>(<span class="string">&quot;User&quot;</span>, (BaseClass, ), &#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;user&quot;</span>, <span class="string">&quot;say&quot;</span>:say&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
<p>类是创建对象的模板，元类，就是创建类的模板<br>type是Python在背后用来创建所有类的元类，我们熟知的类的始祖 object 也是由type创建的，连type自己也是由type自己创建的</p>
<ul>
<li>str：用来创建字符串对象的类。</li>
<li>int：是用来创建整数对象的类。</li>
<li>type：是用来创建类对象的类。’</li>
</ul>
<h3 id="类的描述符Descriptor"><a href="#类的描述符Descriptor" class="headerlink" title="类的描述符Descriptor"></a>类的描述符Descriptor</h3><p>一个实现了 描述符协议 的类就是一个描述符。<br>描述符协议：在类里实现了 <strong>get</strong>()、<strong>set</strong>()、<strong>delete</strong>() 其中至少一个方法。</p>
<ul>
<li>__get__： 用于访问属性。它返回属性的值，若属性不存在、不合法等都可以抛出对应的异常。</li>
<li>__set__：将在属性分配操作中调用。不会返回任何内容。</li>
<li>__delete__：控制删除操作。不会返回内容。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 例：做个成绩管理系统</span></span><br><span class="line"><span class="comment"># 语数外三科，对分数实现简单的判断</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, math, chinese, english</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.math = math</span><br><span class="line">        self.chinese = chinese</span><br><span class="line">        self.english = english</span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">math</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self._math</span><br><span class="line"></span><br><span class="line"><span class="meta">    @math.setter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">math</span>(<span class="params">self, value</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span> &lt;= value &lt;= <span class="number">100</span>:</span><br><span class="line">            self._math = value</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&quot;Valid value must be in [0, 100]&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">chinese</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self._chinese</span><br><span class="line"></span><br><span class="line"><span class="meta">    @chinese.setter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">chinese</span>(<span class="params">self, value</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span> &lt;= value &lt;= <span class="number">100</span>:</span><br><span class="line">            self._chinese = value</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&quot;Valid value must be in [0, 100]&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">english</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self._english</span><br><span class="line"></span><br><span class="line"><span class="meta">    @english.setter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">english</span>(<span class="params">self, value</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span> &lt;= value &lt;= <span class="number">100</span>:</span><br><span class="line">            self._english = value</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&quot;Valid value must be in [0, 100]&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&lt;Student: &#123;&#125;, math:&#123;&#125;, chinese: &#123;&#125;, english:&#123;&#125;&gt;&quot;</span>.<span class="built_in">format</span>(</span><br><span class="line">                self.name, self.math, self.chinese, self.english</span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显然，大量代码重复，在这里可以使用描述符</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Score</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, default=<span class="number">0</span></span>):</span><br><span class="line">        self._score = default</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__set__</span>(<span class="params">self, instance, value</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(value, <span class="built_in">int</span>):</span><br><span class="line">            <span class="keyword">raise</span> TypeError(<span class="string">&#x27;Score must be integer&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="number">0</span> &lt;= value &lt;= <span class="number">100</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&#x27;Valid value must be in [0, 100]&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        self._score = value</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__get__</span>(<span class="params">self, instance, owner</span>):</span><br><span class="line">        <span class="keyword">return</span> self._score</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__delete__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">del</span> self._score</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>:</span><br><span class="line">    math = Score(<span class="number">0</span>)</span><br><span class="line">    chinese = Score(<span class="number">0</span>)</span><br><span class="line">    english = Score(<span class="number">0</span>)</span><br><span class="line">    <span class="comment"># 这样写，这三个属性就会变为类变量，所有实例共享</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, math, chinese, english</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.math = math</span><br><span class="line">        self.chinese = chinese</span><br><span class="line">        self.english = english</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&lt;Student: &#123;&#125;, math:&#123;&#125;, chinese: &#123;&#125;, english:&#123;&#125;&gt;&quot;</span>.<span class="built_in">format</span>(</span><br><span class="line">                self.name, self.math, self.chinese, self.english</span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这么写可以把类变量分开</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Score</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, subject</span>):</span><br><span class="line">        self.name = subject</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__get__</span>(<span class="params">self, instance, owner</span>):</span><br><span class="line">        <span class="keyword">return</span> instance.__dict__[self.name]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__set__</span>(<span class="params">self, instance, value</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span> &lt;= value &lt;= <span class="number">100</span>:</span><br><span class="line">            instance.__dict__[self.name] = value</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>:</span><br><span class="line">    math = Score(<span class="string">&quot;math&quot;</span>)</span><br><span class="line">    chinese = Score(<span class="string">&quot;chinese&quot;</span>)</span><br><span class="line">    english = Score(<span class="string">&quot;english&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, math, chinese, english</span>):</span><br><span class="line">        self.math = math</span><br><span class="line">        self.chinese = chinese</span><br><span class="line">        self.english = english</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&lt;Student math:&#123;&#125;, chinese:&#123;&#125;, english:&#123;&#125;&gt;&quot;</span>.<span class="built_in">format</span>(self.math, self.chinese, self.english)</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="描述符访问规则"><a href="#描述符访问规则" class="headerlink" title="描述符访问规则"></a>描述符访问规则</h5><p>描述符分两种：<br>数据描述符：实现了__get__ 和 <strong>set</strong> 两种方法的描述符<br>非数据描述符：只实现了__get__ 一种方法的描述符<br>它们的区别在于相对于实例的字典的优先级不同<br>实例字典中有与描述符同名的属性，如果描述符是数据描述符，优先使用数据描述符，如果是非数据描述符，优先使用字典中的属性。</p>
<h2 id="包与模块"><a href="#包与模块" class="headerlink" title="包与模块"></a>包与模块</h2><h3 id="基本定义"><a href="#基本定义" class="headerlink" title="基本定义"></a>基本定义</h3><h5 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h5><p>模块就是以.py为后缀的文件，可以使用import导入，导入以后，就可以通过模块名.变量名的方式访问这个文件的变量<br>在导入模块的时候，一个很重要的全局变量__name__会发生改变<br>当模块被直接执行的时候，<strong>name__会被改变为__main</strong><br>当模块被导入的时候，__name__的值为模块名<br>模块被导入以后，会产生一个__pycache__的缓存文件夹，导入模块的时候，Python解释器会把模块的代码编译成字节码，并放入 __pycache__文件夹中</p>
<h5 id="包"><a href="#包" class="headerlink" title="包"></a>包</h5><p>Python3.3之前，一个文件夹里面含有__init__.py文件，我们就把这个文件夹称为包<br>后面只要是文件夹就可以叫做包，称之为空间命名包</p>
<h5 id="库"><a href="#库" class="headerlink" title="库"></a>库</h5><p>Python 库是指一定功能的代码集合，通常认为他是一个完整的项目打包。<br>库-&gt;包-&gt;模块，是从大到小的层级关系！</p>
<ul>
<li>库：一个库可能由多个包和模块组成</li>
<li>包：一个包可能由多个模块组成</li>
<li>模块：一堆函数、类、变量的集合</li>
</ul>
<h5 id="安装第三方包的八种方法"><a href="#安装第三方包的八种方法" class="headerlink" title="安装第三方包的八种方法"></a>安装第三方包的八种方法</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.easy_install(最古老，目前基本无人使用)</span></span><br><span class="line"><span class="comment"># 通过包名，从PyPI寻找最新版本，自动下载、编译、安装</span></span><br><span class="line">$ easy_install pkg_name</span><br><span class="line"><span class="comment"># 通过包名从指定下载页寻找链接来安装或升级包</span></span><br><span class="line">$ easy_install -f http://pythonpaste.org/package_index.html</span><br><span class="line"><span class="comment"># 指定线上的包地址安装</span></span><br><span class="line">$ easy_install http://example.com/path/to/MyPackage-<span class="number">1.2</span><span class="number">.3</span>.tgz</span><br><span class="line"><span class="comment"># 从本地的 .egg 文件安装</span></span><br><span class="line">$ easy_install xxx.egg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.pip install(pip是最主流的包管理方案)</span></span><br><span class="line"><span class="comment"># pip install xxx 就可以从 PYPI 上搜索并安装 xxx</span></span><br><span class="line">$ pip install requests</span><br><span class="line"><span class="comment"># 前提你得保证你已经下载 pkg 包到 /local/wheels 目录下</span></span><br><span class="line">$ pip install --no-index --find-links=/local/wheels pkg</span><br><span class="line"><span class="comment"># 所安装的包的版本为 2.1.2</span></span><br><span class="line">$ pip install pkg==<span class="number">2.1</span><span class="number">.2</span></span><br><span class="line"><span class="comment"># 所安装的包必须大于等于 2.1.2</span></span><br><span class="line">$ pip install pkg&gt;=<span class="number">2.1</span><span class="number">.2</span></span><br><span class="line"><span class="comment"># 所安装的包必须小于等于 2.1.2</span></span><br><span class="line">$ pip install pkg&lt;=<span class="number">2.1</span><span class="number">.2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.pipx</span></span><br><span class="line"><span class="comment"># pipx是一个专门安装和管理cli应用程序：（command-line interface，命令行界面）的工具，使用前需要先安装</span></span><br><span class="line">$ python3 -m pip install --user pipx</span><br><span class="line">$ python3 -m userpath append ~/.local/<span class="built_in">bin</span></span><br><span class="line"><span class="comment"># 然后就可以使用pipx安装cli工具了</span></span><br><span class="line">$ pipx install pkg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.setup.py</span></span><br><span class="line"><span class="comment"># 如果有编写setup.py文件，可以直接使用源码安装</span></span><br><span class="line">$ python setup.py install</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.yum</span></span><br><span class="line"><span class="comment"># python包在使用setup文件构建时，对包的发布格式可以选择bdist_rpm</span></span><br><span class="line"><span class="comment"># 发布 rpm 包</span></span><br><span class="line">$ python setup.py bdist_rpm</span><br><span class="line"><span class="comment"># 而对于这种格式，可以使用 yum install xxx 或者 rpm install xxx 来安装。</span></span><br><span class="line"><span class="comment"># 使用 yum 安装</span></span><br><span class="line">$ yum install pkg</span><br><span class="line"><span class="comment"># 使用 rpm 安装</span></span><br><span class="line">$ rpm -ivh pkg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6.在pipenv虚拟环境中可以使用</span></span><br><span class="line">$ pipenv install pkg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 7.使用poetry管理项目依赖，可以使用：</span></span><br><span class="line"><span class="comment"># 直接安装包</span></span><br><span class="line">$ poetry add pkg</span><br><span class="line"><span class="comment"># 指定为开发依赖</span></span><br><span class="line">$ poetry add pytest --dev</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用curl+管道</span></span><br><span class="line">$ curl -sSL https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py | python</span><br></pre></td></tr></table></figure>
<h3 id="导入单元"><a href="#导入单元" class="headerlink" title="导入单元"></a>导入单元</h3><h4 id="组成"><a href="#组成" class="headerlink" title="组成"></a>组成</h4><h5 id="模块："><a href="#模块：" class="headerlink" title="模块："></a>模块：</h5><p>类似 *.py，.pyc， <em>.pyd ，.so，</em>.dll 这样的文件，是 Python 代码载体的最小单元。</p>
<h5 id="包（可以分为两种）："><a href="#包（可以分为两种）：" class="headerlink" title="包（可以分为两种）："></a>包（可以分为两种）：</h5><ul>
<li>Regular packages：是一个带有 <strong>init</strong>.py 文件的文件夹，此文件夹下可包含其他子包，或者模块</li>
<li>Namespace packages</li>
</ul>
<h4 id="标准写法"><a href="#标准写法" class="headerlink" title="标准写法"></a>标准写法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入方式两种写法</span></span><br><span class="line"><span class="comment"># 相对导入（relative import ）：</span></span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> B 或 <span class="keyword">from</span> ..A <span class="keyword">import</span> B，<span class="comment">#其中.表示当前模块，..表示上层模块</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绝对导入（absolute import）：</span></span><br><span class="line"><span class="keyword">import</span> foo.bar 或 <span class="keyword">from</span> foo <span class="keyword">import</span> bar</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在 PEP8 中对模块的导入提出了要求，遵守 PEP8规范能让代码更具有可读性</span></span><br><span class="line"><span class="comment"># import 语句应当分行书写</span></span><br><span class="line"><span class="comment"># import语句应当使用absolute import</span></span><br><span class="line"><span class="comment"># import语句应当放在文件头部，置于模块说明及docstring之后，全局变量之前</span></span><br><span class="line"><span class="comment"># import语句应该按照顺序排列，每组之间用一个空格分隔，按照内置模块，第三方模块，自己所写的模块调用顺序，同时每组内部按照字母表顺序排列</span></span><br><span class="line"><span class="comment"># 内置模块</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第三方模块</span></span><br><span class="line"><span class="keyword">import</span> flask</span><br><span class="line"></span><br><span class="line"><span class="comment"># 本地模块</span></span><br><span class="line"><span class="keyword">from</span> foo <span class="keyword">import</span> bar</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>花式导入包的八种方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>直接 <span class="keyword">import</span></span><br><span class="line">人尽皆知的方法，直接导入即可</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.getcwd()</span><br><span class="line"><span class="string">&#x27;/home/wangbm&#x27;</span></span><br><span class="line">与此类似的还有，不再细讲</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ...</span><br><span class="line"><span class="keyword">import</span> ... <span class="keyword">as</span> ...</span><br><span class="line"><span class="keyword">from</span> ... <span class="keyword">import</span> ...</span><br><span class="line"><span class="keyword">from</span> ... <span class="keyword">import</span> ... <span class="keyword">as</span> ...</span><br><span class="line">一般情况下，使用 <span class="keyword">import</span> 语句导入模块已经够用的。</span><br><span class="line"></span><br><span class="line">但是在一些特殊场景中，可能还需要其他的导入方式。</span><br><span class="line"></span><br><span class="line">下面我会一一地给你介绍。</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 使用 <span class="built_in">__import__</span></span><br><span class="line"><span class="built_in">__import__</span> 函数可用于导入模块，<span class="keyword">import</span> 语句也会调用函数。其定义为：</span><br><span class="line"></span><br><span class="line"><span class="built_in">__import__</span>(name[, <span class="built_in">globals</span>[, <span class="built_in">locals</span>[, fromlist[, level]]]])</span><br><span class="line">参数介绍：</span><br><span class="line"></span><br><span class="line">name (required): 被加载 module 的名称</span><br><span class="line"></span><br><span class="line"><span class="built_in">globals</span> (optional): 包含全局变量的字典，该选项很少使用，采用默认值 <span class="keyword">global</span>()</span><br><span class="line"></span><br><span class="line"><span class="built_in">locals</span> (optional): 包含局部变量的字典，内部标准实现未用到该变量，采用默认值 - local()</span><br><span class="line"></span><br><span class="line">fromlist (<span class="type">Optional</span>): 被导入的 submodule 名称</span><br><span class="line"></span><br><span class="line">level (<span class="type">Optional</span>): 导入路径选项，Python <span class="number">2</span> 中默认为 -<span class="number">1</span>，表示同时支持 absolute <span class="keyword">import</span> 和 relative <span class="keyword">import</span>。Python <span class="number">3</span> 中默认为 <span class="number">0</span>，表示仅支持 absolute <span class="keyword">import</span>。如果大于 <span class="number">0</span>，则表示相对导入的父目录的级数，即 <span class="number">1</span> 类似于 ‘.’，<span class="number">2</span> 类似于 ‘..’。</span><br><span class="line"></span><br><span class="line">使用示例如下：</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os = <span class="built_in">__import__</span>(<span class="string">&#x27;os&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.getcwd()</span><br><span class="line"><span class="string">&#x27;/home/wangbm&#x27;</span></span><br><span class="line">如果要实现 <span class="keyword">import</span> xx <span class="keyword">as</span> yy 的效果，只要修改左值即可</span><br><span class="line"></span><br><span class="line">如下示例，等价于 <span class="keyword">import</span> os <span class="keyword">as</span> myos：</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>myos = <span class="built_in">__import__</span>(<span class="string">&#x27;os&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>myos.getcwd()</span><br><span class="line"><span class="string">&#x27;/home/wangbm&#x27;</span></span><br><span class="line">上面说过的 <span class="built_in">__import__</span> 是一个内建函数，既然是内建函数的话，那么这个内建函数必将存在于 __buildins__ 中，因此我们还可以这样导入 os 的模块：</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>__builtins__.__dict__[<span class="string">&#x27;__import__&#x27;</span>](<span class="string">&#x27;os&#x27;</span>).getcwd()</span><br><span class="line"><span class="string">&#x27;/home/wangbm&#x27;</span></span><br><span class="line"><span class="number">3.</span> 使用 importlib 模块</span><br><span class="line">importlib 是 Python 中的一个标准库，importlib 能提供的功能非常全面。</span><br><span class="line"></span><br><span class="line">它的简单示例：</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> importlib</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>myos=importlib.import_module(<span class="string">&quot;os&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>myos.getcwd()</span><br><span class="line"><span class="string">&#x27;/home/wangbm&#x27;</span></span><br><span class="line">如果要实现 <span class="keyword">import</span> xx <span class="keyword">as</span> yy效果，可以这样</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> importlib</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>myos = importlib.import_module(<span class="string">&quot;os&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>myos.getcwd()</span><br><span class="line"><span class="string">&#x27;/home/wangbm&#x27;</span></span><br><span class="line"><span class="number">4.</span> 使用 imp 模块</span><br><span class="line">imp 模块提供了一些 <span class="keyword">import</span> 语句内部实现的接口。例如模块查找（find_module）、模块加载（load_module）等等（模块的导入过程会包含模块查找、加载、缓存等步骤）。可以用该模块来简单实现内建的 <span class="built_in">__import__</span> 函数功能：</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> imp</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file, pathname, desc = imp.find_module(<span class="string">&#x27;os&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>myos = imp.load_module(<span class="string">&#x27;sep&#x27;</span>, file, pathname, desc)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>myos</span><br><span class="line">&lt;module <span class="string">&#x27;sep&#x27;</span> <span class="keyword">from</span> <span class="string">&#x27;/usr/lib64/python2.7/os.pyc&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>myos.getcwd()</span><br><span class="line"><span class="string">&#x27;/home/wangbm&#x27;</span></span><br><span class="line">从 python <span class="number">3</span> 开始，内建的 reload 函数被移到了 imp 模块中。而从 Python <span class="number">3.4</span> 开始，imp 模块被否决，不再建议使用，其包含的功能被移到了 importlib 模块下。即从 Python <span class="number">3.4</span> 开始，importlib 模块是之前 imp 模块和 importlib 模块的合集。</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span> 使用 execfile</span><br><span class="line">在 Python <span class="number">2</span> 中有一个 execfile 函数，利用它可以用来执行一个文件。</span><br><span class="line"></span><br><span class="line">语法如下：</span><br><span class="line"></span><br><span class="line">execfile(filename[, <span class="built_in">globals</span>[, <span class="built_in">locals</span>]])</span><br><span class="line">参数有这么几个：</span><br><span class="line"></span><br><span class="line">filename：文件名。</span><br><span class="line"></span><br><span class="line"><span class="built_in">globals</span>：变量作用域，全局命名空间，如果被提供，则必须是一个字典对象。</span><br><span class="line"></span><br><span class="line"><span class="built_in">locals</span>：变量作用域，局部命名空间，如果被提供，可以是任何映射对象。</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>execfile(<span class="string">&quot;/usr/lib64/python2.7/os.py&quot;</span>)</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>getcwd()</span><br><span class="line"><span class="string">&#x27;/home/wangbm&#x27;</span></span><br><span class="line"><span class="number">6.</span> 使用 <span class="built_in">exec</span> 执行</span><br><span class="line">execfile 只能在 Python2 中使用，Python <span class="number">3.</span>x 里已经删除了这个函数。</span><br><span class="line"></span><br><span class="line">但是原理值得借鉴，你可以使用 <span class="built_in">open</span> … read 读取文件内容，然后再用 <span class="built_in">exec</span> 去执行模块。</span><br><span class="line"></span><br><span class="line">示例如下：</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;/usr/lib64/python2.7/os.py&quot;</span>, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line"><span class="meta">... </span>    <span class="built_in">exec</span>(f.read())</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>getcwd()</span><br><span class="line"><span class="string">&#x27;/home/wangbm&#x27;</span></span><br><span class="line"><span class="number">7.</span> import_from_github_com</span><br><span class="line">有一个包叫做 import_from_github_com，从名字上很容易得知，它是一个可以从 github 下载安装并导入的包。为了使用它，你需要做的就是按照如下命令使用pip 先安装它。</span><br><span class="line"></span><br><span class="line">$ python3 -m pip install import_from_github_com</span><br><span class="line">这个包使用了PEP <span class="number">302</span>中新的引入钩子，允许你可以从github上引入包。这个包实际做的就是安装这个包并将它添加到本地。你需要 Python <span class="number">3.2</span> 或者更高的版本，并且 git 和 pip 都已经安装才能使用这个包。</span><br><span class="line"></span><br><span class="line">pip 要保证是较新版本，如果不是请执行如下命令进行升级。</span><br><span class="line"></span><br><span class="line">$ python3 -m pip install --upgrade pip</span><br><span class="line">确保环境 ok 后，你就可以在 Python shell 中使用 import_from_github_com</span><br><span class="line"></span><br><span class="line">示例如下</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> github_com.zzzeek <span class="keyword">import</span> sqlalchemy</span><br><span class="line">Collecting git+https://github.com/zzzeek/sqlalchemy</span><br><span class="line">Cloning https://github.com/zzzeek/sqlalchemy to /tmp/pip-acfv7t06-build</span><br><span class="line">Installing collected packages: SQLAlchemy</span><br><span class="line">Running setup.py install <span class="keyword">for</span> SQLAlchemy ... done</span><br><span class="line">Successfully installed SQLAlchemy-<span class="number">1.1</span><span class="number">.0</span>b1.dev0</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">locals</span>()</span><br><span class="line">&#123;<span class="string">&#x27;__builtins__&#x27;</span>: &lt;module <span class="string">&#x27;builtins&#x27;</span> (built-<span class="keyword">in</span>)&gt;, <span class="string">&#x27;__spec__&#x27;</span>: <span class="literal">None</span>,</span><br><span class="line"><span class="string">&#x27;__package__&#x27;</span>: <span class="literal">None</span>, <span class="string">&#x27;__doc__&#x27;</span>: <span class="literal">None</span>, <span class="string">&#x27;__name__&#x27;</span>: <span class="string">&#x27;__main__&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;sqlalchemy&#x27;</span>: &lt;module <span class="string">&#x27;sqlalchemy&#x27;</span> <span class="keyword">from</span> <span class="string">&#x27;/usr/local/lib/python3.5/site-packages/\</span></span><br><span class="line"><span class="string">sqlalchemy/__init__.py&#x27;</span>&gt;,</span><br><span class="line"><span class="string">&#x27;__loader__&#x27;</span>: &lt;<span class="keyword">class</span> <span class="string">&#x27;_frozen_importlib.BuiltinImporter&#x27;</span>&gt;&#125;</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">看了 import_from_github_com的源码后，你会注意到它并没有使用importlib。实际上，它的原理就是使用 pip 来安装那些没有安装的包，然后使用Python的<span class="built_in">__import__</span>()函数来引入新安装的模块。</span><br><span class="line"></span><br><span class="line"><span class="number">8.</span> 远程导入模块</span><br><span class="line">在后面有一篇文章里，深入剖析了导入模块的内部原理，并在最后手动实现了从远程服务器上读取模块内容，并在本地成功将模块导入的导入器。</span><br><span class="line"></span><br><span class="line">具体内容非常的多，你可以点击这个链接进行深入学习。</span><br><span class="line"></span><br><span class="line">示例代码如下：</span><br><span class="line"></span><br><span class="line"><span class="comment"># 新建一个 py 文件（my_importer.py），内容如下</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> importlib</span><br><span class="line"><span class="keyword">import</span> urllib.request <span class="keyword">as</span> urllib2</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UrlMetaFinder</span>(importlib.abc.MetaPathFinder):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, baseurl</span>):</span><br><span class="line">        self._baseurl = baseurl</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">find_module</span>(<span class="params">self, fullname, path=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="keyword">if</span> path <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            baseurl = self._baseurl</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 不是原定义的url就直接返回不存在</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> path.startswith(self._baseurl):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">            baseurl = path</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            loader = UrlMetaLoader(baseurl)</span><br><span class="line">            <span class="keyword">return</span> loader</span><br><span class="line">        <span class="keyword">except</span> Exception:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UrlMetaLoader</span>(importlib.abc.SourceLoader):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, baseurl</span>):</span><br><span class="line">        self.baseurl = baseurl</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_code</span>(<span class="params">self, fullname</span>):</span><br><span class="line">        f = urllib2.urlopen(self.get_filename(fullname))</span><br><span class="line">        <span class="keyword">return</span> f.read()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_data</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_filename</span>(<span class="params">self, fullname</span>):</span><br><span class="line">        <span class="keyword">return</span> self.baseurl + fullname + <span class="string">&#x27;.py&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">install_meta</span>(<span class="params">address</span>):</span><br><span class="line">    finder = UrlMetaFinder(address)</span><br><span class="line">    sys.meta_path.append(finder)</span><br><span class="line">并且在远程服务器上开启 http 服务（为了方便，我仅在本地进行演示），并且手动编辑一个名为 my_info 的 python 文件，如果后面导入成功会打印 ok。</span><br><span class="line"></span><br><span class="line">$ mkdir httpserver &amp;&amp; cd httpserver</span><br><span class="line">$ cat&gt;my_info.py&lt;EOF</span><br><span class="line">name=<span class="string">&#x27;wangbm&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">EOF</span><br><span class="line">$ cat my_info.py</span><br><span class="line">name=<span class="string">&#x27;wangbm&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">$</span><br><span class="line">$ python3 -m http.server <span class="number">12800</span></span><br><span class="line">Serving HTTP on <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span> port <span class="number">12800</span> (http://<span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>:<span class="number">12800</span>/) ...</span><br><span class="line">...</span><br><span class="line">一切准备好，验证开始。</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> my_importer <span class="keyword">import</span> install_meta</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>install_meta(<span class="string">&#x27;http://localhost:12800/&#x27;</span>) <span class="comment"># 往 sys.meta_path 注册 finder</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> my_info  <span class="comment"># 打印ok，说明导入成功</span></span><br><span class="line">ok</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>my_info.name  <span class="comment"># 验证可以取得到变量</span></span><br><span class="line"><span class="string">&#x27;wangbm&#x27;</span></span><br></pre></td></tr></table></figure>
<p>使用from module import *默认情况下导入所有变量，可以在module中使用__all__来控制</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># profile.py</span></span><br><span class="line">name=<span class="string">&#x27;小明&#x27;</span></span><br><span class="line">age=<span class="number">18</span></span><br><span class="line"></span><br><span class="line">__all__=[<span class="string">&#x27;name&#x27;</span>]</span><br><span class="line"><span class="comment"># __all__仅在from module import *下适用</span></span><br></pre></td></tr></table></figure>
<p>重载的坑<br>由于有 sys.modules 的存在，当你导入一个已导入的模块时，实际上是没有效果的。</p>
<h3 id="pip"><a href="#pip" class="headerlink" title="pip"></a>pip</h3><p>Python 生态完备，有数以万计的 Python 爱好者愿意以 Python 为基础封装出各种有利于开发的第三方工具包。这使我们能够以最快的速度开发出一个满足基本需要的项目，而不是每次都重复造轮子。<br>pip 是官方推荐的包管理工具<br>其他的包管理工具：</p>
<ul>
<li>distutils：仅用于打包和安装，严格来讲不算是包管理工具</li>
<li>setuptools：distutils的增强版，扩展了distutils，提供更多的功能，引入包依赖的管理，easy_install就是它的一个命令行工具，引入了 egg 的文件格式。</li>
<li>Pipenv：一个集依赖包管理（pip）及虚拟环境管理（virtualenv）</li>
<li>等等<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询当前环境安装的所有软件包</span></span><br><span class="line">$ pip <span class="built_in">list</span></span><br><span class="line"><span class="comment"># 查询 pypi 上含有某名字的包</span></span><br><span class="line">$ pip search pkg</span><br><span class="line"><span class="comment"># 查询当前环境中可升级的包</span></span><br><span class="line">$ pip <span class="built_in">list</span> --outdated</span><br><span class="line"><span class="comment"># 查询一个包的详细内容</span></span><br><span class="line">$ pip show pkg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在不安装软件包的情况下下载软件包到本地</span></span><br><span class="line">$ pip download --destination-directory /local/wheels -r requirements.txt</span><br><span class="line"><span class="comment"># 下载完，总归是要安装的，可以指定这个目录中安装软件包，而不从 pypi 上安装。</span></span><br><span class="line">$ pip install --no-index --find-links=/local/wheels -r requirements.txt</span><br><span class="line"><span class="comment"># 从下载的包中，自己构建生成 wheel 文件</span></span><br><span class="line">$ pip install wheel</span><br><span class="line">$ pip wheel --wheel-<span class="built_in">dir</span>=/local/wheels -r requirements.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装软件包</span></span><br><span class="line">$ pip install &lt;pkg&gt;</span><br><span class="line"><span class="comment"># 只从本地安装，而不从 pypi 安装</span></span><br><span class="line"><span class="comment"># 前提你得保证你已经下载 pkg 包到 /local/wheels 目录下</span></span><br><span class="line">$ pip install --no-index --find-links=/local/wheels pkg</span><br><span class="line"><span class="comment"># 限定版本进行软件包安装</span></span><br><span class="line"><span class="comment"># 所安装的包的版本为 2.1.2</span></span><br><span class="line">$ pip install pkg==<span class="number">2.1</span><span class="number">.2</span></span><br><span class="line"><span class="comment"># 所安装的包必须大于等于 2.1.2</span></span><br><span class="line">$ pip install pkg&gt;=<span class="number">2.1</span><span class="number">.2</span></span><br><span class="line"><span class="comment"># 所安装的包必须小于等于 2.1.2</span></span><br><span class="line">$ pip install pkg&lt;=<span class="number">2.1</span><span class="number">.2</span></span><br><span class="line"><span class="comment"># 管理/控制整个 python 环境的包版本</span></span><br><span class="line"><span class="comment"># 导出依赖包列表</span></span><br><span class="line">pip freeze &gt;requirements.txt</span><br><span class="line"><span class="comment"># 从依赖包列表中安装</span></span><br><span class="line">pip install -r requirements.txt</span><br><span class="line"><span class="comment"># 确保当前环境软件包的版本(并不确保安装)</span></span><br><span class="line">pip install -c constraints.txt</span><br><span class="line"><span class="comment"># 限制不使用二进制包安装</span></span><br><span class="line"><span class="comment"># 下载非二进制的包</span></span><br><span class="line">$ pip download --no-binary=:<span class="built_in">all</span>: pkg</span><br><span class="line"><span class="comment">#　安装非二进制的包</span></span><br><span class="line">$ pip install pkg --no-binary</span><br><span class="line"><span class="comment"># 指定代理服务器安装——处在内网环境中，无法直接连接公网</span></span><br><span class="line"><span class="comment"># 可以使用两种方法</span></span><br><span class="line"><span class="comment"># 下载离线包拷贝到内网机器中安装——费时费力，无法处理包的依赖</span></span><br><span class="line"><span class="comment"># 使用代理服务器转发请求</span></span><br><span class="line">$ pip install --proxy [user:passwd@]http_server_ip:port pkg</span><br><span class="line"><span class="comment"># 长长的参数可以下载配置文件中，这样就不用每次安装包的时候都写了$HOME/.config/pip/pip.conf</span></span><br><span class="line"><span class="comment"># 安装用户私有软件包，python 的安装包是可以用户隔离的。</span></span><br><span class="line"><span class="comment"># 只要加上 --user 参数，pip 就会将其安装在当前用户的 ~/.local/lib/python3.x/site-packages 下，而其他用户的 python 则不会受影响。</span></span><br><span class="line">pip install --user pkg</span><br><span class="line"><span class="comment"># 网络不好，可以延长超时时间，避免ReadTimeout而失败</span></span><br><span class="line">$ pip install --default-timeout=<span class="number">100</span> &lt;packages&gt;</span><br><span class="line"><span class="comment"># 卸载软件包</span></span><br><span class="line">$ pip uninstall pkg</span><br><span class="line"><span class="comment"># 升级软件包</span></span><br><span class="line">$ pip install --upgrade pkg</span><br><span class="line"><span class="comment"># eager ：升级全部依赖包</span></span><br><span class="line"><span class="comment"># only-if-need：只有当旧版本不能适配新的父依赖包时，才会升级。</span></span><br></pre></td></tr></table></figure></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/03/28/python/PythonStudy/" data-id="cluc2gj2s000fac6z2ko60htq" data-title="pythonStudy" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-java/Java学习笔记" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/28/java/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="article-date">
  <time class="dt-published" datetime="2024-03-27T16:00:00.000Z" itemprop="datePublished">2024-03-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/28/java/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">JavaStudy</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="java入门"><a href="#java入门" class="headerlink" title="java入门"></a>java入门</h1><h2 id="Java基础"><a href="#Java基础" class="headerlink" title="Java基础"></a>Java基础</h2><h3 id="第一个Java程序："><a href="#第一个Java程序：" class="headerlink" title="第一个Java程序："></a>第一个Java程序：</h3><p>因为之前已经安装过IDEA了，我打算直接用这个编写Java，我先检查了一下JDK<br>命令行输入：查看版本<br>java -version<br>再检查一下它的安装路径<br>java -verbose<img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1677820311355-07a234e3-6565-4a54-b43a-92956de2f4db.png#averageHue=%231e1e1e&clientId=u5688dca2-698b-4&from=drop&id=u89199856&originHeight=92&originWidth=1162&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=12539&status=done&style=none&taskId=u686e8662-7f2a-44b0-aa5e-e49b9cb16c6&title=" alt="image-20230302190047822.png"><br>发现出现shared objects file，查询发现，可能是一开始安装时没有采用它的默认路径，于是我在环境变量中去寻找了一下，看看有没有什么线索，我发现了javahome，但是那个地址显然已经失效了，我并没有找到，最后在文件搜索下找到了javaJDK的位置（之前把文件转移了，不记得改环境变量）<br>接下来开始编写<br>看着全英文的界面，有点玛瑙，还是得整个中文插件，可以不用，但不能没有。（插件：Plugins）<img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1677820328374-9b3b2946-6dcf-45fa-9abb-67b5a353eddb.png#averageHue=%23779389&clientId=u5688dca2-698b-4&from=drop&id=u51aec544&originHeight=1010&originWidth=1920&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=116656&status=done&style=none&taskId=ucbe81ceb-cb72-4832-a3e4-ac0c37380cd&title=" alt="image-20230302192108408.png"><br>除了一些Bug，发现找不到JDK，原来那个位置的JDK也乱七八糟，干脆直接在这里面的配置直接下JDK<br>19版本的，没啥问题<br>在src里面新建一个try的类，编写第一个java程序</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public class Try &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        System.out.println(&quot;Hello, Li&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1677820350128-714819eb-a798-4070-89a7-06040aa62ad6.png#averageHue=%232f2e2d&clientId=u5688dca2-698b-4&from=drop&id=u3c59013d&originHeight=128&originWidth=565&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=11889&status=done&style=none&taskId=u743ac42e-d056-424e-90e0-984142a7dfc&title=" alt="image-20230302235023649.png"><br>完美运行</p>
<h3 id="Java程序基本结构"><a href="#Java程序基本结构" class="headerlink" title="Java程序基本结构"></a>Java程序基本结构</h3><p>Java是面向对象的语言，一个程序的<strong>基本单位</strong>就是&#96;class<br>以我第一个程序为例，Try就是类名，这里class的名字<br>注意到public是访问修饰符，表示该class是公开的。<br>不写public，也能正确编译，但是这个类将无法从命令行执行</p>
<h5 id="类名要求："><a href="#类名要求：" class="headerlink" title="类名要求："></a>类名要求：</h5><ol>
<li>类名以英文字母开头，后接字母，数字和下划线的组合</li>
<li>习惯以大写字母开头</li>
</ol>
<p>Java入口程序规定的方法必须是静态方法，方法名必须为main，括号内的参数必须是String数组。<br>方法名命名规则和class一样，但是首字母小写<br>方法内部，语句才是真正的执行代码。Java的每一行语句必须以分号结束</p>
<h5 id="注释："><a href="#注释：" class="headerlink" title="注释："></a>注释：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//public class Hello &#123;</span></span><br><span class="line"><span class="comment">/*public static void main(String[] args) &#123;</span></span><br><span class="line"><span class="comment">System.out.println(&quot;Hello, world!&quot;);</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br></pre></td></tr></table></figure>
<p>两种注释方法，和c&#x2F;c++一样，还有一种特殊的多行注释：<br>以&#x2F;*<em>开头，以</em>&#x2F;结束，如果有多行，每行通常以星号开头</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 可以用来自动创建文档的注释</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">* <span class="doctag">@auther</span> 老李头</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello, world!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这种特殊的多行注释（文档注释）需要写在类和方法的定义处，可以用于自动创建文档。<br>文档注释操作–&gt;《使用IDEA对java程序生成JavaDoc文档》</p>
<h3 id="变量和数据类型"><a href="#变量和数据类型" class="headerlink" title="变量和数据类型"></a>变量和数据类型</h3><h4 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h4><p>通常对应一个英文单词或者其缩写，其英文含义就体现了它所具有的语法作用和功能。<img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1677820393934-07d98d34-a434-47a8-8555-6c451076c065.png#averageHue=%2399b8dc&clientId=u5688dca2-698b-4&from=drop&id=u92e5814e&originHeight=282&originWidth=708&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=65233&status=done&style=none&taskId=u4d25b1e7-3f72-49de-8094-c610d67cfb1&title=" alt="image-20230303125125984.png"><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1677820393954-e12cb740-b1fc-462d-98fc-72aca730958d.png#averageHue=%239cb9da&clientId=u5688dca2-698b-4&from=drop&id=u608aa923&originHeight=304&originWidth=713&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=87628&status=done&style=none&taskId=u659ca827-af8c-415f-8dbc-ab93e3a9ed9&title=" alt="image-20230303125150280.png"></p>
<h4 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h4><p>编程者根据编写程序的需要自己定义的，用英文字母、下划线字符和数字字符组成的字串，并且第1个字符不能是数字字符。</p>
<h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4><p>变量包含变量类型、变量名和存储的值</p>
<h4 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h4><h4 id=""><a href="#" class="headerlink" title=""></a><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1677820466246-5458e04a-3af0-42a9-a8ab-f5cac68bc885.png#averageHue=%23f7f2f2&clientId=u5688dca2-698b-4&from=drop&id=u020efdf0&originHeight=309&originWidth=709&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=69819&status=done&style=none&taskId=ua138bf27-b602-4b2e-bd75-7e8d8ffafb2&title=" alt="image-20230303125539454.png"></h4><h5 id="默认值："><a href="#默认值：" class="headerlink" title="默认值："></a>默认值：</h5><p>整数型：0<br>浮点型：0.0f&#x2F;0.0<br>字符型：0<br>布尔：false<br>引用数据类型：null</p>
<h5 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h5><h4 id="-1"><a href="#-1" class="headerlink" title=""></a><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1677820466218-83a12ea1-15c5-4b2b-810e-fad614d9a13c.png#averageHue=%23c2cfe2&clientId=u5688dca2-698b-4&from=drop&id=u403d27ba&originHeight=156&originWidth=592&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=36581&status=done&style=none&taskId=u368280ad-9c04-4455-ae12-8d1f1c68515&title=" alt="image-20230303125615115.png"></h4><p>整型常量默认int型，声明long型常量时需要在后面加上l<img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1677820466223-ec8a4acc-60e2-4e96-a581-70f7357a9316.png#averageHue=%23aabdd6&clientId=u5688dca2-698b-4&from=drop&id=u38bf656f&originHeight=125&originWidth=688&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=45557&status=done&style=none&taskId=u2c4d76e8-c7bc-4a95-94a9-8e1ce66f54b&title=" alt="image-20230303130710791.png"><br>浮点型常量默认为double型，声明float型常量，须后加‘f’或‘F’。<br>字符类型char表示一个字符。Java的char类型除了可表示标准的ASCII外，还可以表示一个Unicode字符：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">char</span> <span class="variable">a</span> <span class="operator">=</span> <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">        <span class="type">char</span> <span class="variable">zh</span> <span class="operator">=</span> <span class="string">&#x27;中&#x27;</span>;</span><br><span class="line">        System.out.println(a);</span><br><span class="line">        System.out.println(zh);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意char类型使用单引号’，且仅有一个字符</p>
<h5 id="引用数据类型"><a href="#引用数据类型" class="headerlink" title="引用数据类型"></a>引用数据类型</h5><p>引用类型最常用的就是String字符串：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br></pre></td></tr></table></figure>
<h5 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h5><p>常量的作用是用有意义的变量名来避免魔术数字，常量在定义时进行初始化后就不可再次赋值，再次赋值会导致编译错误。<br>根据习惯，常量名通常全部大写。</p>
<h5 id="BigInteger"><a href="#BigInteger" class="headerlink" title="BigInteger"></a>BigInteger</h5><p>在Java中，由CPU原生提供的整型最大范围是64位long型整数。<br>如果想要的数据超过了64位，就只能去模拟一个大整数。<br>java.math.BigInteger就是用来表示任意大小的整数。BigInteger内部用一个int[]数组来模拟一个非常大的整数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BigInteger</span> <span class="variable">bi</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(<span class="string">&quot;1234567890&quot;</span>);</span><br><span class="line">System.out.println(bi.pow(<span class="number">5</span>)); </span><br><span class="line"><span class="comment">// 2867971860299718107233761438093672048294900000</span></span><br></pre></td></tr></table></figure>
<p>在对BigInteger做运算的时候，只能使用实例方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BigInteger</span> <span class="variable">i1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(<span class="string">&quot;1234567890&quot;</span>);</span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">i2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(<span class="string">&quot;12345678901234567890&quot;</span>);</span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">sum</span> <span class="operator">=</span> i1.add(i2); <span class="comment">// 12345678902469135780</span></span><br></pre></td></tr></table></figure>
<p>BigInteger可以用longValueExact（）方法来转换成long，但是当数据溢出的时候会抛出ArithmeticException<br>另外，BigInteger也是继承Number类，和Integer、Long一样，也是不可变类。并且也可以转换为基本类型（Number定义了转换为基本类型的几个方法）：</p>
<ul>
<li>转换为byte：byteValue()</li>
<li>转换为short：shortValue()</li>
<li>转换为int：intValue()</li>
<li>转换为long：longValue()</li>
<li>转换为float：floatValue()</li>
<li>转换为double：doubleValue()</li>
</ul>
<h5 id="BigDecimal"><a href="#BigDecimal" class="headerlink" title="BigDecimal"></a>BigDecimal</h5><p>BigDecimal可以表示一个任意大小且精度完全准确的浮点数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BigDecimal</span> <span class="variable">bd</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;123.4567&quot;</span>);</span><br><span class="line">System.out.println(bd.multiply(bd)); <span class="comment">// 15241.55677489</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// BigDecimal使用scale()方法来表示浮点数小数的位数</span></span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">d1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;123.45&quot;</span>);</span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">d2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;123.4500&quot;</span>);</span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">d3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;1234500&quot;</span>);</span><br><span class="line">System.out.println(d1.scale()); <span class="comment">// 2,两位小数</span></span><br><span class="line">System.out.println(d2.scale()); <span class="comment">// 4</span></span><br><span class="line">System.out.println(d3.scale()); <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用stripTrailingZeros()方法来去除小数末尾的0</span></span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">d1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;123.4500&quot;</span>);</span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">d2</span> <span class="operator">=</span> d1.stripTrailingZeros();</span><br><span class="line">System.out.println(d1.scale()); <span class="comment">// 4</span></span><br><span class="line">System.out.println(d2.scale()); <span class="comment">// 2,因为去掉了00</span></span><br><span class="line"></span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">d3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;1234500&quot;</span>);</span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">d4</span> <span class="operator">=</span> d3.stripTrailingZeros();</span><br><span class="line">System.out.println(d3.scale()); <span class="comment">// 0</span></span><br><span class="line">System.out.println(d4.scale()); <span class="comment">// -2</span></span><br><span class="line"><span class="comment">//如果一个BigDecimal的scale()返回负数，例如，-2，表示这个数是个整数，并且末尾有2个0。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="整数，浮点数，布尔运算"><a href="#整数，浮点数，布尔运算" class="headerlink" title="整数，浮点数，布尔运算"></a>整数，浮点数，布尔运算</h3><h4 id="整数运算："><a href="#整数运算：" class="headerlink" title="整数运算："></a>整数运算：</h4><p>Java的整数运算遵循四则运算规则，可以使用任意嵌套的小括号。四则运算规则和初等数学一致。<br>注意：</p>
<ol>
<li>整数的除法对于除数为0时运行时将报错，但编译不会报错。</li>
<li>溢出：整数由于存在范围限制，如果计算结果超出了范围，就会产生溢出，而溢出不会出错，却会得到一个奇怪的结果</li>
</ol>
<h5 id="自增自减操作："><a href="#自增自减操作：" class="headerlink" title="自增自减操作："></a>自增自减操作：</h5><p>当进行赋值运算是，左值的类型范围理应大于等于右值，否则可能会溢出，产生报错。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">short</span> b=<span class="number">1</span>;</span><br><span class="line"><span class="comment">//b=b+2;			//2默认为int，这样会报错</span></span><br><span class="line">b+=<span class="number">2</span>;				<span class="comment">//但是使用*=，+=,++,--这类简写运算符却不会产生错误</span></span><br><span class="line">	</span><br></pre></td></tr></table></figure>
<h5 id="移位运算："><a href="#移位运算：" class="headerlink" title="移位运算："></a>移位运算：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">7</span>;       <span class="comment">// 00000000 00000000 00000000 00000111 = 7</span></span><br><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> n &lt;&lt; <span class="number">1</span>;  <span class="comment">// 00000000 00000000 00000000 00001110 = 14</span></span><br><span class="line"><span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> n &lt;&lt; <span class="number">2</span>;  <span class="comment">// 00000000 00000000 00000000 00011100 = 28</span></span><br><span class="line"><span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> n &lt;&lt; <span class="number">28</span>; <span class="comment">// 01110000 00000000 00000000 00000000 = 1879048192</span></span><br></pre></td></tr></table></figure>
<p>对byte和short类型进行移位时，会首先转换为int再进行位移。<br>仔细观察可发现，左移实际上就是不断地×2，右移实际上就是不断地÷2。</p>
<h5 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h5><p>位运算是按位进行<strong>与、或、非</strong>和<strong>异或</strong>的运算。<br>与运算的规则是，必须两个数同时为1，结果才为1：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">0</span> &amp; <span class="number">0</span>; <span class="comment">// 0</span></span><br><span class="line">n = <span class="number">0</span> &amp; <span class="number">1</span>; <span class="comment">// 0</span></span><br><span class="line">n = <span class="number">1</span> &amp; <span class="number">0</span>; <span class="comment">// 0</span></span><br><span class="line">n = <span class="number">1</span> &amp; <span class="number">1</span>; <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>或运算的规则是，只要任意一个为1，结果就为1：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">0</span> | <span class="number">0</span>; <span class="comment">// 0</span></span><br><span class="line">n = <span class="number">0</span> | <span class="number">1</span>; <span class="comment">// 1</span></span><br><span class="line">n = <span class="number">1</span> | <span class="number">0</span>; <span class="comment">// 1</span></span><br><span class="line">n = <span class="number">1</span> | <span class="number">1</span>; <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>非运算的规则是，0和1互换：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">n = ~<span class="number">0</span>; <span class="comment">// 1</span></span><br><span class="line">n = ~<span class="number">1</span>; <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>
<p>异或运算的规则是，如果两个数不同，结果为1，否则为0：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">0</span> ^ <span class="number">0</span>; <span class="comment">// 0</span></span><br><span class="line">n = <span class="number">0</span> ^ <span class="number">1</span>; <span class="comment">// 1</span></span><br><span class="line">n = <span class="number">1</span> ^ <span class="number">0</span>; <span class="comment">// 1</span></span><br><span class="line">n = <span class="number">1</span> ^ <span class="number">1</span>; <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>
<h5 id="运算优先级"><a href="#运算优先级" class="headerlink" title="运算优先级"></a>运算优先级</h5><ul>
<li>()</li>
<li>! ~ ++ –</li>
<li><ul>
<li>&#x2F; %</li>
</ul>
</li>
<li><ul>
<li><ul>
<li></li>
</ul>
</li>
</ul>
</li>
<li>&lt;&lt; &gt;&gt; &gt;&gt;&gt;</li>
<li>&amp;</li>
<li>|</li>
<li>+&#x3D; -&#x3D; *&#x3D; &#x2F;&#x3D;</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> i=<span class="number">0</span>;</span><br><span class="line"><span class="comment">// i=++i;						输出1</span></span><br><span class="line">i=i++;                        <span class="comment">//输出0</span></span><br><span class="line">System.out.println(<span class="string">&quot;i=&quot;</span>+i);</span><br></pre></td></tr></table></figure>
<h5 id="强制转换"><a href="#强制转换" class="headerlink" title="强制转换"></a>强制转换</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">12345</span>;</span><br><span class="line"><span class="type">short</span> <span class="variable">s</span> <span class="operator">=</span> (<span class="type">short</span>) i; <span class="comment">// 12345</span></span><br></pre></td></tr></table></figure>
<p>注意，超出范围的强制转型会得到错误的结果，原因是转型时，int的两个高位字节直接被扔掉，仅保留了低位的两个字节</p>
<h4 id="浮点数运算"><a href="#浮点数运算" class="headerlink" title="浮点数运算"></a>浮点数运算</h4><p>浮点数运算和整数运算相比，只能进行加减乘除这些数值计算，不能做位运算和移位运算。<br>在计算机中，浮点数虽然表示的范围大，但是，浮点数有个非常重要的特点，就是浮点数常常无法精确表示。因此，浮点数运算会产生误差：<br>由于浮点数存在运算误差，所以比较两个浮点数是否相等常常会出现错误的结果。正确的比较方法是判断两个浮点数之差的绝对值是否小于一个很小的数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 比较x和y是否相等，先计算其差的绝对值:</span></span><br><span class="line"><span class="type">double</span> <span class="variable">r</span> <span class="operator">=</span> Math.abs(x - y);</span><br><span class="line"><span class="comment">// 再判断绝对值是否足够小:</span></span><br><span class="line"><span class="keyword">if</span> (r &lt; <span class="number">0.00001</span>) &#123;</span><br><span class="line">    <span class="comment">// 可以认为相等</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 不相等</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//注意，两个整数的运算不会出现自动提升的情况</span></span><br><span class="line"><span class="type">double</span> <span class="variable">d</span> <span class="operator">=</span> <span class="number">1.2</span> + <span class="number">24</span> / <span class="number">5</span>; <span class="comment">// 5.2</span></span><br></pre></td></tr></table></figure>
<p>溢出：整数运算在除数为0时会报错，而浮点数运算在除数为0时，不会报错，但会返回几个特殊值：</p>
<ul>
<li>NaN表示Not a Number</li>
<li>Infinity表示无穷大</li>
<li>-Infinity表示负无穷大<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="variable">d1</span> <span class="operator">=</span> <span class="number">0.0</span> / <span class="number">0</span>; <span class="comment">// NaN</span></span><br><span class="line"><span class="type">double</span> <span class="variable">d2</span> <span class="operator">=</span> <span class="number">1.0</span> / <span class="number">0</span>; <span class="comment">// Infinity</span></span><br><span class="line"><span class="type">double</span> <span class="variable">d3</span> <span class="operator">=</span> -<span class="number">1.0</span> / <span class="number">0</span>; <span class="comment">// -Infinity</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="布尔运算"><a href="#布尔运算" class="headerlink" title="布尔运算"></a>布尔运算</h4><p>布尔运算是一种关系运算，包括以下几类：</p>
<ul>
<li>比较运算符：&gt;，&gt;&#x3D;，&lt;，&lt;&#x3D;，&#x3D;&#x3D;，!&#x3D;</li>
<li>与运算 &amp;&amp;</li>
<li>或运算 ||</li>
<li>非运算 !</li>
</ul>
<h5 id="运算符优先级由高到低如下："><a href="#运算符优先级由高到低如下：" class="headerlink" title="运算符优先级由高到低如下："></a>运算符优先级由高到低如下：</h5><ul>
<li>!</li>
<li><blockquote>
<p>，&gt;&#x3D;，&lt;，&lt;&#x3D;</p>
</blockquote>
</li>
<li>&#x3D;&#x3D;，!&#x3D;</li>
<li>&amp;&amp;</li>
<li>||</li>
</ul>
<h5 id="短路运算"><a href="#短路运算" class="headerlink" title="短路运算"></a>短路运算</h5><p>如果一个布尔运算的表达式能提前确定结果，则后续的计算不再执行，直接返回结果。</p>
<h5 id="三元运算符"><a href="#三元运算符" class="headerlink" title="三元运算符"></a>三元运算符</h5><p>b ? x : y</p>
<p>与 C++ 不同，Java 不支持运算符重载。<br>用于String类中的”+” &#x2F; “+&#x3D;” 是Java中仅有的两个重载过的操作符,而java并不允许我们重载任何操作符</p>
<h3 id="字符和字符串"><a href="#字符和字符串" class="headerlink" title="字符和字符串"></a>字符和字符串</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字符类型</span></span><br><span class="line"><span class="comment">// 字符类型char是基本数据类型，它是character的缩写。一个char保存一个Unicode字符：</span></span><br><span class="line"><span class="type">char</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line"><span class="type">char</span> <span class="variable">c2</span> <span class="operator">=</span> <span class="string">&#x27;中&#x27;</span>;</span><br><span class="line"><span class="comment">// Java在内存中总是使用Unicode表示字符，所以，一个英文字符和一个中文字符都用一个char类型表示，它们都占用两个字节。要显示一个字符的Unicode编码，只需将char类型直接赋值给int类型即可</span></span><br><span class="line"><span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="string">&#x27;A&#x27;</span>; <span class="comment">// 字母“A”的Unicodde编码是65</span></span><br><span class="line"><span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> <span class="string">&#x27;中&#x27;</span>; <span class="comment">// 汉字“中”的Unicode编码是20013</span></span><br><span class="line"><span class="comment">// 还可以直接用转义字符\u+Unicode编码来表示一个字符：</span></span><br><span class="line"><span class="comment">// 注意是十六进制:</span></span><br><span class="line"><span class="type">char</span> <span class="variable">c3</span> <span class="operator">=</span> <span class="string">&#x27;\u0041&#x27;</span>; <span class="comment">// &#x27;A&#x27;，因为十六进制0041 = 十进制65</span></span><br><span class="line"><span class="type">char</span> <span class="variable">c4</span> <span class="operator">=</span> <span class="string">&#x27;\u4e2d&#x27;</span>; <span class="comment">// &#x27;中&#x27;，因为十六进制4e2d = 十进制20013</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串类型</span></span><br><span class="line"><span class="comment">// 我们用双引号&quot;...&quot;表示字符串。一个字符串可以存储0个到任意个字符</span></span><br><span class="line"><span class="comment">// 若字符串中含有特殊字符，比如&quot;，可以使用转义字符：</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;abc\&quot;xyz&quot;</span>; <span class="comment">// 包含7个字符: a, b, c, &quot;, x, y, z</span></span><br><span class="line">● \<span class="string">&quot; 表示字符&quot;</span></span><br><span class="line">● \<span class="string">&#x27; 表示字符&#x27;</span></span><br><span class="line">● \\ 表示字符\</span><br><span class="line">● \n 表示换行符</span><br><span class="line">● \r 表示回车符</span><br><span class="line">● \t 表示Tab</span><br><span class="line">● \u#### 表示一个Unicode编码的字符</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="字符串连接"><a href="#字符串连接" class="headerlink" title="字符串连接"></a>字符串连接</h5><p>我们使用’+’来进行连接，若是都为字符串，直接进行拼接，若是字符串和其他数据类型，则先把其他类型转换为字符串，然后进行拼接。</p>
<h5 id="多行字符串"><a href="#多行字符串" class="headerlink" title="多行字符串"></a>多行字符串</h5><p>从Java 13开始，字符串可以用”””…”””表示多行字符串（Text Blocks）了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    SELECT * FROM</span></span><br><span class="line"><span class="string">    	  users</span></span><br><span class="line"><span class="string"> WHERE id &gt; 100</span></span><br><span class="line"><span class="string">    	ORDER BY name DESC</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span>;</span><br><span class="line">System.out.println(s);</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1678063601648-14449b61-0ed6-4312-9ac5-333e4656c6d8.png#averageHue=%232f2e2d&clientId=u05026dc1-4795-4&from=paste&height=92&id=u6b1ada4d&originHeight=138&originWidth=324&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=9391&status=done&style=none&taskId=u1e5fa757-2bc8-4e97-855c-05af9002369&title=&width=216" alt="image.png"><br>输出结果为五行，每行末尾都有一个\n，若想输出为四行，则最后三个引号应该直接放在DESC的末尾。<br><strong>注意</strong>：多行字符串前面共同的空格会被去掉</p>
<h5 id="字符串的不可变特性"><a href="#字符串的不可变特性" class="headerlink" title="字符串的不可变特性"></a>字符串的不可变特性</h5><p>执行String s &#x3D; “hello”;时，JVM虚拟机先创建字符串”hello”，然后，把字符串变量s指向它，然后给他赋值另外的，那么他就又指向另外的值，字符串的内容没有变，但是变量的指向发生了改变</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">t</span> <span class="operator">=</span> s;</span><br><span class="line">        s = <span class="string">&quot;world&quot;</span>;</span><br><span class="line">        System.out.println(t); <span class="comment">// t是&quot;hello&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="字符串池："><a href="#字符串池：" class="headerlink" title="字符串池："></a>字符串池：</h5><p>Java维护着一个所有字符串文字的池，它为里面的每个字符串创建一个String对象<br>当遇到字符串字面量的时候，就在池里面查找对应的String对象，若是找不到，就创建一个新的String对象添加到字符串池里面。</p>
<h5 id="空值null"><a href="#空值null" class="headerlink" title="空值null"></a>空值null</h5><p>引用类型的变量可以指向一个空值null，它表示不存在，即该变量不指向任何对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="literal">null</span>; <span class="comment">// s1是null</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> s1; <span class="comment">// s2也是null</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>; <span class="comment">// s3指向空字符串，不是null</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ST</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        String s1=<span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">        ST test=<span class="keyword">new</span> <span class="title class_">ST</span>();</span><br><span class="line">        test.change(s1);</span><br><span class="line">        System.out.println(<span class="string">&quot;s1=&quot;</span>+s1);<span class="comment">//hello</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">change</span><span class="params">(String s)</span>&#123;s=<span class="string">&quot;hi&quot;</span>;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//字符串常量池不存在堆栈中，不能和其他的引用类型一样，这里要注意，当形成“hi”的时候，</span></span><br><span class="line"><span class="comment">// 这里的s就已经指向了一个新的字符串</span></span><br></pre></td></tr></table></figure>



<h3 id="数组类型"><a href="#数组类型" class="headerlink" title="数组类型"></a>数组类型</h3><h3 id="常用工具类"><a href="#常用工具类" class="headerlink" title="常用工具类"></a>常用工具类</h3><h4 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//求绝对值</span></span><br><span class="line">Math.abs(-<span class="number">100</span>); <span class="comment">// 100</span></span><br><span class="line">Math.abs(-<span class="number">7.8</span>); <span class="comment">// 7.8</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//求MaxorMin</span></span><br><span class="line">Math.max(<span class="number">100</span>, <span class="number">99</span>); <span class="comment">// 100</span></span><br><span class="line">Math.min(<span class="number">1.2</span>, <span class="number">2.3</span>); <span class="comment">// 1.2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 计算xy次方：</span></span><br><span class="line">Math.pow(<span class="number">2</span>, <span class="number">10</span>); <span class="comment">// 2的10次方=1024</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 计算√x：</span></span><br><span class="line">Math.sqrt(<span class="number">2</span>); <span class="comment">// 1.414...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 计算ex次方：</span></span><br><span class="line">Math.exp(<span class="number">2</span>); <span class="comment">// 7.389...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 计算以e为底的对数：</span></span><br><span class="line">Math.log(<span class="number">4</span>); <span class="comment">// 1.386...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 计算以10为底的对数：</span></span><br><span class="line">Math.log10(<span class="number">100</span>); <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 三角函数：</span></span><br><span class="line">Math.sin(<span class="number">3.14</span>); <span class="comment">// 0.00159...</span></span><br><span class="line">Math.cos(<span class="number">3.14</span>); <span class="comment">// -0.9999...</span></span><br><span class="line">Math.tan(<span class="number">3.14</span>); <span class="comment">// -0.0015...</span></span><br><span class="line">Math.asin(<span class="number">1.0</span>); <span class="comment">// 1.57079...</span></span><br><span class="line">Math.acos(<span class="number">1.0</span>); <span class="comment">// 0.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Math还提供了几个数学常量：</span></span><br><span class="line"><span class="type">double</span> <span class="variable">pi</span> <span class="operator">=</span> Math.PI; <span class="comment">// 3.14159...</span></span><br><span class="line"><span class="type">double</span> <span class="variable">e</span> <span class="operator">=</span> Math.E; <span class="comment">// 2.7182818...</span></span><br><span class="line">Math.sin(Math.PI / <span class="number">6</span>); <span class="comment">// sin(π/6) = 0.5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成一个随机数x，x的范围是0 &lt;= x &lt; 1：</span></span><br><span class="line">Math.random(); <span class="comment">// 0.53907... 每次都不一样</span></span><br></pre></td></tr></table></figure>
<p>在处理byte[]数组时，我们经常需要与十六进制字符串转换，自己写起来比较麻烦，用Java标准库提供的HexFormat则可以方便地帮我们转换。要将byte[]数组转换为十六进制字符串，可以用formatHex()方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HexFormat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="type">byte</span>[] data = <span class="string">&quot;Hello&quot;</span>.getBytes();</span><br><span class="line">        <span class="type">HexFormat</span> <span class="variable">hf</span> <span class="operator">=</span> HexFormat.of();</span><br><span class="line">        <span class="type">String</span> <span class="variable">hexData</span> <span class="operator">=</span> hf.formatHex(data); <span class="comment">// 48656c6c6f</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Random"><a href="#Random" class="headerlink" title="Random"></a>Random</h4><p>Random用来创建伪随机数。所谓伪随机数，是指只要给定一个初始的种子，产生的随机数序列是完全一样的。<br>我们创建Random实例时，如果不给定种子，就使用系统当前时间戳作为种子，因此每次运行时，种子不同，得到的伪随机数序列就不同。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Random</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">r.nextInt(); <span class="comment">// 2071575453,每次都不一样</span></span><br><span class="line">r.nextInt(<span class="number">10</span>); <span class="comment">// 5,生成一个[0,10)之间的int</span></span><br><span class="line">r.nextLong(); <span class="comment">// 8811649292570369305,每次都不一样</span></span><br><span class="line">r.nextFloat(); <span class="comment">// 0.54335...生成一个[0,1)之间的float</span></span><br><span class="line">r.nextDouble(); <span class="comment">// 0.3716...生成一个[0,1)之间的double</span></span><br></pre></td></tr></table></figure>
<p>有伪随机数，就有真随机数。实际上真正的真随机数只能通过量子力学原理来获取，而我们想要的是一个不可预测的安全的随机数，SecureRandom就是用来创建安全的随机数的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">SecureRandom</span> <span class="variable">sr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SecureRandom</span>();</span><br><span class="line">System.out.println(sr.nextInt(<span class="number">100</span>));</span><br></pre></td></tr></table></figure>
<p>SecureRandom的安全性是通过操作系统提供的安全的随机种子来生成随机数。这个种子是通过CPU的热噪声、读写磁盘的字节、网络流量等各种随机事件产生的“熵”</p>
<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><h3 id="输入输出"><a href="#输入输出" class="headerlink" title="输入输出"></a>输入输出</h3><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><p>我们常用System.out.println()来输出，println是print line的缩写，表示输出并换行。因此，如果输出后不想换行，可以用print()</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;A,&quot;</span>);</span><br><span class="line">        System.out.print(<span class="string">&quot;B,&quot;</span>);</span><br><span class="line">        System.out.print(<span class="string">&quot;C.&quot;</span>);</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(<span class="string">&quot;END&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="格式化输出"><a href="#格式化输出" class="headerlink" title="格式化输出"></a>格式化输出</h5><p>Java的格式化功能提供了多种占位符，可以把各种数据类型“格式化”成指定的字符串：</p>
<table>
<thead>
<tr>
<th>占位符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>%d</td>
<td>格式化输出整数</td>
</tr>
<tr>
<td>%x</td>
<td>格式化输出十六进制整数</td>
</tr>
<tr>
<td>%f</td>
<td>格式化输出浮点数</td>
</tr>
<tr>
<td>%e</td>
<td>格式化输出科学计数法表示的浮点数</td>
</tr>
<tr>
<td>%s</td>
<td>格式化字符串</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">double</span> <span class="variable">d</span> <span class="operator">=</span> <span class="number">3.1415926</span>;</span><br><span class="line">        System.out.printf(<span class="string">&quot;%.2f\n&quot;</span>, d); <span class="comment">// 显示两位小数3.14</span></span><br><span class="line">        System.out.printf(<span class="string">&quot;%.4f\n&quot;</span>, d); <span class="comment">// 显示4位小数3.1416</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">12345000</span>;</span><br><span class="line">        System.out.printf(<span class="string">&quot;n=%d, hex=%08x&quot;</span>, n, n); <span class="comment">// 注意，两个%占位符必须传入两个数</span></span><br><span class="line">    	<span class="comment">// n=12345000, hex=00bc5ea8</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in); <span class="comment">// 创建Scanner对象</span></span><br><span class="line">        System.out.print(<span class="string">&quot;Input your name: &quot;</span>); <span class="comment">// 打印提示</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> scanner.nextLine(); <span class="comment">// 读取一行输入并获取字符串</span></span><br><span class="line">        System.out.print(<span class="string">&quot;Input your age: &quot;</span>); <span class="comment">// 打印提示</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> scanner.nextInt(); <span class="comment">// 读取一行输入并获取整数</span></span><br><span class="line">        System.out.printf(<span class="string">&quot;Hi, %s, you are %d\n&quot;</span>, name, age); <span class="comment">// 格式化输出</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="if判断"><a href="#if判断" class="headerlink" title="if判断"></a>if判断</h3><h4 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (条件) &#123;<span class="comment">// 条件满足时执行</span></span><br><span class="line">    语句<span class="number">1</span>;</span><br><span class="line">    语句<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">或者：</span><br><span class="line"><span class="keyword">if</span>()&#123;&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">或者：</span><br><span class="line"><span class="keyword">if</span>()&#123;&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>()&#123;&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>()&#123;&#125;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>()&#123;&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">若只包含一条语句，可以省略&#123;&#125;</span><br></pre></td></tr></table></figure>
<h4 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h4><h5 id="浮点数判断"><a href="#浮点数判断" class="headerlink" title="浮点数判断"></a>浮点数判断</h5><p>浮点数在计算机内无法精确表示，所以无法用&#x3D;&#x3D;来进行比较<br>我们应该使用差值是否小于某个临界值来判断：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">double</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">1</span> - <span class="number">9.0</span> / <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">if</span> (Math.abs(x - <span class="number">0.1</span>) &lt; <span class="number">0.00001</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;x is 0.1&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;x is NOT 0.1&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Math.abs(num),返回不同数字的绝对正值</span></span><br></pre></td></tr></table></figure>
<h5 id="引用类型判断"><a href="#引用类型判断" class="headerlink" title="引用类型判断"></a>引用类型判断</h5><p>在Java中，判断值类型的变量是否相等，可以使用&#x3D;&#x3D;运算符。但是，判断引用类型的变量是否相等，&#x3D;&#x3D;表示“引用是否相等”，或者说，是否指向同一个对象。例如，存在两个String类型，它们的内容是相同的，但是，分别指向不同的对象，用&#x3D;&#x3D;判断，结果为false<br>要判断引用类型的变量内容是否相等，必须使用equals()方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;HELLO&quot;</span>.toLowerCase();</span><br><span class="line">        <span class="comment">// toLowerCase() 方法将字符串转换为小写</span></span><br><span class="line">        System.out.println(s1);</span><br><span class="line">        System.out.println(s2);</span><br><span class="line">        <span class="keyword">if</span> (s1.equals(s2)) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;s1 equals s2&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;s1 not equals s2&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>若是指向的字符串内容相同：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;HELLO&quot;</span>.toLowerCase();</span><br><span class="line">        <span class="type">String</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">        System.out.println(s1);</span><br><span class="line">        System.out.println(s2);</span><br><span class="line">        System.out.println(s3);</span><br><span class="line">        <span class="keyword">if</span> (s1==s3) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;s1 equals s3&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;s1 not equals s3&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// s1 equals s3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h5><p>执行语句s1.equals(s2)时，如果变量s1为null，会报NullPointerException<br>要避免NullPointerException错误，可以利用短路运算符&amp;&amp;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (s1 != <span class="literal">null</span> &amp;&amp; s1.equals(<span class="string">&quot;hello&quot;</span>)) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>或者把一定不是null的对象”hello”放到前面，例如：if (“hello”.equals(s)) { … }。</p>
<h3 id="switch多重选择"><a href="#switch多重选择" class="headerlink" title="switch多重选择"></a>switch多重选择</h3><p>switch语句根据switch (表达式)计算的结果，跳转到匹配的case结果，然后继续执行后续语句，直到遇到break结束执行。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">option</span> <span class="operator">=</span> <span class="number">99</span>;</span><br><span class="line">        <span class="keyword">switch</span> (option) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            System.out.println(<span class="string">&quot;Selected 1&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            System.out.println(<span class="string">&quot;Selected 2&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            System.out.println(<span class="string">&quot;Selected 3&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            System.out.println(<span class="string">&quot;Not selected&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用switch时，注意case语句并没有花括号{}，而且，case语句具有“穿透性”，不写会导致后面都执行一遍<br>使用switch时，如果遗漏了break，就会造成严重的逻辑错误，而且不易在源代码中发现错误。从Java 12开始，switch语句升级为更简洁的表达式语法，使用类似模式匹配（Pattern Matching）的方法，保证只有一种路径会被执行，并且不需要break语句：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">fruit</span> <span class="operator">=</span> <span class="string">&quot;apple&quot;</span>;</span><br><span class="line">        <span class="keyword">switch</span> (fruit) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;apple&quot;</span> -&gt; System.out.println(<span class="string">&quot;Selected apple&quot;</span>);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;pear&quot;</span> -&gt; System.out.println(<span class="string">&quot;Selected pear&quot;</span>);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;mango&quot;</span> -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Selected mango&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;Good choice!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;wm&quot;</span> -&gt;System.out.print(<span class="string">&quot;wm&quot;</span>);</span><br><span class="line">        <span class="keyword">default</span> -&gt; System.out.println(<span class="string">&quot;No fruit selected&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>有的时候需要switch返回值，我们可以用yield</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">fruit</span> <span class="operator">=</span> <span class="string">&quot;orange&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">opt</span> <span class="operator">=</span> <span class="keyword">switch</span> (fruit) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;apple&quot;</span> -&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;pear&quot;</span>, <span class="string">&quot;mango&quot;</span> -&gt; <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">default</span> -&gt; &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">code</span> <span class="operator">=</span> fruit.hashCode();</span><br><span class="line">                <span class="keyword">yield</span> code; <span class="comment">// switch语句返回值</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        System.out.println(<span class="string">&quot;opt = &quot;</span> + opt);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>另外，case 1:与case 1-&gt;两者不能同时在同一个switch里面使用，会出现报错：<strong>java: 在 switch 中使用了不同 case 类型</strong></p>
<h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><h4 id="while"><a href="#while" class="headerlink" title="while"></a>while</h4><h5 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (条件表达式) &#123;</span><br><span class="line">    循环语句</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 继续执行后续代码</span></span><br></pre></td></tr></table></figure>
<h4 id="do-while循环"><a href="#do-while循环" class="headerlink" title="do while循环"></a>do while循环</h4><h5 id="基本用法-1"><a href="#基本用法-1" class="headerlink" title="基本用法"></a>基本用法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    执行循环语句</span><br><span class="line">&#125; <span class="keyword">while</span> (条件表达式);</span><br></pre></td></tr></table></figure>
<p>while循环是先判断循环条件，再执行循环。而另一种do while循环则是先执行循环，再判断条件，条件满足时继续循环，条件不满足时退出。</p>
<h4 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h4><h5 id="基本用法-2"><a href="#基本用法-2" class="headerlink" title="基本用法"></a>基本用法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (初始条件; 循环检测条件; 循环后更新计数器) &#123;</span><br><span class="line">    <span class="comment">// 执行语句</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="break和continue"><a href="#break和continue" class="headerlink" title="break和continue"></a>break和continue</h4><p>break会跳出当前循环，也就是整个循环都不会执行了。而continue则是提前结束本次循环，直接继续执行下次循环。</p>
<h2 id="数组操作"><a href="#数组操作" class="headerlink" title="数组操作"></a>数组操作</h2><h3 id="数组遍历"><a href="#数组遍历" class="headerlink" title="数组遍历"></a>数组遍历</h3><p>简单直接一点的，直接for循环遍历：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] ns = &#123; <span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span> &#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i&lt;ns.length; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> ns[i];</span><br><span class="line">            System.out.println(n);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>第二种，使用for each循环，for (int n : ns){}，这里n是直接取到ns里面的元素，获取不到索引信息：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] ns = &#123; <span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span> &#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> n : ns) &#123;</span><br><span class="line">            System.out.println(n);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可是还是有点麻烦，幸好Java标准库提供了Arrays.toString()，可以快速打印数组内容：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] ns = &#123; <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span> &#125;;</span><br><span class="line">        System.out.println(Arrays.toString(ns));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="数组排序"><a href="#数组排序" class="headerlink" title="数组排序"></a>数组排序</h3><h4 id="排序算法直接排序"><a href="#排序算法直接排序" class="headerlink" title="排序算法直接排序"></a>排序算法直接排序</h4><p>冒泡等等等</p>
<h4 id="调用标准库的函数："><a href="#调用标准库的函数：" class="headerlink" title="调用标准库的函数："></a>调用标准库的函数：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] ns = &#123; <span class="number">28</span>, <span class="number">12</span>, <span class="number">89</span>, <span class="number">73</span>, <span class="number">65</span>, <span class="number">18</span>, <span class="number">96</span>, <span class="number">50</span>, <span class="number">8</span>, <span class="number">36</span> &#125;;</span><br><span class="line">        Arrays.sort(ns);</span><br><span class="line">        System.out.println(Arrays.toString(ns));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="当排序遇到字符串数组："><a href="#当排序遇到字符串数组：" class="headerlink" title="当排序遇到字符串数组："></a>当排序遇到字符串数组：</h5><p>字符串不变，咋办？<br>当排序需要改变，显然，不改变字符串地址，而是改变变量对字符串的指向。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        String[] ns = &#123; <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;pear&quot;</span> ,<span class="string">&quot;apple&quot;</span>&#125;;</span><br><span class="line">        String s1=ns[<span class="number">0</span>];</span><br><span class="line">        String s2=ns[<span class="number">1</span>];</span><br><span class="line">        String s3=ns[<span class="number">2</span>];</span><br><span class="line">        Arrays.sort(ns);</span><br><span class="line">        System.out.println(Arrays.toString(ns));</span><br><span class="line">        System.out.println(s1);</span><br><span class="line">        System.out.println(s2);</span><br><span class="line">        System.out.println(s3);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出：</span></span><br><span class="line"><span class="comment">// [apple, apple, banana, pear]</span></span><br><span class="line"><span class="comment">// banana</span></span><br><span class="line"><span class="comment">// apple</span></span><br><span class="line"><span class="comment">// pear</span></span><br></pre></td></tr></table></figure>

<h3 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h3><h1 id="面向对象编程"><a href="#面向对象编程" class="headerlink" title="面向对象编程"></a>面向对象编程</h1><h2 id="面向对象基础"><a href="#面向对象基础" class="headerlink" title="面向对象基础"></a>面向对象基础</h2><h5 id="class和instance"><a href="#class和instance" class="headerlink" title="class和instance"></a>class和instance</h5><p>class是一种对象模版，它定义了如何创建实例，因此，class本身就是一种数据类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>instance是对象实例，instance是根据class创建的实例，可以创建多个instance，每个instance类型相同，但各自属性可能不相同</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Person</span> <span class="variable">ming</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br></pre></td></tr></table></figure>
<p>有了指向这个实例的变量，我们就可以通过这个变量来操作实例。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ming.name = <span class="string">&quot;Xiao Ming&quot;</span>; <span class="comment">// 对字段name赋值</span></span><br><span class="line">ming.age = <span class="number">12</span>; <span class="comment">// 对字段age赋值</span></span><br><span class="line">System.out.println(ming.name); <span class="comment">// 访问字段name</span></span><br></pre></td></tr></table></figure>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><p>class里面包含多个field，可以用public和private来修饰。<br>public暴露给外部，有些属性不能被随便访问，设置为private，封装。private类外无法访问，只能在类外调用类内public的函数来获取private的属性值：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">ming</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        ming.setName(<span class="string">&quot;Xiao Ming&quot;</span>); <span class="comment">// 设置name</span></span><br><span class="line">        ming.setAge(<span class="number">12</span>); <span class="comment">// 设置age</span></span><br><span class="line">        System.out.println(ming.getName() + <span class="string">&quot;, &quot;</span> + ming.getAge());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (age &lt; <span class="number">0</span> || age &gt; <span class="number">100</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;invalid age value&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="定义方法："><a href="#定义方法：" class="headerlink" title="定义方法："></a>定义方法：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">修饰符 方法返回类型 方法名(方法参数列表) &#123;</span><br><span class="line">    若干方法语句;</span><br><span class="line">    <span class="keyword">return</span> 方法返回值;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="this语句"><a href="#this语句" class="headerlink" title="this语句"></a>this语句</h4><p>在方法内部，可以使用一个隐含的变量this，它始终指向当前实例。因此，通过this.field就可以访问当前实例的字段。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//如果没有命名冲突，可以省略this</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name; <span class="comment">// 相当于this.name</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//但是，如果有局部变量和字段重名，那么局部变量优先级更高，就必须加上this</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name; <span class="comment">// 前面的this不可少，少了就变成局部变量name了</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h4><p>方法可以包含0个或任意个参数。方法参数用于接收传递给方法的变量值。调用方法时，必须严格按照参数的定义一一传递。</p>
<h5 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a>可变参数</h5><p>可变参数用类型…定义，可变参数相当于数组类型：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Group</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String[] names;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNames</span><span class="params">(String... names)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.names = names;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 上面的setNames()就定义了一个可变参数。调用时，可以这么写：</span></span><br><span class="line"><span class="type">Group</span> <span class="variable">g</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Group</span>();</span><br><span class="line">g.setNames(<span class="string">&quot;Xiao Ming&quot;</span>, <span class="string">&quot;Xiao Hong&quot;</span>, <span class="string">&quot;Xiao Jun&quot;</span>); <span class="comment">// 传入3个String</span></span><br><span class="line">g.setNames(<span class="string">&quot;Xiao Ming&quot;</span>, <span class="string">&quot;Xiao Hong&quot;</span>); <span class="comment">// 传入2个String</span></span><br><span class="line">g.setNames(<span class="string">&quot;Xiao Ming&quot;</span>); <span class="comment">// 传入1个String</span></span><br><span class="line">g.setNames(); <span class="comment">// 传入0个String</span></span><br></pre></td></tr></table></figure>
<h5 id="参数绑定"><a href="#参数绑定" class="headerlink" title="参数绑定"></a>参数绑定</h5><p>调用方把参数传递给实例方法时，调用时传递的值会按参数位置一一绑定。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">15</span>; <span class="comment">// n的值为15</span></span><br><span class="line">        p.setAge(n); <span class="comment">// 传入n的值</span></span><br><span class="line">        System.out.println(p.getAge()); <span class="comment">// 15</span></span><br><span class="line">        n = <span class="number">20</span>; <span class="comment">// n的值改为20</span></span><br><span class="line">        System.out.println(p.getAge()); <span class="comment">// 15</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果通过一个类来调用一个方法，这个方法一定是静态的。</p>
<h3 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h3><p>创造一个实例的时候，可以同步传入数据，这需要我们构造方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Xiao Ming&quot;</span>, <span class="number">15</span>);</span><br><span class="line">        Person p2=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;sdfa&quot;</span>,<span class="number">12</span>);</span><br><span class="line">        System.out.println(p.getName());</span><br><span class="line">        System.out.println(p.getAge());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>构造方法没有返回值（也没有void），调用构造方法，必须用new操作符</p>
<h5 id="默认构造方法"><a href="#默认构造方法" class="headerlink" title="默认构造方法"></a>默认构造方法</h5><p>如果一个类没有定义构造方法，编译器会自动为我们生成一个默认构造方法，它没有参数，也没有执行语句<br>如果我们自定义了一个构造方法，那么，编译器就不再自动创建默认构造方法<br>如果既要能使用带参数的构造方法，又想保留不带参数的构造方法，那么只能把两个构造方法都定义出来，具体调用哪个，根据参数匹配而来</p>
<h3 id="方法重载"><a href="#方法重载" class="headerlink" title="方法重载"></a>方法重载</h3><p>方法名相同，但各自的参数不同，称为方法重载（Overload）<br>方法重载的返回值类型通常都是相同的。<br>方法重载的目的是，功能类似的方法使用同一名字，更容易记住，因此，调用起来更简单。<br>举个例子，String类提供了多个重载方法indexOf()，可以查找子串：</p>
<ul>
<li>int indexOf(int ch)：根据字符的Unicode码查找；</li>
<li>int indexOf(String str)：根据字符串查找；</li>
<li>int indexOf(int ch, int fromIndex)：根据字符查找，但指定起始位置；</li>
<li>int indexOf(String str, int fromIndex)根据字符串查找，但指定起始位置。</li>
</ul>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>继承是面向对象编程中非常强大的一种机制，它首先可以复用代码。当我们让Student从Person继承时，Student就获得了Person的所有功能，我们只需要为Student编写新增的功能。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;...&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;...&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;...&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="comment">// 不要重复name和age字段/方法,</span></span><br><span class="line">    <span class="comment">// 只需要定义新增score字段/方法:</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> score;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getScore</span><span class="params">()</span> &#123; … &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setScore</span><span class="params">(<span class="type">int</span> score)</span> &#123; … &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在OOP的术语中，我们把Person称为超类（super class），父类（parent class），基类（base class），把Student称为子类（subclass），扩展类（extended class）。<br>Java只允许一个class继承自一个类，因此，一个类有且仅有一个父类。只有Object特殊，它没有父类。<br>继承树<br>stu-&gt;person-&gt;Object<br>student-&gt;<br>person-&gt;object<br>teacher-&gt;</p>
<h5 id="peotect"><a href="#peotect" class="headerlink" title="peotect"></a>peotect</h5><p>继承有个特点，就是子类无法访问父类的private字段或者private方法。例如，Student类就无法访问Person类的name和age字段，这使得继承的作用被削弱了。为了让子类可以访问父类的字段，我们需要把private改为protected。用protected修饰的字段可以被子类访问</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + name; <span class="comment">// 编译错误：无法访问name字段</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//修改为protected</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> String name;</span><br><span class="line">    <span class="keyword">protected</span> <span class="type">int</span> age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + name; <span class="comment">// OK!</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="super"><a href="#super" class="headerlink" title="super"></a>super</h5><p>super表示父类，子类在引用父类字段时，可以使用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Stu</span> <span class="keyword">extends</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">Hi</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hi,&quot;</span>+<span class="built_in">super</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h5><p>任何class的构造方法，第一行语句必须是调用父类的构造方法。如果没有明确地调用父类的构造方法，编译器会帮我们自动加一句super();</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;Xiao Ming&quot;</span>, <span class="number">12</span>, <span class="number">89</span>);</span><br><span class="line">        <span class="comment">//会报错</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> String name;</span><br><span class="line">    <span class="keyword">protected</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="type">int</span> score;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, <span class="type">int</span> score)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.score = score;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>所以要调用Person类存在的某个构造方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="type">int</span> score;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, <span class="type">int</span> score)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name, age); <span class="comment">// 调用父类的构造方法Person(String, int)</span></span><br><span class="line">        <span class="built_in">this</span>.score = score;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>即子类不会继承任何父类的构造方法。子类默认的构造方法是编译器自动生成的，不是继承的。</p>
<h5 id="阻止继承"><a href="#阻止继承" class="headerlink" title="阻止继承"></a>阻止继承</h5><p>final：<br>修饰类：final修饰类即表示此类已经是“最后的、最终的”含义。因此，用final修饰的类不能被继承，即不能拥有自己的子类。</p>
<h5 id="向上转型"><a href="#向上转型" class="headerlink" title="向上转型"></a>向上转型</h5><p>Person p &#x3D; new Student();&#x2F;&#x2F;可以执行<br>因为Student继承自Person，因此，它拥有Person的全部功能。Person类型的变量，如果指向Student类型的实例，对它进行操作，是没有问题的<br>这种把一个子类类型安全地变为父类类型的赋值，被称为向上转型</p>
<h5 id="向下转型"><a href="#向下转型" class="headerlink" title="向下转型"></a>向下转型</h5><p>不能把父类变为子类，因为子类功能比父类多，多的功能无法凭空变出来。<br>因此，向下转型很可能会失败。失败的时候，Java虚拟机会报ClassCastException</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Person</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">System.out.println(p <span class="keyword">instanceof</span> Person); <span class="comment">// true</span></span><br><span class="line">System.out.println(p <span class="keyword">instanceof</span> Student); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">System.out.println(s <span class="keyword">instanceof</span> Person); <span class="comment">// true</span></span><br><span class="line">System.out.println(s <span class="keyword">instanceof</span> Student); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="type">Student</span> <span class="variable">n</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">System.out.println(n <span class="keyword">instanceof</span> Student); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>instanceof实际上判断一个变量所指向的实例是否是指定类型，或者这个类型的子类。如果一个引用变量为null，那么对任何instanceof的判断都为false。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Person p=<span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"><span class="keyword">if</span>(p <span class="keyword">instanceof</span> Student)&#123;</span><br><span class="line">    Student s=(Student)p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//从Java 14开始，判断instanceof后，可以直接转型为指定变量，避免再次强制转型</span></span><br><span class="line">Object obj=<span class="string">&quot;asfd&quot;</span>;</span><br><span class="line"><span class="keyword">if</span>(obj <span class="keyword">instanceof</span> String)&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> (String) obj;</span><br><span class="line">    System.out.println(s.toUpperCase());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 可以改写为：</span></span><br><span class="line">Object obj=<span class="string">&quot;asdf&quot;</span>;</span><br><span class="line"><span class="keyword">if</span>(obj <span class="keyword">instanceof</span> String s)&#123;</span><br><span class="line">    <span class="comment">// 可以直接使用变量s:</span></span><br><span class="line">    System.out.println(s.toUpperCase());</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Object类"><a href="#Object类" class="headerlink" title="Object类"></a>Object类</h4><p>Object类是全部类的根父类。<br>Object类没有定义属性，只有空参构造函数和其他方法：</p>
<h5 id="主要方法有："><a href="#主要方法有：" class="headerlink" title="主要方法有："></a>主要方法有：</h5><ul>
<li>clone：复制当前对象</li>
<li>finalize:垃圾回收器调用以回收对象所占的空间</li>
<li>getclass：返回对象的类</li>
<li>equals方法</li>
<li>toString方法</li>
</ul>
<h5 id="运算符"><a href="#运算符" class="headerlink" title="&#x3D;&#x3D;运算符"></a>&#x3D;&#x3D;运算符</h5><p>基本类型比较值：只要两个变量的值相等，即为true，类型可以不同。<br>引用类型比较引用(是否指向同一个对象)：只有指向同一个对象时，&#x3D;&#x3D;才返回true。<br>用“&#x3D;&#x3D;”进行比较时，符号两边的数据类型必须兼容(可自动转换的基本数据类型除外)，否则编译出错<br>toString()方法在Object类中定义，其返回值是String类型，返回类名和它的引用地址</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Object</span> <span class="variable">o1</span> <span class="operator">=</span> <span class="literal">true</span>?<span class="number">1</span>:<span class="number">2.0</span>;				<span class="comment">//虽然选择了前者，但是依旧要进行自动类型转换</span></span><br><span class="line">        System.out.println(o1);		<span class="comment">//1.0</span></span><br></pre></td></tr></table></figure>
<h4 id="包装类："><a href="#包装类：" class="headerlink" title="包装类："></a>包装类：</h4><h5 id="Auto-Boxing"><a href="#Auto-Boxing" class="headerlink" title="Auto Boxing"></a>Auto Boxing</h5><p>int和Integer可以互相转换</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"><span class="type">Integer</span> <span class="variable">n</span> <span class="operator">=</span> Integer.valueOf(i);</span><br><span class="line"><span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> n.intValue();</span><br><span class="line"><span class="comment">//自动转型</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">100</span>; <span class="comment">// 编译器自动使用Integer.valueOf(int)</span></span><br><span class="line"><span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> n; <span class="comment">// 编译器自动使用Integer.intValue()</span></span><br></pre></td></tr></table></figure>
<p>注意，包装类是属于引用类型，用equal（）比较，而不是&#x3D;&#x3D;<br>&#x3D;&#x3D;比较，较小的两个相同的Integer返回true，较大的两个相同的Integer返回false，这是因为Integer是不变类，编译器把Integer x &#x3D; 127;自动变为Integer x &#x3D; Integer.valueOf(127);，为了节省内存，Integer.valueOf()对于较小的数，始终返回相同的实例，因此，&#x3D;&#x3D;比较“恰好”为true</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">( )</span> &#123;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">j</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">1</span>);</span><br><span class="line">    System. out. println(i == j);	<span class="comment">//false</span></span><br><span class="line">    <span class="type">Integer</span> <span class="variable">m</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    System . out. print1n(m == n);</span><br><span class="line">    <span class="comment">//true，（只有Integer有这种缓存）integer内部定义整形Cache，缓存 -128～127，如果自动装箱数在这个范围，就不调用new，直接写数组</span></span><br><span class="line">    <span class="type">Integer</span> <span class="variable">X</span> <span class="operator">=</span> <span class="number">128</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">128</span>;</span><br><span class="line">    System. out. println(x == y);,	<span class="comment">//false 自动装箱调new</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1681195254127-ff9d3fdb-c1f4-4b4c-8911-d4c4b67f76cd.png#averageHue=%23f9f7f7&clientId=ub29e731b-f4dc-4&from=paste&height=419&id=ue3f6e283&originHeight=628&originWidth=1180&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=417102&status=done&style=none&taskId=u7a7c47cd-0b6d-4739-99e1-ec75afbcb32&title=&width=786.6666666666666" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">i1</span> <span class="operator">=</span> <span class="number">128</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">i2</span> <span class="operator">=</span> <span class="number">128</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i3</span> <span class="operator">=</span> <span class="number">128</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i4</span> <span class="operator">=</span> <span class="number">128</span>;</span><br><span class="line">    System.out.println(i1 == i2);	<span class="comment">//F</span></span><br><span class="line">    System.out.println(i3 == i4);	<span class="comment">//T</span></span><br><span class="line">    System.out.println(i1 == i3);	<span class="comment">//T</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><h5 id="覆写"><a href="#覆写" class="headerlink" title="覆写"></a>覆写</h5><p>在继承关系中，子类如果定义了一个与父类方法签名完全相同的方法，被称为覆写（Override）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Person.run&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 子类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Student.run&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line"><span class="comment">//        Person p=new Person();</span></span><br><span class="line">        Person p=<span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"><span class="comment">//        Student p=new Person();报错：java: 不兼容的类型: Person无法转换为Student</span></span><br><span class="line">        p.run();<span class="comment">//实际打印出来的是Stu的run</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//实际代码：</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 给一个有普通收入、工资收入和享受国务院特殊津贴的小伙伴算税:</span></span><br><span class="line">        Income[] incomes = <span class="keyword">new</span> <span class="title class_">Income</span>[] &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Income</span>(<span class="number">3000</span>),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Salary</span>(<span class="number">7500</span>),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">StateCouncilSpecialAllowance</span>(<span class="number">15000</span>)</span><br><span class="line">        &#125;;</span><br><span class="line">        System.out.println(totalTax(incomes));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">totalTax</span><span class="params">(Income... incomes)</span> &#123;</span><br><span class="line">        <span class="type">double</span> <span class="variable">total</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (Income income: incomes) &#123;</span><br><span class="line">            total = total + income.getTax();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> total;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Income</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="type">double</span> income;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Income</span><span class="params">(<span class="type">double</span> income)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.income = income;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getTax</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> income * <span class="number">0.1</span>; <span class="comment">// 税率10%</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Salary</span> <span class="keyword">extends</span> <span class="title class_">Income</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Salary</span><span class="params">(<span class="type">double</span> income)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(income);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getTax</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (income &lt;= <span class="number">5000</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (income - <span class="number">5000</span>) * <span class="number">0.2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StateCouncilSpecialAllowance</span> <span class="keyword">extends</span> <span class="title class_">Income</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">StateCouncilSpecialAllowance</span><span class="params">(<span class="type">double</span> income)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(income);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getTax</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>可变参数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 返回值类型 方法名称(类型…参数名称)&#123; // 在方法声明中，在指定参数类型后加一个省略号(...) </span></span><br><span class="line"><span class="comment">//     // 方法体</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">(String...names)</span> &#123; <span class="comment">// 接收数组</span></span><br><span class="line">    <span class="keyword">for</span>(String name : names) &#123;</span><br><span class="line">        System.out.print(name + <span class="string">&quot; &quot;</span>); </span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="数据成员不可重写"><a href="#数据成员不可重写" class="headerlink" title="数据成员不可重写"></a>数据成员不可重写</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Person &#123;</span><br><span class="line">    <span class="type">int</span> age=<span class="number">19</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> Man <span class="keyword">extends</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="type">int</span> age=<span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//此时就会有Person.age</span></span><br></pre></td></tr></table></figure>
<h4 id="多态-1"><a href="#多态-1" class="headerlink" title="多态"></a>多态</h4><h5 id="多态是指，针对某个类型的方法调用，其真正执行的方法取决于运行时期类型的方法"><a href="#多态是指，针对某个类型的方法调用，其真正执行的方法取决于运行时期类型的方法" class="headerlink" title="多态是指，针对某个类型的方法调用，其真正执行的方法取决于运行时期类型的方法"></a>多态是指，针对某个类型的方法调用，其真正执行的方法取决于运行时期类型的方法</h5><h5 id="调用super"><a href="#调用super" class="headerlink" title="调用super"></a>调用super</h5><p>在子类的覆写方法中，如果要调用父类的被覆写的方法，可以通过super来调用。</p>
<p>继承可以允许子类覆写父类的方法。如果一个父类不允许子类对它的某个方法进行覆写，可以把该方法标记为final。用final修饰的方法不能被Override</p>
<p>如果一个类不希望任何其他类继承自它，那么可以把这个类本身标记为final。用final修饰的类不能被继承</p>
<p>对final重新赋值会报错</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">d</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println((<span class="built_in">this</span>.c));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sub</span> <span class="keyword">extends</span> <span class="title class_">Base</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">d</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println((<span class="built_in">this</span>.c));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        Sub s=<span class="keyword">new</span> <span class="title class_">Sub</span>();</span><br><span class="line">        System.out.println(s.c);</span><br><span class="line">        s.d();</span><br><span class="line">        Base b=s;           <span class="comment">//存储的是地址</span></span><br><span class="line">        System.out.println(b==s);</span><br><span class="line">        System.out.println(b.c);    <span class="comment">//数据成员没有重写，还是base的c</span></span><br><span class="line">        b.d();                      <span class="comment">//这个已经被Sub给重写的了，为20</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1680503676683-7a38407c-646c-409d-8bd8-64e21c10545a.png#averageHue=%232e2d2d&clientId=u42a870de-c2af-4&from=paste&height=115&id=u46f3a884&originHeight=173&originWidth=84&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=2691&status=done&style=none&taskId=u926d2596-390b-402e-a8a3-21369f280d9&title=&width=56" alt="image.png"></p>
<h3 id="抽象类与接口"><a href="#抽象类与接口" class="headerlink" title="抽象类与接口"></a>抽象类与接口</h3><h4 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h4><p>因为多态的存在，每个子类都可以覆写父类方法。但是即使父类方法没有实际意义，我们也不能删去他的执行语句，这样会导致编译错误</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>;		<span class="comment">//compile error	</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>有些时候，父类定义某一方法，不是为了让他有什么用，而只是单纯的想让子类去覆写它，那么就可以使用抽象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>;<span class="comment">//声明为抽象方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>此时依旧会报错，因为这个方法是抽象的，无法被执行的，导致了Person无法被实例化，所以，我们这么做</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//编译正确</span></span><br></pre></td></tr></table></figure>
<p>加了abstract的方法叫抽象方法，加了abstract的类呢——抽象类，抽象类无法被实例化。会编译错误。那么它的存在有什么作用呢——就相当于做了一个规范，你后面继承的类必须覆写父类的抽象方法<br>abstract不能修饰变量，代码块，构造函数<br>抽象类有啥好处呢——是咱们不用再去关注具体子类型，不用管子类的具体实现了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Person</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"><span class="type">Person</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line"><span class="comment">// 不关心Person变量的具体子类型:</span></span><br><span class="line">s.run();</span><br><span class="line">t.run();</span><br></pre></td></tr></table></figure>

<h4 id="接口interface"><a href="#接口interface" class="headerlink" title="接口interface"></a>接口interface</h4><p>当一个类中所有的方法都是抽象方法，并且没有字段的时候，就可以把这个抽象类改写为接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title function_">getName</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line">--&gt;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="comment">//所有方法都默认public abstract，所以前面不写</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>;</span><br><span class="line">    String <span class="title function_">getName</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后子类继承的话也有对应更改——implements(实现)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="built_in">this</span>.name + <span class="string">&quot; run&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>java里面，一个类只能继承一个父类，但是对于接口，一个类可实现多个接口（interface）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Stu</span> <span class="keyword">implements</span> <span class="title class_">Person</span>,Hello&#123;...&#125;</span><br></pre></td></tr></table></figure>
<p>接口之间也有继承关系：interface之间就是用extends，并且接口支持多继承。</p>
<h5 id="default方法"><a href="#default方法" class="headerlink" title="default方法"></a>default方法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    String <span class="title function_">getName</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(getName() + <span class="string">&quot; run&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实现类可以不必覆写default方法。default方法的目的是，当我们需要给接口新增一个方法时，会涉及到修改全部子类。如果新增的是default方法，那么子类就不必全部修改，只需要在需要覆写的地方去覆写新增方法。</p>
<h3 id="静态字段与方法"><a href="#静态字段与方法" class="headerlink" title="静态字段与方法"></a>静态字段与方法</h3><h4 id="静态字段"><a href="#静态字段" class="headerlink" title="静态字段"></a>静态字段</h4><p>实例字段：在class中定义的字段，特点是每个实例都有独立的字段，互不影响<br>静态字段：用static修饰的字段，其只有一个共享空间，所有实例都共享这个字段</p>
<h4 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h4><p>用static修饰的方法称为静态方法。<br>静态方法只能访问静态字段<br>无法使用this，super</p>
<h4 id="接口的静态字段"><a href="#接口的静态字段" class="headerlink" title="接口的静态字段"></a>接口的静态字段</h4><p>interface是可以有静态字段的，并且静态字段必须为final类型<br>实际上，因为interface的字段只能是public static final类型，所以我们可以把这些修饰符都去掉，代码可以简写为</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MALE</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">FEMALE</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">=&gt;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="comment">// 编译器会自动加上public statc final:</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">MALE</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">FEMALE</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h3><h5 id="静态代码块"><a href="#静态代码块" class="headerlink" title="静态代码块"></a>静态代码块</h5><p>只能访问静态字段，随着类加载而加载，只执行一次，执行先于非静态（先有类再有对象）</p>
<h5 id="非静态代码块"><a href="#非静态代码块" class="headerlink" title="非静态代码块"></a>非静态代码块</h5><p>静态字段非静态字段都可以访问，随着每一次实例化加载而加载</p>
<h3 id="包package"><a href="#包package" class="headerlink" title="包package"></a>包package</h3><p>在java中，我们使用package解决命名冲突<br>package，java定义的一种命名空间，一个类真正的名字为：包名.<br>类名，在Java虚拟机执行的时候，JVM只看完整类名，因此，只要包名不同，类就不同。<br>在定义class的时候，我们需要在第一行声明这个class属于哪个包。<br>小明的Person.java文件：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ming; <span class="comment">// 申明包名ming</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>包可以是多层结构，用.隔开。例如：java.util<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1681109827872-c8dea759-8c81-4a3f-91d7-5771eb283efa.png#averageHue=%23f9f8f7&clientId=ud70d119f-6cbe-4&from=paste&height=139&id=ud3a09bed&originHeight=209&originWidth=383&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=13413&status=done&style=none&taskId=u11c57072-096a-4649-8d83-e16f11d9768&title=&width=255.33333333333334" alt="image.png"></p>
<h5 id="import"><a href="#import" class="headerlink" title="import"></a>import</h5><p> 引入其他class的三种写法</p>
<ol>
<li><p>直接写出类名</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Person.java</span></span><br><span class="line"><span class="keyword">package</span> ming;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        mr.jun.<span class="type">Arrays</span> <span class="variable">arrays</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">mr</span>.jun.Arrays();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>写import语句，然后直接写简单类名</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Person.java</span></span><br><span class="line"><span class="keyword">package</span> ming;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入完整类名:</span></span><br><span class="line"><span class="keyword">import</span> mr.jun.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Arrays</span> <span class="variable">arrays</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Arrays</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在写import的时候，可以使用*，表示把这个包下面的所有class都导入进来（但不包括子包的class），一般不推荐这种写法，因为在导入了多个包后，很难看出Arrays类属于哪个包。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Person.java</span></span><br><span class="line"><span class="keyword">package</span> ming;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入mr.jun包的所有class:</span></span><br><span class="line"><span class="keyword">import</span> mr.jun.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Arrays</span> <span class="variable">arrays</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Arrays</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>还有一种import static的语法，它可以导入可以导入一个类的静态字段和静态方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入System类的所有静态字段和静态方法:</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.System.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 相当于调用System.out.println(…)</span></span><br><span class="line">        out.println(<span class="string">&quot;Hello, world!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="作用域，内部类，模块"><a href="#作用域，内部类，模块" class="headerlink" title="作用域，内部类，模块"></a>作用域，内部类，模块</h3><h4 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h4><p> easy，不说了</p>
<h4 id="内部类"><a href="#内部类" class="headerlink" title="内部类"></a>内部类</h4><h5 id="InnerClass"><a href="#InnerClass" class="headerlink" title="InnerClass"></a>InnerClass</h5><p>一个类定义在另外一个类内部</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Outer</span>&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Inner</span>&#123;&#125;<span class="comment">//一个内部类</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Outer</span> <span class="variable">outer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer</span>(<span class="string">&quot;Nested&quot;</span>); <span class="comment">// 实例化一个Outer</span></span><br><span class="line">        Outer.<span class="type">Inner</span> <span class="variable">inner</span> <span class="operator">=</span> outer.<span class="keyword">new</span> <span class="title class_">Inner</span>(); <span class="comment">// 实例化一个Inner</span></span><br><span class="line">        inner.hello();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//InnerClass的实例不能单独存在，必须依附一个OuterClass的实例</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Outer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    Outer(String name) &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Inner</span> &#123;</span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Hello, &quot;</span> + Outer.<span class="built_in">this</span>.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Inner Class和普通Class相比，除了能引用Outer实例外，还有一个额外的“特权”，就是可以修改Outer Class的private字段，因为Inner Class的作用域在Outer Class内部，所以能访问Outer Class的private字段和方法。</p>
<h5 id="AnonymousClass"><a href="#AnonymousClass" class="headerlink" title="AnonymousClass"></a>AnonymousClass</h5><p>还有一种定义Inner Class的方法，它不需要在Outer Class中明确地定义这个Class，而是在方法内部，通过匿名类（Anonymous Class）来定义。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Outer</span> <span class="variable">outer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer</span>(<span class="string">&quot;Nested&quot;</span>);</span><br><span class="line">        outer.asyncHello();<span class="comment">//通过方法调用类，实例化了一个匿名对象</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Outer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    Outer(String name) &#123;</span><br><span class="line">      <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">asyncHello</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Hello, &quot;</span> + Outer.<span class="built_in">this</span>.name);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(r).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在定义匿名类的时候就必须实例化它，定义匿名类的写法如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Run</span> <span class="variable">r</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Run</span>&#123;</span><br><span class="line">    <span class="comment">//实现必要的抽象方法  </span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="Static-Nested-Class"><a href="#Static-Nested-Class" class="headerlink" title="Static Nested Class"></a>Static Nested Class</h5><p>和InnerClass类似，但是用静态符修饰，叫做静态内部类<br>用static修饰的内部类和Inner Class有很大的不同，它不再依附于Outer的实例，而是一个完全独立的类，因此无法引用Outer.this，但它可以访问Outer的private静态字段和静态方法。如果把StaticNested移到Outer之外，就失去了访问private的权限。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Outer.<span class="type">StaticNested</span> <span class="variable">sn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer</span>.StaticNested();</span><br><span class="line">        sn.hello();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Outer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">NAME</span> <span class="operator">=</span> <span class="string">&quot;OUTER&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    Outer(String name) &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">StaticNested</span> &#123;</span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Hello, &quot;</span> + Outer.NAME);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h4><p>.class文件是JVM看到的最小可执行文件，而一个大型程序需要编写很多Class，并生成一堆.class文件，ja，进行管理r文件就是class文件的容器<br>java9之前，一个大型Java程序会生成自己的jar文件，同时引用依赖的第三方jar文件，而JVM自带的Java标准库，实际上也是以jar文件形式存放的，这个文件叫rt.jar，jar只是用于存放class的容器，它并不关心class之间的依赖。<br>从Java 9开始引入的模块，主要是为了解决“依赖”这个问题。如果a.jar必须依赖另一个b.jar才能运行，那我们应该给a.jar加点说明啥的，让程序在编译和运行的时候能自动定位到b.jar，这种自带“依赖关系”的class容器就是模块。<br>从Java 9开始，原有的Java标准库已经由一个单一巨大的rt.jar分拆成了几十个模块，这些模块以.jmod扩展名标识<br>可以在$JAVA_HOME&#x2F;jmods目录下找到它们：</p>
<ul>
<li>java.base.jmod</li>
<li>java.compiler.jmod</li>
<li>java.datatransfer.jmod</li>
<li>java.desktop.jmod</li>
<li>…</li>
</ul>
<h5 id="编写模块"><a href="#编写模块" class="headerlink" title="编写模块"></a>编写模块</h5><h3 id="classpath和jar，class版本"><a href="#classpath和jar，class版本" class="headerlink" title="classpath和jar，class版本"></a>classpath和jar，class版本</h3><h5 id="classpath"><a href="#classpath" class="headerlink" title="classpath"></a>classpath</h5><p>classpath是JVM用到的一个环境变量，它用来指示JVM如何搜索class<br>现在我们假设classpath是 . ;C:\work\project1\bin;C:\shared，当JVM在加载abc.xyz.Hello这个类时，会依次查找：</p>
<ul>
<li>&lt;当前目录&gt;\abc\xyz\Hello.class</li>
<li>C:\work\project1\bin\abc\xyz\Hello.class</li>
<li>C:\shared\abc\xyz\Hello.class</li>
</ul>
<p>注意到 . 代表当前目录。如果JVM在某个路径下找到了对应的class文件，就不再往后继续搜索。如果所有路径下都没有找到，就报错。<br>classpath的设定方法有两种：<br>在系统环境变量中设置classpath环境变量，不推荐；会污染系统环境<br>在启动JVM时设置classpath变量，推荐</p>
<h5 id="jar包"><a href="#jar包" class="headerlink" title="jar包"></a>jar包</h5><p>有很多的.class文件，散落在各层目录中，jar包把这些目录打成一个包</p>
<h5 id="class版本"><a href="#class版本" class="headerlink" title="class版本"></a>class版本</h5><p>通常说的Java 8，Java 11，Java 17，是指JDK的版本，也就是JVM的版本，更确切地说，就是java.exe这个程序的版本。<br>高版本的JDK可编译输出低版本兼容的class文件，但需注意，低版本的JDK可能不存在高版本JDK添加的类和方法，导致运行时报错。<br>运行时使用哪个JDK版本，编译时就尽量使用同一版本编译源码。</p>
<h2 id="java核心类"><a href="#java核心类" class="headerlink" title="java核心类"></a>java核心类</h2><h3 id="字符串和编码"><a href="#字符串和编码" class="headerlink" title="字符串和编码"></a>字符串和编码</h3><h4 id="String"><a href="#String" class="headerlink" title="String"></a>String</h4><p>string是一种引用类型，也是一个class，，其在string内部是通过一个char[]数组表示的，所以我们也可以这么写：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">String s1=<span class="string">&quot;hello&quot;</span>;</span><br><span class="line">String s2=<span class="keyword">new</span> <span class="title class_">String</span>(<span class="keyword">new</span> <span class="title class_">char</span>[]&#123;<span class="string">&#x27;h&#x27;</span>,<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;l&#x27;</span>,<span class="string">&#x27;l&#x27;</span>,<span class="string">&#x27;o&#x27;</span>&#125;);</span><br><span class="line">System.out.println(<span class="string">&quot;s1=&quot;</span>+s1);</span><br><span class="line">System.out.println(<span class="string">&quot;s2=&quot;</span>+s2);</span><br><span class="line"><span class="comment">//都是输出hello</span></span><br></pre></td></tr></table></figure>
<p>另外，就是字符串的不变性与字面量，前面写字符串的时候介绍过</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">        System.out.println(s1 == s2);</span><br><span class="line">        System.out.println(s1.equals(s2));</span><br><span class="line">        <span class="comment">//都为true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Java编译器在编译期，会自动把所有相同的字符串当作一个对象放入常量池，自然s1和s2的引用就是相同的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;HELLO&quot;</span>.toLowerCase();</span><br><span class="line">        System.out.println(<span class="string">&quot;s1=&quot;</span>+s1);</span><br><span class="line">        System.out.println(<span class="string">&quot;s2=&quot;</span>+s2);</span><br><span class="line">        System.out.println(s1 == s2);		<span class="comment">//false</span></span><br><span class="line">        System.out.println(s1.equals(s2));	<span class="comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>两个字符串比较，必须总是使用equals()方法。<br>要忽略大小写比较，使用equalsIgnoreCase()方法。<br>String里面提供了很多函数来搜索字串提取字串，比如contains</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 是否包含子串:</span></span><br><span class="line"><span class="string">&quot;Hello&quot;</span>.contains(<span class="string">&quot;ll&quot;</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;Hello&quot;</span>.indexOf(<span class="string">&quot;l&quot;</span>); <span class="comment">// 2</span></span><br><span class="line"><span class="string">&quot;Hello&quot;</span>.lastIndexOf(<span class="string">&quot;l&quot;</span>); <span class="comment">// 3</span></span><br><span class="line"><span class="string">&quot;Hello&quot;</span>.startsWith(<span class="string">&quot;He&quot;</span>); <span class="comment">// true</span></span><br><span class="line"><span class="string">&quot;Hello&quot;</span>.endsWith(<span class="string">&quot;lo&quot;</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 提取字串——索引号从0开始</span></span><br><span class="line"><span class="string">&quot;Hello&quot;</span>.substring(<span class="number">2</span>); <span class="comment">// &quot;llo&quot;</span></span><br><span class="line"><span class="string">&quot;Hello&quot;</span>.substring(<span class="number">2</span>, <span class="number">4</span>); <span class="string">&quot;ll&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//移除首尾空白字符</span></span><br><span class="line"><span class="string">&quot;  \tHello\r\n &quot;</span>.trim(); <span class="comment">// &quot;Hello&quot;		未改变原字符串内容，而是直接返回了一个新的字符串</span></span><br><span class="line"><span class="comment">//strip可以溢出中文空格字符/u3000</span></span><br><span class="line"><span class="string">&quot;\u3000Hello\u3000&quot;</span>.strip(); <span class="comment">// &quot;Hello&quot;</span></span><br><span class="line"><span class="string">&quot; Hello &quot;</span>.stripLeading(); <span class="comment">// &quot;Hello &quot;</span></span><br><span class="line"><span class="string">&quot; Hello &quot;</span>.stripTrailing(); <span class="comment">// &quot; Hello&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断字符串是否为空和空白字符串</span></span><br><span class="line"><span class="string">&quot;&quot;</span>.isEmpty(); <span class="comment">// true，因为字符串长度为0</span></span><br><span class="line"><span class="string">&quot;  &quot;</span>.isEmpty(); <span class="comment">// false，因为字符串长度不为0</span></span><br><span class="line"><span class="string">&quot;  \n&quot;</span>.isBlank(); <span class="comment">// true，因为只包含空白字符</span></span><br><span class="line"><span class="string">&quot; Hello &quot;</span>.isBlank(); <span class="comment">// false，因为包含非空白字符</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//替换字符</span></span><br><span class="line">String s1=<span class="string">&quot;hello&quot;</span>;</span><br><span class="line">s1.replace(<span class="string">&#x27;l&#x27;</span>,<span class="string">&#x27;w&#x27;</span>);<span class="comment">// &quot;hewwo&quot;，所有字符&#x27;l&#x27;被替换为&#x27;w&#x27;</span></span><br><span class="line">s.replace(<span class="string">&quot;ll&quot;</span>, <span class="string">&quot;~~&quot;</span>); <span class="comment">// &quot;he~~o&quot;，所有子串&quot;ll&quot;被替换为&quot;~~&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//拼接字符串——使用指定字符串连接字符串数组</span></span><br><span class="line">String[] arr = &#123;<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>&#125;;</span><br><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> String.join(<span class="string">&quot;***&quot;</span>, arr); <span class="comment">// &quot;A***B***C&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="格式化占位符"><a href="#格式化占位符" class="headerlink" title="格式化占位符"></a>格式化占位符</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;Hi %s, your score is %d!&quot;</span>;</span><br><span class="line">        System.out.println(s.formatted(<span class="string">&quot;Alice&quot;</span>, <span class="number">80</span>));</span><br><span class="line">        System.out.println(String.format(<span class="string">&quot;Hi %s, your score is %.2f!&quot;</span>, <span class="string">&quot;Bob&quot;</span>, <span class="number">59.5</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>有几个占位符，后面就有几个参数，保持类型一致。<br>常用占位符：%s,%d,%x,%f等等</p>
<h5 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h5><h6 id="转换为字符串"><a href="#转换为字符串" class="headerlink" title="转换为字符串"></a>转换为字符串</h6><p>使用valueOf（）方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String.valueOf(<span class="number">123</span>); <span class="comment">// &quot;123&quot;</span></span><br><span class="line">String.valueOf(<span class="number">45.67</span>); <span class="comment">// &quot;45.67&quot;</span></span><br><span class="line">String.valueOf(<span class="literal">true</span>); <span class="comment">// &quot;true&quot;</span></span><br><span class="line">String.valueOf(<span class="keyword">new</span> <span class="title class_">Object</span>()); <span class="comment">// 类似java.lang.Object@636be97c</span></span><br></pre></td></tr></table></figure>
<h6 id="转换为int"><a href="#转换为int" class="headerlink" title="转换为int"></a>转换为int</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> Integer.parseInt(<span class="string">&quot;123&quot;</span>); <span class="comment">// 123</span></span><br><span class="line"><span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> Integer.parseInt(<span class="string">&quot;ff&quot;</span>, <span class="number">16</span>); <span class="comment">// 按十六进制转换，255</span></span><br></pre></td></tr></table></figure>
<h6 id="转换为char"><a href="#转换为char" class="headerlink" title="转换为char"></a>转换为char</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// string与char[]可以相互转换</span></span><br><span class="line"><span class="type">char</span>[] cs = <span class="string">&quot;Hello&quot;</span>.toCharArray(); <span class="comment">// String -&gt; char[]</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(cs); <span class="comment">// char[] -&gt; String</span></span><br></pre></td></tr></table></figure>
<p>注意<br>Integer有一个getInteger(String)方法，是把字符串对应的系统变量转换为int</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Integer.getInteger(<span class="string">&quot;java.version&quot;</span>); <span class="comment">// 版本号，11</span></span><br></pre></td></tr></table></figure>
<h4 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h4><p>一开始各个国家有不同的编码，为了统一全球所有语言的编码，全球统一码联盟发布了Unicode编码，它把世界上主要语言都纳入同一个编码，这样，中文、日文、韩文和其他语言就不会冲突。</p>
<h5 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h5><p>Unicode编码需要两个或者更多字节表示</p>
<h5 id="UTF-8"><a href="#UTF-8" class="headerlink" title="UTF-8"></a>UTF-8</h5><p>因为英文字符的Unicode编码高字节总是00，包含大量英文的文本会浪费空间，所以，出现了UTF-8编码，它是一种变长编码，用来把固定长度的Unicode编码变成1～4字节的变长编码<br>UTF-8编码的另一个好处是容错能力强。如果传输过程中某些字符出错，不会影响后续字符，因为UTF-8编码依靠高字节位来确定一个字符究竟是几个字节，它经常用来作为传输编码</p>
<h5 id="java中字符编码的转换"><a href="#java中字符编码的转换" class="headerlink" title="java中字符编码的转换"></a>java中字符编码的转换</h5><p>char类型实际上就是两个字节的Unicode编码，转换方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">byte</span>[] b1 = <span class="string">&quot;Hello&quot;</span>.getBytes(); <span class="comment">// 按系统默认编码转换，不推荐</span></span><br><span class="line"><span class="type">byte</span>[] b2 = <span class="string">&quot;Hello&quot;</span>.getBytes(<span class="string">&quot;UTF-8&quot;</span>); <span class="comment">// 按UTF-8编码转换</span></span><br><span class="line"><span class="type">byte</span>[] b2 = <span class="string">&quot;Hello&quot;</span>.getBytes(<span class="string">&quot;GBK&quot;</span>); <span class="comment">// 按GBK编码转换</span></span><br><span class="line"><span class="type">byte</span>[] b3 = <span class="string">&quot;Hello&quot;</span>.getBytes(StandardCharsets.UTF_8); <span class="comment">// 按UTF-8编码转换</span></span><br></pre></td></tr></table></figure>
<p>注意：转换编码后，就不再是char类型，而是byte类型表示的数组。<br>而把byte数组转换为string，转换方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">byte</span>[] b=...</span><br><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(b, <span class="string">&quot;GBK&quot;</span>); <span class="comment">// 按GBK转换</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(b, StandardCharsets.UTF_8); <span class="comment">// 按UTF-8转换</span></span><br></pre></td></tr></table></figure>
<h3 id="StringBuilder"><a href="#StringBuilder" class="headerlink" title="StringBuilder"></a>StringBuilder</h3><p>为了能高效拼接字符串，Java标准库提供了StringBuilder，它是一个可变对象，可以预分配缓冲区，在往StringBuilder中新增字符时，不会创建新的临时对象，可以大大节省空间：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(<span class="number">1024</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">    sb.append(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">    sb.append(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> sb.toString();</span><br></pre></td></tr></table></figure>
<p>而它的append的方法返回的值就是本身this，由此我们可以进行链式操作：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">var</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(<span class="number">1024</span>);</span><br><span class="line">        sb.append(<span class="string">&quot;Mr &quot;</span>)</span><br><span class="line">          .append(<span class="string">&quot;Bob&quot;</span>)</span><br><span class="line">          .append(<span class="string">&quot;!&quot;</span>)</span><br><span class="line">          .insert(<span class="number">0</span>, <span class="string">&quot;Hello, &quot;</span>);</span><br><span class="line">        System.out.println(sb.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>StringBuffer是Java早期的一个StringBuilder的线程安全版本，它通过同步来保证多个线程操作StringBuffer也是安全的，但是同步会带来执行速度的下降。StringBuilder和StringBuffer接口完全相同，现在完全没有必要使用StringBuffer</p>
<h3 id="StringJoiner"><a href="#StringJoiner" class="headerlink" title="StringJoiner"></a>StringJoiner</h3><p>高效拼接字符串，应该使用StringBuilder</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        String[] f= &#123;<span class="string">&quot;apple&quot;</span>,<span class="string">&quot;pear&quot;</span>,<span class="string">&quot;peach&quot;</span>&#125;;</span><br><span class="line">        <span class="keyword">var</span> s=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        s.append(<span class="string">&quot;I like &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(String ff:f)&#123;</span><br><span class="line">            s.append(ff).append(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        s.delete(s.length()-<span class="number">1</span>,s.length());</span><br><span class="line">        s.append(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">        System.out.println(s.toString());</span><br><span class="line">        <span class="comment">//I like apple,pear,peach.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>用’，‘这类分隔符分割数组的用法很常见，java标准库里面还提供了StringJoiner来进行这种操作</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.StringJoiner;<span class="comment">//需要引入库</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        String[] f= &#123;<span class="string">&quot;apple&quot;</span>,<span class="string">&quot;pear&quot;</span>,<span class="string">&quot;peach&quot;</span>&#125;;</span><br><span class="line"><span class="comment">//        var s=new StringJoiner(&quot;*&quot;);//使用分隔符*</span></span><br><span class="line">        <span class="keyword">var</span> s=<span class="keyword">new</span> <span class="title class_">StringJoiner</span>(<span class="string">&quot;*&quot;</span>,<span class="string">&quot;begin&quot;</span>,<span class="string">&quot;end&quot;</span>);</span><br><span class="line">        <span class="comment">//分隔符；最后形成字符串的前缀和后缀</span></span><br><span class="line">        <span class="keyword">for</span>(String ff:f)&#123;</span><br><span class="line">            s.add(ff);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        s.delete(s.length()-1,s.length());</span></span><br><span class="line">        s.add(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">        System.out.println(s.toString());</span><br><span class="line">        <span class="comment">//beginapple*pear*peach*.end</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在不需要指定开头结尾，只需要用分隔符连接数组元素，那么用join方法比较简单</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String[] f= &#123;<span class="string">&quot;apple&quot;</span>,<span class="string">&quot;pear&quot;</span>,<span class="string">&quot;peach&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> s=String.join(<span class="string">&quot;,&quot;</span>,f);</span><br><span class="line"><span class="comment">//apple,pear,peach</span></span><br></pre></td></tr></table></figure>
<h3 id="JavaBean"><a href="#JavaBean" class="headerlink" title="JavaBean"></a>JavaBean</h3><p>如果读写方法符合以下命名规范，那么这种class就被称为JavaBean</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 读方法:</span></span><br><span class="line"><span class="keyword">public</span> Type <span class="title function_">getXyz</span><span class="params">()</span></span><br><span class="line"><span class="comment">// 写方法:</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setXyz</span><span class="params">(Type value)</span></span><br></pre></td></tr></table></figure>
<p>对于boolean字段，一般的命名方法为isXyx</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//读方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isKey</span><span class="params">()</span></span><br><span class="line"><span class="comment">//写方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setKey</span><span class="params">(<span class="type">boolean</span> value)</span></span><br></pre></td></tr></table></figure>
<p>把一组对应的读：getter写：setter方法称为属性：property<br>只有getter的属性称为只读属性（read-only）<br>只有setter的属性称为只写属性（write-only）</p>
<h3 id="枚举类"><a href="#枚举类" class="headerlink" title="枚举类"></a>枚举类</h3><h4 id="enum"><a href="#enum" class="headerlink" title="enum"></a>enum</h4><p>为了让编译器自动检查某个值是否在枚举的集合内，我们使用enum来定义枚举</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Weekday</span> <span class="variable">day</span> <span class="operator">=</span> Weekday.SUN;</span><br><span class="line">        <span class="keyword">if</span> (day == Weekday.SAT || day == Weekday.SUN) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Work at home!&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Work at office!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Weekday</span> &#123;</span><br><span class="line">    SUN, MON, TUE, WED, THU, FRI, SAT;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="使用enum的优势"><a href="#使用enum的优势" class="headerlink" title="使用enum的优势"></a>使用enum的优势</h5><h6 id="其本身自带类型信息，weekday-SUN类型为weekday而不是int，所以不用-比较，编译器可以自己检查出错误"><a href="#其本身自带类型信息，weekday-SUN类型为weekday而不是int，所以不用-比较，编译器可以自己检查出错误" class="headerlink" title="其本身自带类型信息，weekday.SUN类型为weekday而不是int，所以不用&#x3D;&#x3D;比较，编译器可以自己检查出错误"></a>其本身自带类型信息，weekday.SUN类型为weekday而不是int，所以不用&#x3D;&#x3D;比较，编译器可以自己检查出错误</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">day</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (day == Weekday.SUN) &#123; <span class="comment">// Compile error: bad operand types for binary operator &#x27;==&#x27;&#125;</span></span><br></pre></td></tr></table></figure>
<h6 id="不同类型的枚举无法互相比较或者赋值"><a href="#不同类型的枚举无法互相比较或者赋值" class="headerlink" title="不同类型的枚举无法互相比较或者赋值"></a>不同类型的枚举无法互相比较或者赋值</h6><h4 id="enum类型"><a href="#enum类型" class="headerlink" title="enum类型"></a>enum类型</h4><p>通过enum定义的枚举类与其他的class没什么区别，但是他有以下几个特点</p>
<ul>
<li>定义的enum类型总是继承自java.lang.Enum，且无法被继承；</li>
<li>只能定义出enum的实例，而无法通过new操作符创建enum的实例；</li>
<li>定义的每个实例都是引用类型的唯一实例；</li>
<li>可以将enum类型用于switch语句。</li>
</ul>
<h4 id="enum方法"><a href="#enum方法" class="headerlink" title="enum方法"></a>enum方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// name();返回常量名称</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> Weekday.SUN.name(); <span class="comment">// &quot;SUN&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ordinal();返回定义的常量顺序，从0开始计数</span></span><br><span class="line"><span class="type">int</span> n=Weekday.MON.ordinal();<span class="comment">//1</span></span><br></pre></td></tr></table></figure>
<h4 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h4><p>枚举的元素是有限的，易知数据类型的，很适合使用switch</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Weekday</span> <span class="variable">day</span> <span class="operator">=</span> Weekday.SUN;</span><br><span class="line">        <span class="keyword">switch</span>(day) &#123;</span><br><span class="line">        <span class="keyword">case</span> MON:</span><br><span class="line">        <span class="keyword">case</span> TUE:</span><br><span class="line">        <span class="keyword">case</span> WED:</span><br><span class="line">        <span class="keyword">case</span> THU:</span><br><span class="line">        <span class="keyword">case</span> FRI:</span><br><span class="line">            System.out.println(<span class="string">&quot;Today is &quot;</span> + day + <span class="string">&quot;. Work at office!&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> SAT:</span><br><span class="line">        <span class="keyword">case</span> SUN:</span><br><span class="line">            System.out.println(<span class="string">&quot;Today is &quot;</span> + day + <span class="string">&quot;. Work at home!&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;cannot process &quot;</span> + day);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Weekday</span> &#123;</span><br><span class="line">    MON, TUE, WED, THU, FRI, SAT, SUN;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="记录类"><a href="#记录类" class="headerlink" title="记录类"></a>记录类</h3><p>不变类有以下特点：</p>
<ul>
<li>定义class的时候使用final，无法派生子类</li>
<li>每个字段使用final，保证创建实例后无法修改任何字段</li>
</ul>
<p>假设我们希望定义一个Point类，有x、y两个变量，同时它是一个不变类，可以这么写：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Point</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Point</span>(<span class="number">123</span>, <span class="number">456</span>);</span><br><span class="line">        System.out.println(p.x());</span><br><span class="line">        System.out.println(p.y());</span><br><span class="line">        System.out.println(p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//java14开始引入了record类</span></span><br><span class="line"><span class="keyword">record</span> <span class="title class_">Point</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;&#125;</span><br><span class="line"><span class="comment">//将这句话用class的形式来表达那么就是一下这一段：</span></span><br><span class="line"><span class="comment">//final class Point &#123;</span></span><br><span class="line"><span class="comment">//    private final int x;</span></span><br><span class="line"><span class="comment">//    private final int y;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    public Point(int x, int y) &#123;</span></span><br><span class="line"><span class="comment">//        this.x = x;</span></span><br><span class="line"><span class="comment">//        this.y = y;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    public int x() &#123;</span></span><br><span class="line"><span class="comment">//        return this.x;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    public int y() &#123;</span></span><br><span class="line"><span class="comment">//        return this.y;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    public String toString() &#123;</span></span><br><span class="line"><span class="comment">//        return String.format(&quot;Point[x=%s, y=%s]&quot;, x, y);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">////    public boolean equals(Object o) &#123;</span></span><br><span class="line"><span class="comment">////        ...</span></span><br><span class="line"><span class="comment">////    &#125;</span></span><br><span class="line"><span class="comment">////    public int hashCode() &#123;</span></span><br><span class="line"><span class="comment">////        ...</span></span><br><span class="line"><span class="comment">////    &#125;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//相当于record一句话就表达了那么多，十分的好用</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h1><h2 id="Java异常"><a href="#Java异常" class="headerlink" title="Java异常"></a>Java异常</h2><h3 id="Java异常-1"><a href="#Java异常-1" class="headerlink" title="Java异常"></a>Java异常</h3><p>一个健壮的程序必须处理各种各样的错误：</p>
<ul>
<li>比如由用户导致的，希望用户输入一个int类型的年龄，但是用户的输入是abc</li>
<li>又或者是程序想要读写某个文件的内容，但是用户已经把它删除了</li>
<li>网络突然断了，连接不到远程服务器；</li>
<li>内存耗尽，程序崩溃了；</li>
<li>用户点“打印”，但根本没有打印机</li>
<li>等等等</li>
</ul>
<p>所谓错误，就是程序调用某个函数的时候，如果失败了，就表示出错。<br>调用方获知调用失败的方法有两种</p>
<ol>
<li><p>约定返回错误码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例如，处理一个文件，如果返回0，表示成功，</span></span><br><span class="line"><span class="comment">//返回其他整数，表示约定的错误码：</span></span><br><span class="line"><span class="type">int</span> <span class="variable">code</span> <span class="operator">=</span> processFile(<span class="string">&quot;C:\\test.txt&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (code == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// ok:</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// error:</span></span><br><span class="line">    <span class="keyword">switch</span> (code) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="comment">// file not found:</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="comment">// no read permission:</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="comment">// unknown error:</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在语言层面提供一个异常处理机制</p>
<ol>
<li>Java内置了一套异常处理机制，总是使用异常来表示错误。异常是一种class，因此它本身带有类型信息。异常可以在任何地方抛出，但只需要在上层捕获，这样就和方法调用分离了<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> processFile(“C:\\test.txt”);</span><br><span class="line">    <span class="comment">// ok:</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">    <span class="comment">// file not found:</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (SecurityException e) &#123;</span><br><span class="line">    <span class="comment">// no read permission:</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    <span class="comment">// io error:</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    <span class="comment">// other error:</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
异常的类型为class，他的继承关系如下<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1681809186051-6162d07a-b176-4583-b656-062d782ce148.png#averageHue=%23f9f8f8&clientId=ufe3faefd-4e66-4&from=paste&height=378&id=u6fd47c32&originHeight=567&originWidth=806&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=26111&status=done&style=none&taskId=uc37f6d45-798d-4bf2-b951-7b2f0b6732f&title=&width=537.3333333333334" alt="image.png"><br>Throwable是异常体系的根，它继承自Object。Throwable有两个体系：Error和Exception<br>Error表示严重的错误，程序对此一般无能为力，比如：</li>
</ol>
</li>
</ol>
<ul>
<li>OutOfMemoryError：内存耗尽</li>
<li>NoClassDefFoundError：无法加载某个class</li>
<li>StackOverflowError：栈溢出</li>
</ul>
<p>Exception是指运行中出现的错误，可以被捕获和处理</p>
<ul>
<li>异常是逻辑处理的一部分，应该被捕获并处理<ul>
<li>NumberFormatException：数值类型的格式错误</li>
<li>FileNotFoundException：未找到文件</li>
<li>SocketException：读取网络失败</li>
</ul>
</li>
<li>程序逻辑编写不对，修复程序本身<ul>
<li>NumberFormatExeption: 数值类型格式错误</li>
<li>FileNotFoundException: 未找到文件</li>
<li>SocketException： 读取网络失败</li>
</ul>
</li>
<li>一些异常是程序逻辑编写不对造成的，应该修复程序本身<ul>
<li>NullPointerException：对某个null的对象调用方法或字段</li>
<li>IndexOutOfBoundsException：数组索引越界</li>
</ul>
</li>
</ul>
<p>Eeception分为两类：</p>
<ol>
<li>RuntimeException以及它的子类；</li>
<li>非RuntimeException（包括IOException、ReflectiveOperationException等等）</li>
</ol>
<p>Java规定，</p>
<ul>
<li>必须捕获的异常，包括Exception及其子类，但不包括RuntimeException及其子类，这种类型的异常称为Checked Exception。</li>
<li>不需要捕获的异常，包括Error及其子类，RuntimeException及其子类不是指不处理。（不是指不处理，而是编译器对RuntimeException及其子类不做强制捕获要求，不是指应用程序本身不应该捕获并处理RuntimeException。是否需要捕获，具体问题具体分析。）</li>
</ul>
<h3 id="捕获异常"><a href="#捕获异常" class="headerlink" title="捕获异常"></a>捕获异常</h3><p>捕获异常使用try…catch语句，把可能有问题的放在try里面，然后在catch中捕获对应的Exception以及其子类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="keyword">import</span> java.lang.String;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="comment">//public class Main&#123;</span></span><br><span class="line"><span class="comment">//    public static void main(String[] args)&#123;</span></span><br><span class="line"><span class="comment">//        byte[] bs=toGBK(&quot;中文&quot;);</span></span><br><span class="line"><span class="comment">//        System.out.println(Arrays.toString(bs));</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    static bytes[] toGBK(String s)&#123;</span></span><br><span class="line"><span class="comment">//        return s.getBytes(&quot;GBK&quot;);</span></span><br><span class="line"><span class="comment">//        //报错：Unhandled exception: java.io.UnsupportedEncodingException</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">byte</span>[] bs = toGBK(<span class="string">&quot;中文&quot;</span>);</span><br><span class="line">        System.out.println(Arrays.toString(bs));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="type">byte</span>[] toGBK(String s) &#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">//try transform String to byte[] with GBK</span></span><br><span class="line">            <span class="keyword">return</span> s.getBytes(<span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(UnsupportedEncodingException e)&#123;</span><br><span class="line">            <span class="comment">//如果系统不支持，会捕获到以下信息</span></span><br><span class="line">            UnsupportedEncodingException:</span><br><span class="line">            System.out.println((e));<span class="comment">//打印异常信息</span></span><br><span class="line">            <span class="keyword">return</span> s.getBytes();    <span class="comment">//尝试使用默认的编码</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在toGBK()方法中，因为调用了String.getBytes(String)方法，就必须捕获UnsupportedEncodingException。我们也可以不捕获它，而是在方法定义处用throws表示toGBK()方法可能会抛出UnsupportedEncodingException</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="keyword">import</span> java.lang.String;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">//public class Main&#123;</span></span><br><span class="line"><span class="comment">//    public static void main(String[] args)&#123;</span></span><br><span class="line"><span class="comment">//        byte[] bs=toGBK(&quot;中文&quot;);</span></span><br><span class="line"><span class="comment">//        System.out.println(Arrays.toString(bs));</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    static byte[] toGBK(String s)throws</span></span><br><span class="line"><span class="comment">//            UnsupportedEncodingException&#123;</span></span><br><span class="line"><span class="comment">//        return s.getBytes(&quot;GBK&quot;);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    //error:java: 未报告的异常错误java.io.UnsupportedEncodingException; 必须对其进行捕获或声明以便抛出</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//public class Main&#123;</span></span><br><span class="line"><span class="comment">//    public static void main(String[] args)&#123;</span></span><br><span class="line"><span class="comment">//        //修复方法，在main函数里面捕获异常并且处理</span></span><br><span class="line"><span class="comment">//        try&#123;</span></span><br><span class="line"><span class="comment">//            byte[] bs=toGBK(&quot;中文&quot;);</span></span><br><span class="line"><span class="comment">//            System.out.println(Arrays.toString(bs));</span></span><br><span class="line"><span class="comment">//        &#125;catch(UnsupportedEncodingException e)&#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(e);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    static byte[] toGBK(String s)throws</span></span><br><span class="line"><span class="comment">//            UnsupportedEncodingException&#123;</span></span><br><span class="line"><span class="comment">//        return s.getBytes(&quot;GBK&quot;);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//如果是测试代码，不想写任何try代码，可以直接把main()方法定义为throws Exceptio</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">byte</span>[] bs = toGBK(<span class="string">&quot;中文&quot;</span>);</span><br><span class="line">        System.out.println(Arrays.toString(bs));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="type">byte</span>[] toGBK(String s) <span class="keyword">throws</span> UnsupportedEncodingException &#123;</span><br><span class="line">        <span class="comment">// 用指定编码转换String为byte[]:</span></span><br><span class="line">        <span class="keyword">return</span> s.getBytes(<span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="多catch语句"><a href="#多catch语句" class="headerlink" title="多catch语句"></a>多catch语句</h5><p>每个catch分别捕获对应的异常，自上而下的逐个匹配，捕获到以后便执行catch代码块，此后不再继续匹配<br>存在多个catch的时候，catch的顺序非常重要：子类必须写在前面。否则，后面的catch永远捕获不到。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        process1();</span><br><span class="line">        process2();</span><br><span class="line">        process3();</span><br><span class="line">        System.out.println(<span class="string">&quot;END&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Bad encoding&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;END&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;IO error&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;END&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//上述代码无论是否发生异常，都会执行System.out.println(&quot;END&quot;);这条语句。</span></span><br></pre></td></tr></table></figure>
<h5 id="使用finally语句，保证语句块不管有无错误都要执行："><a href="#使用finally语句，保证语句块不管有无错误都要执行：" class="headerlink" title="使用finally语句，保证语句块不管有无错误都要执行："></a>使用finally语句，保证语句块不管有无错误都要执行：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        process1();</span><br><span class="line">        process2();</span><br><span class="line">        process3();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Bad encoding&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;IO error&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;END&quot;</span>);</span><br><span class="line">    &#125;<span class="comment">//finally语句块总在最后执行</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="捕获多种异常"><a href="#捕获多种异常" class="headerlink" title="捕获多种异常"></a>捕获多种异常</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        process1();</span><br><span class="line">        process2();</span><br><span class="line">        process3();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Bad input&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (NumberFormatException e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Bad input&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Unknown error&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//IOException与NumberFormatException处理方法相同，可以合并</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        process1();</span><br><span class="line">        process2();</span><br><span class="line">        process3();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException | NumberFormatException e) &#123; <span class="comment">// IOException或NumberFormatException</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Bad input&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Unknown error&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="抛出异常"><a href="#抛出异常" class="headerlink" title="抛出异常"></a>抛出异常</h3><h5 id="异常传播"><a href="#异常传播" class="headerlink" title="异常传播"></a>异常传播</h5><p>若某个方法内抛出了异常，而这方法没有对应的catch来捕获异常，异常就会被抛到上层调用方法<br>在Java中，try-catch-finally的异常处理机制，包括以下几种情况：</p>
<ol>
<li>不抛出异常，try里面的代码、finally里面的代码、finally以后的代码都将正常执行，而catch里面的代码不会执行</li>
<li>抛出异常且被catch捕获，try里面的代码部分执行，catch里面的代码、finally里面的代码、finally以后的代码都将正常执行。</li>
<li>抛出异常，但未被catch捕获，try里面的代码部分执行，catch里面的代码不执行，finally里面的代码正常执行，finally以后的代码不执行</li>
</ol>
<h5 id="printStackTrace"><a href="#printStackTrace" class="headerlink" title="printStackTrace()"></a>printStackTrace()</h5><p>这个方法可以打印出方法的调用栈</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            process(<span class="literal">null</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">process</span><span class="params">(String s)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s==<span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1682039774455-c598dfe0-b521-40d8-9b4e-25a6715f6f01.png#averageHue=%232f2d2d&clientId=u62c737c8-8db7-4&from=paste&height=145&id=u7f2deb9c&originHeight=218&originWidth=808&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=26955&status=done&style=none&taskId=u848aad98-27d3-44d1-b9af-5933df12646&title=&width=538.6666666666666" alt="image.png"><br>会展示定位对应行号</p>
<h5 id="抛出异常-1"><a href="#抛出异常-1" class="headerlink" title="抛出异常"></a>抛出异常</h5><ol>
<li>先创建一个Exception实例</li>
<li>用throw抛出<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">process2</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s==<span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="type">NullPointerException</span> <span class="variable">e</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>();</span><br><span class="line">        <span class="keyword">throw</span> e;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 可以简化成为一句</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">process2</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s==<span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="抛出类型转换"><a href="#抛出类型转换" class="headerlink" title="抛出类型转换"></a>抛出类型转换</h5><p>如果一个方法捕获了一个异常，但是在后面的catch中抛出了新的异常，就相当于把这个异常转换了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">process1</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        process2();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (NullPointerException e) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">process2</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s==<span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//当process2()抛出NullPointerException后，被process1()捕获，</span></span><br><span class="line"><span class="comment">// 然后抛出IllegalArgumentException()。</span></span><br></pre></td></tr></table></figure>
<p>检查一下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            process1();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">process1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            process2();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NullPointerException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">process2</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">打印出来的：</span><br><span class="line">java.lang.IllegalArgumentException</span><br><span class="line">	at Main.process1(Main.java:<span class="number">585</span>)</span><br><span class="line">	at Main.main(Main.java:<span class="number">575</span>)</span><br><span class="line"></span><br><span class="line">可以<span class="comment">//看到原始异常信息已经丢失了</span></span><br><span class="line">为了<span class="comment">//可以追踪到完整的异常栈，我们可以把原本的Exception的实例传进去新的实例</span></span><br><span class="line">    <span class="comment">//14行改为：</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(e);</span><br><span class="line">此时打印异常栈如下</span><br><span class="line">java.lang.IllegalArgumentException: java.lang.NullPointerException</span><br><span class="line">	at Main.process1(Main.java:<span class="number">585</span>)</span><br><span class="line">	at Main.main(Main.java:<span class="number">575</span>)</span><br><span class="line">Caused by: java.lang.NullPointerException</span><br><span class="line">	at Main.process2(Main.java:<span class="number">590</span>)</span><br><span class="line">	at Main.process1(Main.java:<span class="number">583</span>)</span><br><span class="line">	... <span class="number">1</span> more</span><br></pre></td></tr></table></figure>
<h5 id="异常屏蔽"><a href="#异常屏蔽" class="headerlink" title="异常屏蔽"></a>异常屏蔽</h5><p>finally抛出异常后，原来在catch中准备抛出的异常就“消失”了，因为只能抛出一个异常。没有被抛出的异常称为“被屏蔽”的异常（Suppressed Exception）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Integer.parseInt(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;catched&quot;</span>);</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;finally&quot;</span>);</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在极少数的情况下，我们需要获知所有的异常。如何保存所有的异常信息？方法是先用origin变量保存原始异常，然后调用Throwable.addSuppressed()，把原始异常添加进来，最后在finally抛出：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Exception</span> <span class="variable">origin</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(Integer.parseInt(<span class="string">&quot;abc&quot;</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            origin = e;</span><br><span class="line">            <span class="keyword">throw</span> e;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="type">Exception</span> <span class="variable">e</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>();</span><br><span class="line">            <span class="keyword">if</span> (origin != <span class="literal">null</span>) &#123;</span><br><span class="line">                e.addSuppressed(origin);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">throw</span> e;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="注意，向别人提问异常问题，一定要附上异常栈"><a href="#注意，向别人提问异常问题，一定要附上异常栈" class="headerlink" title="注意，向别人提问异常问题，一定要附上异常栈"></a>注意，向别人提问异常问题，一定要附上异常栈</h5><h3 id="自定义异常"><a href="#自定义异常" class="headerlink" title="自定义异常"></a>自定义异常</h3><h5 id="java定义的常用异常："><a href="#java定义的常用异常：" class="headerlink" title="java定义的常用异常："></a>java定义的常用异常：</h5><ul>
<li>Exception<ul>
<li>RuntimeException<ul>
<li>NullPointerException</li>
<li>IndexOutOfBoundsException</li>
<li>SecurityException</li>
<li>IllegalArgumentException(非法参数异常)<ul>
<li>NumberFormatException(数字格式异常)</li>
</ul>
</li>
</ul>
</li>
<li>IOException<ul>
<li>UnSupportedCharsetException</li>
<li>FileNotFoundException</li>
<li>SocketException()</li>
</ul>
</li>
<li>ParseException</li>
<li>GeneralSecurityException</li>
<li>SQLException</li>
<li>TimeOutException</li>
</ul>
</li>
</ul>
<h5 id="自定义异常类型"><a href="#自定义异常类型" class="headerlink" title="自定义异常类型"></a>自定义异常类型</h5><p>大型项目中，可以定义新的异常类型，但是要保持一个合理的异常继承体系，一个常见的做法是自定义一个BaseException作为“根异常”，然后，派生出各种业务类型的异常</p>
<h3 id="NullPointerException"><a href="#NullPointerException" class="headerlink" title="NullPointerException"></a>NullPointerException</h3><p>这是一个很常见的runtimeException异常，简称NPE，如果一个对象为null，调用其方法或访问其字段就会产生NullPointerException，这个异常通常是由JVM抛出的，这是一种代码逻辑错误</p>
<h5 id="如何处理"><a href="#如何处理" class="headerlink" title="如何处理"></a>如何处理</h5><p>原则：早暴露，早修复，严禁使用catch来隐藏这种编码错误<br>养成良好的编程习惯可以有效避免这些错误：</p>
<ul>
<li><p>成员变量在定义时初始化</p>
</li>
<li><p>使用空字符串””而不是默认的null</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String[] readLinesFromFile(String file) &#123;</span><br><span class="line">    <span class="keyword">if</span> (getFileSize(file) == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// 返回空数组而不是null:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//返回空字符串&quot;&quot;、空数组而不是null</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如果调用方一定要根据null判断，比如返回null表示文件不存在，那么考虑返回Optional<T></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Optional&lt;String&gt; <span class="title function_">readFromFile</span><span class="params">(String file)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!fileExist(file)) &#123;</span><br><span class="line">        <span class="keyword">return</span> Optional.empty();</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用方必须通过Optional.isPresent()判断是否有结果 </span></span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="定位报错位置"><a href="#定位报错位置" class="headerlink" title="定位报错位置"></a>定位报错位置</h5><p>从Java 14开始，如果产生了NullPointerException，JVM可以给出详细的信息告诉我们null对象到底是谁</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        System.out.println(p.address.city.toLowerCase());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    String[] name = <span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">2</span>];</span><br><span class="line">    <span class="type">Address</span> <span class="variable">address</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Address</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Address</span> &#123;</span><br><span class="line">    String city;</span><br><span class="line">    String street;</span><br><span class="line">    String zipcode;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//意思是city字段为null</span></span><br><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.lang.NullPointerException: Cannot invoke <span class="string">&quot;String.toLowerCase()&quot;</span> because <span class="string">&quot;p.address.city&quot;</span> is <span class="literal">null</span></span><br><span class="line">	at Main.main(Main.java:<span class="number">597</span>)</span><br></pre></td></tr></table></figure>
<h3 id="断言"><a href="#断言" class="headerlink" title="断言"></a>断言</h3><p>断言是一种调试的方式，断言不能用于可恢复的程序错误，只应该用于开发和测试阶段。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">double</span> <span class="variable">x</span> <span class="operator">=</span> Math.abs(-<span class="number">123.45</span>);</span><br><span class="line">    <span class="keyword">assert</span> x &gt;= <span class="number">0</span>;</span><br><span class="line">    System.out.println(x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//断言条件x &gt;= 0预期为true。如果计算结果为false，</span></span><br><span class="line"><span class="comment">//则断言失败，抛出AssertionError，程序结束退出</span></span><br><span class="line"></span><br><span class="line">如果使用时在后面用冒号添加了语句，那么如果异常，在抛出的时候会携带这个信息</span><br><span class="line"><span class="keyword">assert</span> x &gt;= <span class="number">0</span> : <span class="string">&quot;x must &gt;= 0&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>JVM默认关闭断言指令，即遇到assert语句就自动忽略了，不执行。<br>要执行assert语句，必须给Java虚拟机传递-enableassertions（可简写为-ea）参数启用断言</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ java -ea Main.java</span><br><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.lang.AssertionError</span><br><span class="line">	at Main.main(Main.java:<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者有选择的对某个包，特定类进行启用断言</span></span><br><span class="line">命令行参数是：-ea:com.itranswarp.sample.Main，</span><br><span class="line">表示只对com.itranswarp.sample.Main这个类启用断言</span><br></pre></td></tr></table></figure>

<h3 id="JDK-Logging"><a href="#JDK-Logging" class="headerlink" title="JDK Logging"></a>JDK Logging</h3><p>调试时，有问题需要System.out.println()来逐个观察变量，很麻烦，我们可以使用日志Logging<br>使用输出日志比System.out.println()有以下几个好处</p>
<ol>
<li>可以设置输出样式，避免自己每次都写”ERROR: “ + var；</li>
<li>可以设置输出级别，禁止某些级别输出。例如，只输出错误日志；</li>
<li>可以被重定向到文件，这样可以在程序运行结束后查看日志；</li>
<li>可以按包名控制日志级别，只输出某些包打的日志；</li>
<li>可以……</li>
</ol>
<p>使用日志——java内置了日志包java.util.logging</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// logging</span></span><br><span class="line"><span class="keyword">import</span> java.util.logging.Level;</span><br><span class="line"><span class="keyword">import</span> java.util.logging.Logger;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> Logger.getGlobal();</span><br><span class="line">        logger.info(<span class="string">&quot;start process...&quot;</span>);</span><br><span class="line">        logger.warning(<span class="string">&quot;memory is running out...&quot;</span>);</span><br><span class="line">        logger.fine(<span class="string">&quot;ignored.&quot;</span>);</span><br><span class="line">        logger.severe(<span class="string">&quot;process will be terminated...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1682181460605-7023ef37-786c-4741-a9a3-7275aa098181.png#averageHue=%23332d2d&clientId=u0f67d096-99e0-4&from=paste&height=188&id=u30ad31d5&originHeight=282&originWidth=577&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=29193&status=done&style=none&taskId=ucadfefa2-38e1-4c6f-80c8-bd54b6a85e5&title=&width=384.6666666666667" alt="image.png"></p>
<p>JDK的logging定义了七个日志级别</p>
<ul>
<li>SEVERE</li>
<li>WARNING</li>
<li>INFO</li>
<li>CONFIG</li>
<li>FINE</li>
<li>FINER</li>
<li>FINEST</li>
</ul>
<p>默认级别时INFO，在INFO级别以下的日志不会被打印。调整级别，可以过滤调整相关日志输出</p>
<h6 id="注意：-1"><a href="#注意：-1" class="headerlink" title="注意："></a>注意：</h6><p>Logging系统在JVM启动时读取配置文件并完成初始化，一旦开始运行main()方法，就无法修改配置；<br>配置不太方便，需要在JVM启动时传递参数-Djava.util.logging.config.file&#x3D;<config-file-name>。<br>因此，Java标准库内置的Logging使用并不是非常广泛。</p>
<h1 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h1><p>Java的反射是指程序在运行期可以拿到一个对象的所有信息。<br>反射是为了解决在运行期，对某个实例一无所知的情况下，如何调用其方法。</p>
<h4 id="Class类"><a href="#Class类" class="headerlink" title="Class类"></a>Class类</h4><p>除了int等基本类型外，Java的其他类型全部都是class（包括interface）<br>由此，我们可以反向思考：class（包括interface） 的本质——数据类型<br>没有继承关系的数据类型无法赋值<br>class由JVM动态加载，第一次读取时，将其加载进内存（每加载一种class，为其创建一个class类型的实例并关联起来）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//名字叫做class的class</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Class</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Class</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>JVM持有的每个class实例都指向一个数据类型：class or interface<br>一个Class实例包含了该class的所有完整信息<br>如果获取了某个Class实例，我们就可以通过这个Class实例获取到该实例对应的class的所有信息。</p>
<h5 id="获取一个class的Class实例"><a href="#获取一个class的Class实例" class="headerlink" title="获取一个class的Class实例"></a>获取一个class的Class实例</h5><ol>
<li><p>直接通过一个class的静态变量class获取</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">cls</span> <span class="operator">=</span>String.class;</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果我们有一个实例变量，可以通过该实例变量提供的getClass()方法获取：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">Class</span> <span class="variable">cls</span> <span class="operator">=</span> s.getClass();</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果知道一个class的完整类名，可以通过静态方法Class.forName()获取</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">cls</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;java.lang.String&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>我们也可以用instance来判断数据类型：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Integer</span> <span class="variable">n</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">123</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="variable">b1</span> <span class="operator">=</span> n <span class="keyword">instanceof</span> Integer; <span class="comment">// true，因为n是Integer类型</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">b2</span> <span class="operator">=</span> n <span class="keyword">instanceof</span> Number; <span class="comment">// true，因为n是Number类型的子类</span></span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="variable">b3</span> <span class="operator">=</span> n.getClass() == Integer.class; <span class="comment">// true，因为n.getClass()返回Integer.class</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">b4</span> <span class="operator">=</span> n.getClass() == Number.class; <span class="comment">// false，因为Integer.class!=Number.class</span></span><br></pre></td></tr></table></figure>
<p>显然，用instanceof不但匹配指定类型，还匹配指定类型的子类。而用&#x3D;&#x3D;判断class实例可以精确地判断数据类型，但不能作子类型比较。</p>
</li>
</ol>
<h1 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h1><p>泛型就是一套代码模板</p>
<h4 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h4><p>java标准库中提供的ArrayList，相当于可变长度的数组<br>其内部就是一个Object []的数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayList</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Object[] array;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> size;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Object e)</span> &#123;...&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(<span class="type">int</span> index)</span> &#123;...&#125;</span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span> &#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//可以看到，它的get的返回类型为Object，</span></span><br><span class="line"><span class="comment">// 如果用来存储String类型，则需要强制转型</span></span><br><span class="line">    <span class="comment">// 例如：</span></span><br><span class="line"><span class="type">ArrayList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">list.add(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line"><span class="comment">// 获取到Object，必须强制转型为String:</span></span><br><span class="line"><span class="type">String</span> <span class="variable">first</span> <span class="operator">=</span> (String) list.get(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">但是，当</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h1><h3 id="多线程基础"><a href="#多线程基础" class="headerlink" title="多线程基础"></a>多线程基础</h3><p>在计算机中，我们把一个任务称为一个进程。<br>进程和线程的关系就是：一个进程可以包含一个或多个线程，但至少会有一个线程。线程是操作系统调度的最小任务单位</p>
<h5 id="实现多任务的方法有以下三种："><a href="#实现多任务的方法有以下三种：" class="headerlink" title="实现多任务的方法有以下三种："></a>实现多任务的方法有以下三种：</h5><p>多进程模式（每个进程一个线程）<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1687229241481-6e9d7032-3d37-4cd6-b308-efe0ea3dc1ca.png#averageHue=%23f1efee&clientId=ub7cccc2f-e8f2-4&from=paste&height=96&id=ub6b730c4&originHeight=144&originWidth=502&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=8432&status=done&style=none&taskId=ueafb7ba7-dbfb-4b8f-a1f6-943b789b19a&title=&width=334.6666666666667" alt="image.png"><br>多线程模式（一个进程多个线程）<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1687229265543-4749acc3-5a5a-49b7-a887-a12fe4033bb3.png#averageHue=%23f0efee&clientId=ub7cccc2f-e8f2-4&from=paste&height=142&id=u7db151a6&originHeight=213&originWidth=301&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=5656&status=done&style=none&taskId=u717f1926-a4b2-4003-8e48-6c1d34ce934&title=&width=200.66666666666666" alt="image.png"><br>多进程+多线程模式<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1687229290457-796b8a6f-1af8-4909-9aab-c6d129638b4b.png#averageHue=%23eeeceb&clientId=ub7cccc2f-e8f2-4&from=paste&height=131&id=u48cd877a&originHeight=197&originWidth=473&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=12265&status=done&style=none&taskId=u3f0bbe48-1835-44ae-a7ff-a0af97923ad&title=&width=315.3333333333333" alt="image.png"></p>
<h5 id="与多线程相比，多进程的优缺点"><a href="#与多线程相比，多进程的优缺点" class="headerlink" title="与多线程相比，多进程的优缺点"></a>与多线程相比，多进程的优缺点</h5><h6 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h6><ul>
<li>创建进程比创建线程开销大，尤其是在Windows系统上；</li>
<li>进程间通信比线程间通信要慢，因为线程间通信就是读写同一个变量，速度很快。</li>
</ul>
<h6 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h6><ul>
<li>多进程稳定性比多线程高，因为在多进程的情况下，一个进程崩溃不会影响其他进程，而在多线程的情况下，任何一个线程崩溃会直接导致整个进程崩溃。</li>
</ul>
<h3 id="创建新线程"><a href="#创建新线程" class="headerlink" title="创建新线程"></a>创建新线程</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个新线程只需要实例化一个Thread，然后调用start方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>();</span><br><span class="line">        t.start(); <span class="comment">// 启动新线程</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//这样启动的线程啥都没干就结束了</span></span><br><span class="line"><span class="comment">//可以派生一个类，然后覆写run方法，start后会自动调用run方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        Thread t=<span class="keyword">new</span> <span class="title class_">myThread</span>();</span><br><span class="line">        t.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;start the thread&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//或者采用下面这一种写法，通过传入一个实例</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        Thread t=<span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>);</span><br><span class="line">        t.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Runnable</span> implements &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;start new thread!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="在这里，顺带了解一下Runnable接口"><a href="#在这里，顺带了解一下Runnable接口" class="headerlink" title="在这里，顺带了解一下Runnable接口"></a>在这里，顺带了解一下Runnable接口</h5><ul>
<li>该接口是线程辅助类，仅仅定义了一个run方法</li>
<li>用来实现多线程，Runnable接口的run方法可以被多个线程共享，适用于多个进程处理同一种资源的情况</li>
</ul>
<h5 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h5><ol>
<li>实现Runnable接口</li>
<li>重写run方法</li>
<li>创建runnable实例</li>
<li>创建Thread实例</li>
<li>把Runnable实例放进Thread实例中</li>
<li>线程运行时会调用Runnable接口中的run方法<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Runnable方法实现有两种方式</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//标准方式</span></span><br><span class="line">...</span><br><span class="line">		<span class="comment">//2.创建MyRunnable实例</span></span><br><span class="line">        MyRunnable runnable=<span class="keyword">new</span> <span class="title class_">MyRunnable</span>();</span><br><span class="line">        <span class="comment">//3.创建Thread对象</span></span><br><span class="line">        <span class="comment">//4.将MyRunnable放入Thread实例中</span></span><br><span class="line">        Thread thread=<span class="keyword">new</span> <span class="title class_">Thread</span>(runnable);</span><br><span class="line">        <span class="comment">//5.通过线程对象操作线程(运行、停止)</span></span><br><span class="line">        thread.start();</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//匿名方式</span></span><br><span class="line"> 		<span class="type">Runnable</span> <span class="variable">runnable</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">//2.创建线程对象</span></span><br><span class="line">        <span class="comment">//3.将runnable实例放入线程对象中</span></span><br><span class="line">        Thread thread=<span class="keyword">new</span> <span class="title class_">Thread</span>(runnable);</span><br><span class="line">        <span class="comment">//4.由线程实例控制线程的行为(运行，停止)</span></span><br><span class="line">        thread.start();</span><br><span class="line"></span><br><span class="line"><span class="comment">//java8引入的lambda语法</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        Thread t=<span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;start new thread!&quot;</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="线程的优先级"><a href="#线程的优先级" class="headerlink" title="线程的优先级"></a>线程的优先级</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置优先级方法</span></span><br><span class="line">Thread.setpriority(<span class="type">int</span> n)<span class="comment">//1`10,默认5</span></span><br></pre></td></tr></table></figure>
<h3 id="线程状态"><a href="#线程状态" class="headerlink" title="线程状态"></a>线程状态</h3><p>Java线程状态有以下几种</p>
<ul>
<li>New：新创建的线程，尚未执行；</li>
<li>Runnable：运行中的线程，正在执行run()方法的Java代码；</li>
<li>Blocked：运行中的线程，因为某些操作被阻塞而挂起；</li>
<li>Waiting：运行中的线程，因为某些操作在等待中；</li>
<li>Timed Waiting：运行中的线程，因为执行sleep()方法正在计时等待；</li>
<li>Terminated：线程已终止，因为run()方法执行完毕。</li>
</ul>
<p> 线程终止的原因有以下几种</p>
<ul>
<li>正常终止：run（）方法结束，执行到return返回</li>
<li>意外终止：因为未捕获的异常导致线程终止</li>
<li>强行终止：调用stop方法（不建议使用）</li>
</ul>
<h5 id="join-方法"><a href="#join-方法" class="headerlink" title="join()方法"></a>join()方法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 调用join方法可以使线程等待另外一个线程运行结束后再继续运行</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        Thread t=<span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;start new thread!&quot;</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println(<span class="string">&quot;start&quot;</span>);</span><br><span class="line">        t.start();</span><br><span class="line">        t.join();		<span class="comment">//让t先执行完</span></span><br><span class="line">        System.out.println(<span class="string">&quot;end&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="中断线程"><a href="#中断线程" class="headerlink" title="中断线程"></a>中断线程</h3><p>中断线程就是其他线程给该线程发一个信号，该线程收到信号后结束执行run()方法，使得自身线程能立刻结束运行。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//中断一个线程只需要调用interrupt方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException&#123;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">myThread</span>();</span><br><span class="line">        t.start();</span><br><span class="line">        Thread.sleep(<span class="number">1</span>); <span class="comment">// 暂停1毫秒</span></span><br><span class="line">        t.interrupt(); <span class="comment">// 中断t线程</span></span><br><span class="line">        t.join(); <span class="comment">// 等待t线程结束</span></span><br><span class="line">        System.out.println(<span class="string">&quot;end&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;end&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (! isInterrupted()) &#123;</span><br><span class="line">            n ++;</span><br><span class="line">            System.out.println(n + <span class="string">&quot; hello!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="线程间共享变量用volatile声明"><a href="#线程间共享变量用volatile声明" class="headerlink" title="线程间共享变量用volatile声明"></a>线程间共享变量用volatile声明</h5><p>volatile关键字解决的是可见性问题：当一个线程修改了某个共享变量的值，其他线程能够立刻看到修改后的值。</p>
<h3 id="守护线程"><a href="#守护线程" class="headerlink" title="守护线程"></a>守护线程</h3><p>java程序入口就是main线程，这个由jvm启动，然后main线程启动其他线程，当所有线程结束运行，jvm关闭<br>但是有的线程不会结束，这个时候，可以设置为守护线程<br>守护线程是指为其他线程服务的线程，创建守护线程需要在调用start方法前，调用setDaemon(true)则可标记该线程为守护线程。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Thread t=<span class="keyword">new</span> <span class="title class_">MyThread</span>(); </span><br><span class="line">t.setDaemon(<span class="literal">true</span>);</span><br><span class="line">t.start();</span><br></pre></td></tr></table></figure>
<p>然后注意，守护线程不能使用任何需要关闭的资源</p>
<h3 id="线程同步"><a href="#线程同步" class="headerlink" title="线程同步"></a>线程同步</h3><p>两个线程对同一个变量进行操作时，可能得到的结果并不正确<br>比如两个线程同时对n&#x3D;100执行加1操作<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1687523432648-cabacfb6-aee6-4d0e-bc2a-83976f067c6f.png#averageHue=%23f8f7f6&clientId=u9c64424b-6a60-4&from=paste&height=183&id=u9200ddfb&originHeight=247&originWidth=431&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=14785&status=done&style=none&taskId=u8d624ea6-ba7c-4c41-b390-d16375dc64e&title=&width=319.2592818125465" alt="image.png"><br>多线程模型下，要保证逻辑正确，要保证一组指令以原子方式执行<br><img src="https://cdn.nlark.com/yuque/0/2023/png/32640305/1687523485462-cc688449-c540-41d6-aa06-e77cef667cad.png#averageHue=%23f9f8f7&clientId=u9c64424b-6a60-4&from=paste&height=245&id=u3fa5cced&originHeight=331&originWidth=458&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=19982&status=done&style=none&taskId=ub058662c-0f8f-4676-8a95-2558fbd620e&title=&width=339.2592832253974" alt="image.png"><br>即通过加锁解锁方式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//我们可以使用synchronized关键字来对一个对象加锁</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">var</span> <span class="variable">add</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AddThread</span>();</span><br><span class="line">        <span class="type">var</span> <span class="variable">dec</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DecThread</span>();</span><br><span class="line">        add.start();</span><br><span class="line">        dec.start();</span><br><span class="line">        add.join();</span><br><span class="line">        dec.join();</span><br><span class="line">        System.out.println(Counter.count);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Object</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AddThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i&lt;<span class="number">10000</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span>(Counter.lock) &#123;</span><br><span class="line">                Counter.count += <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DecThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i&lt;<span class="number">10000</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span>(Counter.lock) &#123;</span><br><span class="line">                Counter.count -= <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>它表示用Counter.lock实例作为锁，两个线程在执行各自的synchronized(Counter.lock) { … }代码块时，必须先获得锁，才能进入代码块进行。执行结束后，在synchronized语句块结束会自动释放锁。这样一来，对Counter.count变量进行读写就不可能同时进行。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/03/28/java/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" data-id="cluc2gj35000qac6zddcoaziu" data-title="JavaStudy" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Kategorien</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">March 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/03/29/linux/%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF/">发送消息</a>
          </li>
        
          <li>
            <a href="/2024/03/29/linux/%E6%8C%89%E6%97%B6%E5%BD%92%E6%A1%A3%E6%96%87%E4%BB%B6/">安置归档文件</a>
          </li>
        
          <li>
            <a href="/2024/03/28/JavaScript/JavaScriptStudy/">JavaScriptStudy</a>
          </li>
        
          <li>
            <a href="/2024/03/28/linux/Linux%E6%A6%82%E8%BF%B0/">Linux概述</a>
          </li>
        
          <li>
            <a href="/2024/03/28/linux/Linux%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/">Linux基本操作</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 XiaoLi<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>